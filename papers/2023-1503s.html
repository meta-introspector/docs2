<!DOCTYPE html><html>
<head>
<title></title>
<style type="text/css">
<!--
.xflip {
    -moz-transform: scaleX(-1);
    -webkit-transform: scaleX(-1);
    -o-transform: scaleX(-1);
    transform: scaleX(-1);
    filter: fliph;
}
.yflip {
    -moz-transform: scaleY(-1);
    -webkit-transform: scaleY(-1);
    -o-transform: scaleY(-1);
    transform: scaleY(-1);
    filter: flipv;
}
.xyflip {
    -moz-transform: scaleX(-1) scaleY(-1);
    -webkit-transform: scaleX(-1) scaleY(-1);
    -o-transform: scaleX(-1) scaleY(-1);
    transform: scaleX(-1) scaleY(-1);
    filter: fliph + flipv;
}
-->
</style>
</head>
<body>
<a name=1></a>zk-Bench:&#160;A&#160;Toolset&#160;for&#160;Comparative&#160;Evaluation&#160;and<br/>Performance&#160;Benchmarking&#160;of&#160;SNARKs<br/>
JENS&#160;ERNSTBERGER,&#160;Technical&#160;University&#160;of&#160;Munich,&#160;Germany<br/>STEFANOS&#160;CHALIASOS,&#160;Imperial&#160;College&#160;London,&#160;United&#160;Kingdom<br/>GEORGE&#160;KADIANAKIS,&#160;Ethereum&#160;Foundation,&#160;Greece<br/>SEBASTIAN&#160;STEINHORST,&#160;Technical&#160;University&#160;of&#160;Munich,&#160;Germany<br/>PHILIPP&#160;JOVANOVIC,&#160;University&#160;College&#160;London,&#160;United&#160;Kingdom<br/>ARTHUR&#160;GERVAIS,&#160;University&#160;College&#160;London,&#160;United&#160;Kingdom<br/>BENJAMIN&#160;LIVSHITS,&#160;Imperial&#160;College&#160;London,&#160;United&#160;Kingdom<br/>MICHELE&#160;ORR√ô,&#160;Centre&#160;National&#160;de&#160;la&#160;Recherche&#160;Scientifique,&#160;France<br/>
Zero-Knowledge&#160;Proofs&#160;(ZKPs),&#160;especially&#160;Succinct&#160;Non-interactive&#160;ARguments&#160;of&#160;Knowledge&#160;(SNARKs),&#160;have<br/>garnered&#160;significant&#160;attention&#160;in&#160;modern&#160;cryptographic&#160;applications.&#160;Given&#160;the&#160;multitude&#160;of&#160;emerging&#160;tools<br/>and&#160;libraries,&#160;assessing&#160;their&#160;strengths&#160;and&#160;weaknesses&#160;is&#160;nuanced&#160;and&#160;time-consuming.&#160;Often,&#160;claimed&#160;results<br/>are&#160;generated&#160;in&#160;isolation,&#160;and&#160;omissions&#160;in&#160;details&#160;render&#160;them&#160;irreproducible.&#160;The&#160;lack&#160;of&#160;comprehensive<br/>benchmarks,&#160;guidelines,&#160;and&#160;support&#160;frameworks&#160;to&#160;navigate&#160;the&#160;ZKP&#160;landscape&#160;effectively&#160;is&#160;a&#160;major&#160;barrier<br/>in&#160;the&#160;development&#160;of&#160;ZKP&#160;applications.<br/>
In&#160;response&#160;to&#160;this&#160;need,&#160;we&#160;introduce&#160;zk-Bench,&#160;the&#160;first&#160;benchmarking&#160;framework&#160;and&#160;estimator&#160;tool<br/>
designed&#160;for&#160;performance&#160;evaluation&#160;of&#160;public-key&#160;cryptography,&#160;with&#160;a&#160;specific&#160;focus&#160;on&#160;practical&#160;assessment<br/>of&#160;general-purpose&#160;ZKP&#160;systems.&#160;To&#160;simplify&#160;navigating&#160;the&#160;complex&#160;set&#160;of&#160;metrics&#160;and&#160;qualitative&#160;properties,<br/>
we&#160;offer&#160;a&#160;comprehensive&#160;open-source&#160;evaluation&#160;platform,&#160;which&#160;enables&#160;the&#160;rigorous&#160;dissection&#160;and&#160;analysis<br/>
of&#160;tools&#160;for&#160;ZKP&#160;development&#160;to&#160;uncover&#160;their&#160;trade-offs&#160;throughout&#160;the&#160;entire&#160;development&#160;stack;&#160;from<br/>low-level&#160;arithmetic&#160;libraries,&#160;to&#160;high-level&#160;tools&#160;for&#160;SNARK&#160;development.<br/>
Using&#160;zk-Bench,&#160;we&#160;(i)&#160;collect&#160;data&#160;across&#160;13&#160;different&#160;elliptic&#160;curves&#160;implemented&#160;across&#160;9&#160;libraries,<br/>
(ii)&#160;evaluate&#160;5&#160;tools&#160;for&#160;ZKP&#160;development&#160;and&#160;(iii)&#160;provide&#160;a&#160;tool&#160;for&#160;estimating&#160;cryptographic&#160;protocols,<br/>
instantiated&#160;for&#160;the&#160;Pùî©ùî¨ùî´K&#160;proof&#160;system,&#160;achieving&#160;an&#160;accuracy&#160;of&#160;6&#160;‚àí&#160;32%&#160;for&#160;ZKP&#160;circuits&#160;with&#160;up&#160;to&#160;millions<br/>of&#160;gates.&#160;By&#160;evaluating&#160;zk-Bench&#160;for&#160;various&#160;hardware&#160;configurations,&#160;we&#160;find&#160;that&#160;certain&#160;tools&#160;for&#160;ZKP<br/>development&#160;favor&#160;compute-optimized&#160;hardware,&#160;while&#160;others&#160;benefit&#160;from&#160;memory-optimized&#160;hardware.<br/>
We&#160;observed&#160;performance&#160;enhancements&#160;of&#160;up&#160;to&#160;40%&#160;for&#160;memory-optimized&#160;configurations&#160;and&#160;50%&#160;for<br/>
compute-optimized&#160;configurations,&#160;contingent&#160;on&#160;the&#160;specific&#160;ZKP&#160;development&#160;tool&#160;utilized.<br/>
1<br/>
INTRODUCTION<br/>
Cryptographic&#160;proofs&#160;play&#160;a&#160;fundamental&#160;role&#160;in&#160;complexity&#160;theory&#160;and&#160;cryptography.&#160;They&#160;enable<br/>an&#160;untrusted&#160;prover&#160;to&#160;convince&#160;a&#160;verifier&#160;that&#160;a&#160;certain&#160;computation&#160;was&#160;executed&#160;correctly.<br/>In&#160;addition,&#160;the&#160;provided&#160;proof&#160;can&#160;be&#160;zero-knowledge&#160;<a href="2023-1503s.html#22">[35],&#160;</a>indicating&#160;that&#160;the&#160;proof&#160;reveals&#160;no<br/>additional&#160;information&#160;to&#160;the&#160;verifier&#160;beyond&#160;the&#160;truthfulness&#160;of&#160;the&#160;proven&#160;statement.<br/>
In&#160;the&#160;past&#160;decade,&#160;general-purpose&#160;<a href="2023-1503s.html#1">Zero-Knowledge&#160;Proofs&#160;(ZKPs)&#160;</a><a href="2023-1503s.html#22">[19,&#160;22,&#160;35,&#160;36,&#160;</a><a href="2023-1503s.html#23">48]&#160;</a>transitioned<br/>
from&#160;theory&#160;to&#160;practice,&#160;and&#160;are&#160;nowadays&#160;a&#160;core&#160;component&#160;of&#160;many&#160;trust-minimized&#160;systems.&#160;For<br/>example,&#160;<a href="2023-1503s.html#1">ZKPs&#160;</a>are&#160;commonly&#160;used&#160;to&#160;prove&#160;the&#160;integrity&#160;of&#160;storage&#160;<a href="2023-1503s.html#23">[54],&#160;</a>to&#160;enhance&#160;the&#160;privacy<br/>guarantees&#160;of&#160;digital&#160;asset&#160;transfers&#160;<a href="2023-1503s.html#22">[20,&#160;21,&#160;31,&#160;</a><a href="2023-1503s.html#23">60],&#160;</a>and&#160;to&#160;ensure&#160;the&#160;scalability&#160;of&#160;blockchain<br/>infrastructure&#160;<a href="2023-1503s.html#23">[53,&#160;65,&#160;67].</a><br/>
Tools&#160;and&#160;libraries&#160;for&#160;<a href="2023-1503s.html#1">ZKPs&#160;</a>are&#160;typically&#160;constructed&#160;in&#160;multiple&#160;layers,&#160;encompassing&#160;implemen-<br/>
tations&#160;of&#160;finite&#160;fields,&#160;elliptic&#160;curves,&#160;specific&#160;models&#160;of&#160;computation&#160;(such&#160;as&#160;Rank-One&#160;Constraint<br/>Systems&#160;(R1CS)&#160;<a href="2023-1503s.html#21">[9],&#160;</a>Quadratic&#160;Arithmetic&#160;Programs&#160;(QAP)&#160;<a href="2023-1503s.html#23">[55],&#160;</a>Plonkish,&#160;and&#160;more),&#160;polynomial<br/>and&#160;vector&#160;algebra,&#160;public-key&#160;cryptography,&#160;and&#160;the&#160;actual&#160;proof&#160;system.&#160;Together,&#160;these&#160;compo-<br/>nents&#160;provide&#160;diverse&#160;functionality&#160;and&#160;performance&#160;trade-offs,&#160;and&#160;may&#160;further&#160;be&#160;customized&#160;or<br/>optimized.&#160;Anyone&#160;seeking&#160;to&#160;utilize&#160;<a href="2023-1503s.html#1">ZKPs&#160;</a>must&#160;systematically&#160;evaluate&#160;the&#160;available&#160;primitives<br/>to&#160;determine&#160;the&#160;most&#160;suitable&#160;combination&#160;for&#160;their&#160;specific&#160;task,&#160;taking&#160;into&#160;consideration&#160;the<br/>
<hr/>
<a name=2></a><img src="2023-1503-2_1.png"/><br/>
<img src="2023-1503-2_2.png"/><br/>
<img src="2023-1503-2_3.png"/><br/>
<img src="2023-1503-2_4.png"/><br/>
2<br/>
Ernstberger,&#160;et&#160;al.<br/>
<b>ZKP</b><br/>
<b>Circuit Inputs</b><br/>
<b>Configuration</b><br/>
<b>Backend</b><br/>
<b>Arithmetic</b><br/>
<b>Circuit</b><br/>
<b>arkworks</b><br/>
<b>gnark-crypto</b><br/>
<b>Bellman</b><br/>
<b>gnark</b><br/>
<i>criterion</i><br/>
<i>profile</i><br/>
&#160;&#160;Add<br/>
&#160;&#160;Add<br/>
&#160;&#160;Add<br/>
&#160;&#160;Add<br/>
Setup Runner<br/>
Setup Runner<br/>
&#160;&#160;Mul<br/>
&#160;&#160;Mul<br/>
&#160;&#160;Mul<br/>
&#160;&#160;Mul<br/>
Prover Runner<br/>
Prover Runner<br/>
&#160;Invert<br/>
MSM<br/>
&#160;Invert<br/>
MSM<br/>
<b>...</b><br/>
<b>...</b><br/>
Verifier Runner<br/>
Verifier Runner<br/>
FFT&#160;<br/>
Pairing<br/>
FFT&#160;<br/>
Pairing<br/>
Expon-<br/>
Expon-<br/>
<b>...</b><br/>
<b>...</b><br/>
SHA-256<br/>
<b>...</b><br/>
SHA-256<br/>
<b>...</b><br/>
entiate<br/>
entiate<br/>
<b>Log Parser</b><br/>
<b>Arithmetic</b><br/>
<b>Circuit</b><br/>
<b>Arithmetic Logs</b><br/>
<b>Circuit Logs</b><br/>
<b>Parser</b><br/>
<b>Parser</b><br/>
<b>Frontend</b><br/>
<b>zka.lc</b><br/>
<b>zk-Harness</b><br/>
Fig.&#160;1.&#160;zk-Bench&#160;architecture&#160;consisting&#160;of&#160;three&#160;main&#160;parts:&#160;an&#160;arithmetic&#160;backend,&#160;a&#160;circuit&#160;backend&#160;and<br/>a&#160;dual&#160;frontend.&#160;The&#160;arithmetic&#160;backend&#160;covers&#160;arithmetic&#160;in&#160;finite&#160;fields&#160;and&#160;operations&#160;on&#160;elliptic&#160;curves.<br/>
Whenever&#160;applicable,&#160;upstream&#160;benchmarks&#160;are&#160;imported.&#160;Each&#160;ZKP&#160;tool&#160;or&#160;library&#160;is&#160;benchmarked&#160;on<br/>
equivalent&#160;test&#160;vectors&#160;for&#160;comparability.&#160;Standardized&#160;logs&#160;are&#160;the&#160;base&#160;for&#160;runtime&#160;estimation&#160;and&#160;the&#160;web<br/>interface.<br/>
nuanced&#160;trade-offs&#160;inherent&#160;to&#160;each&#160;option.&#160;This,&#160;however,&#160;is&#160;a&#160;task&#160;that&#160;is&#160;both&#160;demanding&#160;in<br/>terms&#160;of&#160;expertise,&#160;labor&#160;and&#160;computational&#160;resources.&#160;Similarly,&#160;consulting&#160;scientific&#160;publications<br/>or&#160;the&#160;broader&#160;community&#160;frequently&#160;proves&#160;insufficient.&#160;Many&#160;cryptographic&#160;research&#160;endeavors<br/>tend&#160;to&#160;overlook&#160;detailed&#160;implementations&#160;and&#160;direct&#160;performance&#160;assessments,&#160;focusing&#160;instead&#160;on<br/>specific&#160;elements&#160;of&#160;a&#160;given&#160;cryptographic&#160;scheme&#160;<a href="2023-1503s.html#21">[3,&#160;</a><a href="2023-1503s.html#22">14,&#160;16,&#160;26].&#160;</a>Consequently,&#160;it&#160;is&#160;infeasible&#160;for<br/>developers&#160;to&#160;gain&#160;a&#160;holistic&#160;overview&#160;of&#160;performance&#160;trade-offs,&#160;leaving&#160;them&#160;reliant&#160;on&#160;fragmented<br/>insights&#160;and&#160;potentially&#160;compromising&#160;the&#160;efficiency&#160;and&#160;security&#160;of&#160;their&#160;chosen&#160;implementations.<br/>
Our&#160;contributions.&#160;In&#160;light&#160;of&#160;these&#160;challenges,&#160;we&#160;introduce&#160;zk-Bench,&#160;the&#160;first&#160;open-source,<br/>generic,&#160;extensible,&#160;and&#160;configurable&#160;benchmarking&#160;framework&#160;for&#160;public-key&#160;cryptography&#160;and<br/><a href="2023-1503s.html#1">ZKPs.&#160;</a>zk-Bench&#160;(summarized&#160;in&#160;Fig.&#160;<a href="2023-1503s.html#2">1)&#160;</a>provides&#160;extensible&#160;backends&#160;to&#160;benchmark&#160;(i)&#160;low-level<br/>arithmetic&#160;operations&#160;and&#160;(ii)&#160;high-level&#160;ZKP&#160;circuits&#160;with&#160;exemplary&#160;test&#160;vectors,&#160;such&#160;as&#160;an<br/>implementation&#160;of&#160;SHA-256&#160;in&#160;a&#160;given&#160;ZKP&#160;tool&#160;or&#160;library.&#160;For&#160;high-level&#160;ZKP&#160;circuits,&#160;zk-Bench<br/>conducts&#160;exhaustive&#160;benchmarking,&#160;encompassing&#160;both&#160;execution&#160;time&#160;and&#160;memory&#160;consumption<br/>for&#160;<a href="2023-1503s.html#1">ZKPs&#160;</a>for&#160;the&#160;setup,&#160;proving,&#160;and&#160;verification&#160;phases.&#160;In&#160;addition&#160;to&#160;providing&#160;a&#160;set&#160;of&#160;holistic<br/>benchmarks,&#160;zk-Bench&#160;proposes&#160;a&#160;novel&#160;methodology&#160;with&#160;which&#160;developers&#160;and&#160;researchers&#160;can<br/>conduct&#160;fine-grained&#160;performance&#160;analysis&#160;of&#160;cryptographic&#160;algorithms&#160;and&#160;protocols,&#160;as&#160;it&#160;allows<br/>estimating&#160;their&#160;run-time&#160;without&#160;actually&#160;implementing&#160;them.&#160;This&#160;is&#160;not&#160;only&#160;useful&#160;for&#160;making<br/>informed&#160;decisions&#160;when&#160;choosing&#160;the&#160;most&#160;suitable&#160;cryptographic&#160;building&#160;blocks&#160;for&#160;a&#160;given&#160;task,<br/>but&#160;also&#160;for&#160;new&#160;cryptographic&#160;protocols&#160;or&#160;reproducing&#160;scientific&#160;results.<br/>
To&#160;demonstrate&#160;the&#160;usefulness&#160;of&#160;zk-Bench,&#160;we&#160;include&#160;13&#160;different&#160;elliptic&#160;curves&#160;implemented<br/>
across&#160;9&#160;libraries&#160;for&#160;arithmetic&#160;operations&#160;in&#160;finite&#160;fields,&#160;and&#160;5&#160;tools&#160;for&#160;developing&#160;<a href="2023-1503s.html#1">ZKPs.&#160;</a>We&#160;find<br/>that&#160;different&#160;tools&#160;for&#160;ZKP&#160;development&#160;use&#160;different&#160;approaches&#160;for&#160;implementing&#160;the&#160;same&#160;ZKP,<br/>and&#160;present&#160;ways&#160;in&#160;which&#160;different&#160;open-source&#160;implementations&#160;can&#160;be&#160;improved&#160;based&#160;on&#160;the<br/>
<hr/>
<a name=3></a>zk-Bench:&#160;A&#160;Toolset&#160;for&#160;Comparative&#160;Evaluation<br/>and&#160;Performance&#160;Benchmarking&#160;of&#160;SNARKs<br/>
3<br/>
insights&#160;gathered&#160;from&#160;both&#160;the&#160;arithmetic&#160;backend&#160;and&#160;circuit&#160;backend.&#160;By&#160;using&#160;the&#160;benchmarks<br/>obtained&#160;through&#160;the&#160;circuit&#160;backend&#160;as&#160;a&#160;sanity&#160;check,&#160;we&#160;show&#160;that&#160;the&#160;arithmetic&#160;benchmarks<br/>can&#160;be&#160;used&#160;to&#160;(i)&#160;accurately&#160;extrapolate&#160;the&#160;performances&#160;of&#160;complex&#160;arithmetic&#160;operations&#160;and<br/>
(ii)&#160;approximate&#160;the&#160;runtime&#160;of&#160;a&#160;ZKP&#160;circuit&#160;implementation&#160;‚Äî&#160;without&#160;actually&#160;implementing&#160;it.<br/>
To&#160;summarize,&#160;we&#160;make&#160;the&#160;following&#160;contributions:<br/>
(1)&#160;zk-Bench,&#160;the&#160;first&#160;holistic&#160;and&#160;extensible&#160;benchmarking&#160;framework&#160;for&#160;ZKP&#160;development<br/>
tools&#160;and&#160;arithmetic&#160;libraries.<br/>
(2)&#160;Comprehensive&#160;benchmarks&#160;across&#160;9&#160;arithmetic&#160;libraries&#160;and&#160;5&#160;ZKP&#160;frameworks.<br/>(3)&#160;A&#160;novel&#160;methodology&#160;for&#160;estimating&#160;the&#160;computational&#160;costs&#160;of&#160;cryptographic&#160;protocols,<br/>
accessible&#160;through&#160;a&#160;web&#160;interface.<br/>
Benchmark&#160;Results.&#160;By&#160;instantiating&#160;zk-Bench&#160;with&#160;exemplary&#160;libraries&#160;for&#160;ZKP&#160;development,<br/>
we&#160;obtain&#160;numerous&#160;surprising&#160;results.&#160;Subsequently,&#160;we&#160;provide&#160;a&#160;succinct&#160;summary&#160;of&#160;our<br/>
findings.&#160;We&#160;suggest&#160;that&#160;readers&#160;unfamiliar&#160;with&#160;the&#160;context&#160;first&#160;consult&#160;Section&#160;<a href="2023-1503s.html#3">2.</a><br/>
For&#160;the&#160;arithmetic&#160;backend,&#160;we&#160;find&#160;that&#160;addition&#160;and&#160;multiplication&#160;in&#160;the&#160;scalar&#160;field&#160;Z&#160;of&#160;BN254<br/>
ùëù<br/>
is&#160;not&#160;consistently&#160;faster&#160;than&#160;addition&#160;and&#160;multiplication&#160;in&#160;the&#160;scalar&#160;field&#160;Z&#160;of&#160;BLS12-381.&#160;This<br/>
ùëù<br/>
is&#160;noteworthy,&#160;especially&#160;since&#160;BN254&#160;functions&#160;over&#160;a&#160;field&#160;with&#160;a&#160;smaller&#160;characteristic&#160;compared<br/>to&#160;BLS12-381.&#160;For&#160;benchmarks&#160;of&#160;elliptic&#160;curve&#160;operations,&#160;we,&#160;perhaps&#160;counterintuitively,&#160;find&#160;that<br/>gnark-crypto&#160;outperforms&#160;blstrs&#160;for&#160;BLS12-381.&#160;For&#160;an&#160;MSM&#160;instance&#160;of&#160;size&#160;220,&#160;gnark-crypto<br/>
(0.35&#160;s&#160;)&#160;is&#160;1.83√ó&#160;faster&#160;than&#160;blstrs&#160;(0.64s&#160;¬±&#160;0.03s).<br/>
On&#160;the&#160;circuits&#160;side,&#160;we&#160;observed&#160;that&#160;the&#160;efficiency&#160;of&#160;ZKPs&#160;benefits&#160;from&#160;optimized&#160;low-level<br/>
arithmetic&#160;libraries.&#160;For&#160;example,&#160;an&#160;MSM&#160;instance&#160;of&#160;size&#160;220&#160;in&#160;gnark-crypto&#160;is&#160;9.44√ó&#160;faster&#160;in<br/>G1&#160;and&#160;13.06√ó&#160;faster&#160;in&#160;G2&#160;when&#160;compared&#160;to&#160;ffjavascript,&#160;leading&#160;to&#160;gnark&#160;being&#160;14.02√ó&#160;faster<br/>than&#160;snarkjs&#160;for&#160;proving&#160;SHA256&#160;with&#160;a&#160;pre-image&#160;size&#160;of&#160;16&#160;kB.&#160;Another&#160;key&#160;observation&#160;is&#160;that<br/>custom&#160;circuit&#160;implementations&#160;can&#160;falsify&#160;the&#160;perceived&#160;performance&#160;of&#160;a&#160;library&#160;or&#160;DSL.&#160;halo2,&#160;for<br/>example,&#160;is&#160;8.64√ó&#160;slower&#160;than&#160;gnark&#160;for&#160;our&#160;first&#160;test&#160;vector,&#160;but&#160;due&#160;to&#160;circuit&#160;optimizations,&#160;1.09√ó<br/>faster&#160;for&#160;the&#160;second.&#160;When&#160;it&#160;comes&#160;to&#160;proof&#160;size,&#160;we&#160;observe&#160;that,&#160;as&#160;expected,&#160;starky‚Äôs&#160;proof<br/>size&#160;is&#160;disproportionately&#160;larger,&#160;being&#160;299.68√ó&#160;to&#160;678.98√ó&#160;greater&#160;than&#160;the&#160;largest&#160;Groth16&#160;and<br/>Pùî©ùî¨ùî´K&#160;proofs&#160;for&#160;‚âà&#160;224&#160;constraints/rows.&#160;Lastly,&#160;we&#160;observed&#160;that&#160;some&#160;libraries&#160;benefit&#160;greatly<br/>from&#160;compute-optimized&#160;hardware,&#160;whereas&#160;others&#160;are&#160;more&#160;susceptible&#160;to&#160;memory-optimized<br/>hardware,&#160;up&#160;to&#160;50%&#160;and&#160;40%&#160;performance&#160;increase&#160;for&#160;proving,&#160;respectively.&#160;Hence,&#160;developers<br/>should&#160;strategically&#160;select&#160;their&#160;infrastructure&#160;depending&#160;on&#160;the&#160;library&#160;or&#160;tool&#160;they&#160;utilize.<br/>
Paper&#160;Structure.&#160;This&#160;paper&#160;is&#160;structured&#160;as&#160;follows:&#160;Section&#160;<a href="2023-1503s.html#3">2&#160;</a>presents&#160;the&#160;relevant&#160;background<br/>on&#160;public&#160;key&#160;cryptography,&#160;<a href="2023-1503s.html#1">ZKPs&#160;</a>and&#160;implementations&#160;of&#160;<a href="2023-1503s.html#1">ZKPs&#160;</a>in&#160;practice.&#160;Section&#160;<a href="2023-1503s.html#6">3&#160;</a>introduces&#160;zk-<br/>Bench,&#160;its&#160;design&#160;decisions,&#160;components,&#160;and&#160;methodology&#160;for&#160;benchmarking.&#160;Section&#160;<a href="2023-1503s.html#9">4&#160;</a>motivates<br/>the&#160;selection&#160;of&#160;arithmetic&#160;libraries,&#160;curves,&#160;and&#160;tools&#160;for&#160;ZKP&#160;development&#160;integrated&#160;in&#160;zk-Bench.<br/>Section&#160;<a href="2023-1503s.html#10">5&#160;</a>presents&#160;results&#160;and&#160;insights&#160;as&#160;obtained&#160;with&#160;zk-Bench&#160;for&#160;the&#160;previously&#160;selected<br/>arithmetic&#160;libraries,&#160;curves,&#160;and&#160;tools&#160;for&#160;ZKP&#160;development.&#160;In&#160;Section&#160;<a href="2023-1503s.html#18">6&#160;</a>we&#160;utilize&#160;the&#160;obtained<br/>benchmarks&#160;to&#160;extrapolate&#160;and&#160;estimate&#160;the&#160;runtime&#160;of&#160;cryptographic&#160;protocols.&#160;Section&#160;<a href="2023-1503s.html#19">7&#160;</a>discusses<br/>the&#160;implications&#160;of&#160;the&#160;results&#160;obtained&#160;through&#160;our&#160;work,&#160;and&#160;Section&#160;<a href="2023-1503s.html#20">8&#160;</a>presents&#160;the&#160;related&#160;work.<br/>Finally,&#160;in&#160;Section&#160;<a href="2023-1503s.html#21">9,&#160;</a>we&#160;conclude&#160;the&#160;paper.<br/>
2<br/>
BACKGROUND&#160;AND&#160;MOTIVATION<br/>
2.1<br/>
Public-Key&#160;Cryptography<br/>
Public-key&#160;cryptography&#160;lies&#160;at&#160;the&#160;foundation&#160;of&#160;secure&#160;and&#160;trusted&#160;communication&#160;<a href="2023-1503s.html#22">[25].&#160;</a>It&#160;is<br/>
widely&#160;used&#160;in&#160;various&#160;applications,&#160;like&#160;secure&#160;messaging,&#160;digital&#160;document&#160;signing,&#160;web&#160;browsing,<br/>
and&#160;monetary&#160;transactions.&#160;Roughly&#160;speaking,&#160;tools&#160;in&#160;public-key&#160;cryptography&#160;consider&#160;groups<br/>
G&#160;=&#160;‚ü®ùê∫&#160;‚ü©&#160;of&#160;some&#160;prime&#160;order&#160;ùëù,&#160;for&#160;which&#160;the&#160;discrete&#160;logarithm&#160;(DL)&#160;problem&#160;is&#160;hard:&#160;given&#160;ùëã<br/>
<hr/>
<a name=4></a>4<br/>
Ernstberger,&#160;et&#160;al.<br/>
sampled&#160;uniformly&#160;at&#160;random&#160;from&#160;G,&#160;it&#160;is&#160;hard&#160;to&#160;find&#160;ùë•&#160;‚àà&#160;Z&#160;(where<br/>
=<br/>
ùëù<br/>
Zùëù<br/>
Z/ùëùZ&#160;is&#160;the&#160;field<br/>
of&#160;ùëù&#160;elements)&#160;such&#160;that&#160;ùë•ùê∫&#160;=&#160;ùëã&#160;(we&#160;treat&#160;all&#160;groups&#160;using&#160;additive&#160;notation).&#160;In&#160;contemporary<br/>cryptography,&#160;data&#160;protection&#160;problems&#160;are&#160;often&#160;formulated&#160;using&#160;algebraic&#160;properties&#160;over&#160;G&#160;and<br/>Z&#160;,&#160;where&#160;system&#160;security&#160;relies&#160;on&#160;computationally&#160;intractable&#160;problems,&#160;such&#160;as&#160;the&#160;DL&#160;problem.<br/>
ùëù<br/>
In&#160;practice,&#160;we&#160;often&#160;consider&#160;elliptic&#160;curve&#160;groups&#160;over&#160;prime&#160;fields&#160;of&#160;large&#160;characteristic&#160;(as<br/>natural&#160;in&#160;many&#160;cryptographic&#160;applications),&#160;that&#160;is,<br/>
2<br/>
G&#160;is&#160;the&#160;set&#160;of&#160;points&#160;(ùë•,&#160;ùë¶)&#160;‚àà&#160;Z&#160;solving&#160;the<br/>
ùëû<br/>
equation&#160;2<br/>
3<br/>
ùë¶<br/>
=&#160;ùë•&#160;+&#160;ùëéùë•&#160;+&#160;ùëè&#160;for&#160;some&#160;fixed&#160;parameters&#160;ùëé,&#160;ùëè&#160;‚àà&#160;Z&#160;<a href="2023-1503s.html#4">.1</a><br/>
ùëû<br/>
Operations&#160;over&#160;the&#160;scalar&#160;field&#160;Z&#160;and&#160;base&#160;field<br/>
play&#160;a&#160;crucial&#160;role&#160;in&#160;various&#160;aspects&#160;of<br/>
ùëù<br/>
Zùëû<br/>
(DL-based)&#160;public-key&#160;cryptography.&#160;These&#160;operations&#160;introduce&#160;a&#160;baseline&#160;overhead&#160;on&#160;the&#160;top&#160;of<br/>
native&#160;CPU&#160;instructions,&#160;and&#160;are&#160;integral&#160;to&#160;the&#160;manipulation&#160;of&#160;polynomials&#160;and&#160;other&#160;algebraic<br/>structures,&#160;which&#160;form&#160;the&#160;basis&#160;of&#160;proof&#160;systems.<br/>
Secondly,&#160;the&#160;choice&#160;of&#160;elliptic&#160;curve&#160;influences&#160;functionality,&#160;performance,&#160;and&#160;security&#160;of&#160;a<br/>
zero-knowledge&#160;proof.&#160;Some&#160;<a href="2023-1503s.html#1">ZKPs&#160;</a>require&#160;elliptic&#160;curves&#160;equipped&#160;with&#160;a&#160;pairing&#160;map,&#160;that&#160;is,&#160;a<br/>non-trivial&#160;bilinear&#160;map&#160;ùëí&#160;:&#160;G1&#160;√óG2&#160;‚Üí&#160;G&#160;mapping&#160;two&#160;elliptic&#160;curve&#160;points&#160;(typically,&#160;two&#160;different<br/>
ùëá<br/>
elliptic&#160;curve&#160;groups)&#160;to&#160;some&#160;target&#160;group&#160;(typically,&#160;a&#160;multiplicative&#160;subgroup&#160;of&#160;a&#160;finite&#160;field)&#160;<a href="2023-1503s.html#22">[33].</a><br/>
The&#160;estimated&#160;security&#160;level&#160;for&#160;pairing-friendly&#160;elliptic&#160;curves&#160;is&#160;lower&#160;than&#160;for&#160;curves&#160;without<br/>
pairings&#160;<a href="2023-1503s.html#23">[50],&#160;</a>which&#160;would&#160;require&#160;increasing&#160;the&#160;size&#160;of&#160;the&#160;coordinate&#160;field&#160;Z&#160;.&#160;Furthermore,<br/>
ùëû<br/>
given&#160;that&#160;novel&#160;attacks&#160;are&#160;introduced&#160;frequently,&#160;the&#160;security&#160;of&#160;specific&#160;curves&#160;may&#160;degrade<br/>over&#160;time,&#160;requiring&#160;again&#160;an&#160;increase&#160;in&#160;the&#160;size&#160;of&#160;the&#160;coordinate&#160;field&#160;Z&#160;.&#160;For&#160;example,&#160;the&#160;two<br/>
ùëû<br/>
curves&#160;studied&#160;in&#160;later&#160;sections&#160;of&#160;this&#160;work,&#160;BN254&#160;<a href="2023-1503s.html#21">[6,&#160;</a><a href="2023-1503s.html#23">56]&#160;</a>and&#160;BLS12-381&#160;<a href="2023-1503s.html#21">[5],&#160;</a>were&#160;both&#160;aiming<br/>at&#160;a&#160;security&#160;level&#160;of&#160;128&#160;bits&#160;when&#160;first&#160;introduced.&#160;However,&#160;recent&#160;attacks&#160;<a href="2023-1503s.html#23">[40,&#160;49]&#160;</a>reduce&#160;the<br/>security&#160;level&#160;of&#160;BN254&#160;to&#160;around&#160;100&#160;‚àí&#160;110&#160;bits.&#160;Successively,&#160;the&#160;recommendation&#160;was&#160;to&#160;use&#160;BLS12<br/>or&#160;BN&#160;curves&#160;over&#160;a&#160;coordinate&#160;field&#160;of&#160;size&#160;384-bit,&#160;instead&#160;of&#160;BN&#160;curves&#160;over&#160;256-bit&#160;field.&#160;The<br/>ZCash&#160;<a href="2023-1503s.html#22">[37]&#160;</a>team&#160;followed&#160;this&#160;recommendation&#160;when&#160;developing&#160;BLS12-381&#160;<a href="2023-1503s.html#22">[18].&#160;</a>Recent&#160;work&#160;<a href="2023-1503s.html#21">[4],<br/></a>however,&#160;suggests&#160;that&#160;the&#160;actual&#160;security&#160;level&#160;of&#160;BLS12-381&#160;is&#160;only&#160;117&#160;‚àí&#160;120&#160;bits,&#160;instigating<br/>recommendations&#160;for&#160;BLS12&#160;curves&#160;over&#160;a&#160;coordinate&#160;field&#160;of&#160;440&#160;‚àí&#160;448&#160;<a href="2023-1503s.html#4">bits2.</a><br/>
2.2<br/>
Zero-Knowledge&#160;Proofs&#160;<a href="2023-1503s.html#1">(ZKPs)</a><br/>
A&#160;zero-knowledge&#160;proof&#160;is&#160;a&#160;protocol&#160;between&#160;a&#160;prover&#160;and&#160;a&#160;verifier,&#160;in&#160;which&#160;the&#160;prover&#160;is&#160;trying<br/>
to&#160;convince&#160;the&#160;verifier&#160;that&#160;a&#160;certain&#160;statement&#160;is&#160;true&#160;without&#160;revealing&#160;any&#160;further&#160;information<br/>beyond&#160;the&#160;statement‚Äôs&#160;truthfulness.&#160;More&#160;formally,&#160;the&#160;prover&#160;attempts&#160;to&#160;convince&#160;the&#160;verifier<br/>that&#160;an&#160;instance&#160;ùë•&#160;and&#160;a&#160;witness&#160;ùë§&#160;are&#160;in&#160;an&#160;NP&#160;relation&#160;R,&#160;i.e.,&#160;for&#160;which&#160;(ùë•,&#160;ùë§&#160;)&#160;‚àà&#160;R&#160;can&#160;be&#160;verified<br/>by&#160;a&#160;Turing&#160;machine&#160;in&#160;polynomial&#160;time.&#160;A&#160;ZKP&#160;consists&#160;of&#160;the&#160;following&#160;three&#160;algorithms:<br/>
‚Ä¢&#160;Setup(pp)&#160;‚Üí&#160;(pk,&#160;vk).&#160;Given&#160;public&#160;parameters&#160;pp&#160;as&#160;input,&#160;compute&#160;and&#160;output&#160;proving<br/>
and&#160;verification&#160;keys&#160;pk&#160;and&#160;vk,&#160;respectively.<br/>
‚Ä¢&#160;Prove(pk,&#160;ùë•,&#160;ùë§&#160;)&#160;‚Üí&#160;ùúã&#160;.&#160;Given&#160;the&#160;proving&#160;key&#160;pk,&#160;the&#160;instance&#160;ùë•,&#160;and&#160;the&#160;witness&#160;ùë§&#160;,&#160;such<br/>
that&#160;(ùë•,&#160;ùë§&#160;)&#160;‚àà&#160;R,&#160;as&#160;input,&#160;compute&#160;and&#160;output&#160;a&#160;proof&#160;ùúã&#160;.<br/>
‚Ä¢&#160;Verify(vk,&#160;ùë•,&#160;ùúã)&#160;‚Üí&#160;0/1.&#160;Given&#160;the&#160;verification&#160;key&#160;vk,&#160;the&#160;instance&#160;ùë•,&#160;and&#160;the&#160;proof&#160;ùúã&#160;as<br/>
input,&#160;output&#160;1&#160;if&#160;the&#160;proof&#160;is&#160;valid&#160;and&#160;0&#160;otherwise.<br/>
As&#160;an&#160;example,&#160;consider&#160;a&#160;public-key&#160;ùëã&#160;‚àà&#160;G&#160;and&#160;the&#160;NP&#160;relation&#160;R&#160;=&#160;{(ùëã,&#160;ùë•)&#160;‚àà&#160;G&#160;√ó&#160;Z&#160;:&#160;ùëã&#160;=&#160;ùë•ùê∫&#160;}.<br/>
ùëù<br/>
The&#160;relation&#160;is&#160;hard&#160;to&#160;solve&#160;if&#160;the&#160;DL&#160;problem&#160;is&#160;hard&#160;in&#160;G,&#160;and&#160;a&#160;zero-knowledge&#160;proof&#160;for&#160;the<br/>
above&#160;relation&#160;can&#160;convince&#160;a&#160;verifier&#160;that&#160;the&#160;prover&#160;indeed&#160;holds&#160;a&#160;secret-key&#160;associated&#160;to&#160;ùëã&#160;,<br/>
without&#160;revealing&#160;any&#160;information&#160;about&#160;it.&#160;More&#160;involved&#160;zero-knowledge&#160;proofs&#160;are&#160;used&#160;to&#160;show<br/>
satisfiability,&#160;i.e.,&#160;knowledge&#160;of&#160;a&#160;value&#160;ùë§&#160;for&#160;which&#160;ùê∂&#160;(ùë•,&#160;ùë§&#160;)&#160;=&#160;1&#160;for&#160;some&#160;circuit&#160;ùê∂&#160;and&#160;input&#160;ùë•.<br/>
1The&#160;set&#160;of&#160;solutions&#160;forms&#160;an&#160;additive&#160;group,&#160;and&#160;for&#160;cryptographic&#160;purposes&#160;we&#160;generally&#160;focus&#160;on&#160;a&#160;subgroup&#160;of&#160;prime<br/>order&#160;ùëù.&#160;For&#160;more&#160;information,&#160;we&#160;direct&#160;the&#160;curios&#160;reader&#160;towards&#160;<a href="2023-1503s.html#23">[66].<br/></a>2https://members.loria.fr/AGuillevic/pairing-friendly-curves/<br/>
<hr/>
<a name=5></a>zk-Bench:&#160;A&#160;Toolset&#160;for&#160;Comparative&#160;Evaluation<br/>and&#160;Performance&#160;Benchmarking&#160;of&#160;SNARKs<br/>
5<br/>
<b>Public Parameters</b><br/>
<b>Circuit</b><br/>
<b>Public Input</b><br/>
<b>Secret Input</b><br/>
<b>Constraint</b><br/>
<b>System</b><br/>
<b>Witness</b><br/>
<b>Setup</b><br/>
<b>Generation</b><br/>
<b>Prover</b><br/>
<b>Verifier</b><br/>
Fig.&#160;2.&#160;Practical&#160;Implementation&#160;of&#160;a&#160;pre-processing&#160;<a href="2023-1503s.html#1">SNARK.&#160;</a>The&#160;frontend&#160;is&#160;highlighted&#160;in&#160;green,&#160;the&#160;backend<br/>is&#160;highlighted&#160;in&#160;red.&#160;Public&#160;inputs&#160;are&#160;shaded&#160;in&#160;grey&#160;whereas&#160;secret&#160;inputs&#160;are&#160;shaded&#160;in&#160;blue.&#160;Offline<br/>operations&#160;are&#160;represented&#160;with&#160;solid&#160;boxes,&#160;whereas&#160;online&#160;operations&#160;are&#160;represented&#160;with&#160;dotted&#160;boxes.<br/>
Our&#160;benchmarks&#160;focus&#160;on&#160;<a href="2023-1503s.html#1">Zero-Knowledge&#160;Succinct&#160;Non-interactive&#160;Argument&#160;of&#160;Knowledge</a><br/>
<a href="2023-1503s.html#1">(SNARK)&#160;</a>proofs,&#160;where&#160;<a href="2023-1503s.html#1">SNARK&#160;</a>stands&#160;for&#160;Succinct&#160;(i.e.,&#160;efficient&#160;verification)&#160;Non-interactive,<br/>
ARguments&#160;of&#160;Knowledge&#160;(i.e.,&#160;proofs&#160;where&#160;strong&#160;soundness&#160;properies&#160;can&#160;be&#160;derived&#160;from<br/>cryptographic&#160;<a href="2023-1503s.html#5">assumptions).3&#160;</a>This&#160;is&#160;due&#160;to&#160;their&#160;relevance&#160;in&#160;practice.&#160;In&#160;particular,&#160;we&#160;will&#160;focus<br/>on&#160;pre-processing&#160;SNARKs&#160;<a href="2023-1503s.html#22">[22],&#160;</a>which&#160;introduces&#160;another&#160;algorithm,&#160;called&#160;setup,&#160;that&#160;needs&#160;to&#160;be<br/>run&#160;only&#160;once&#160;in&#160;an&#160;‚Äúoffline‚Äù&#160;phase,&#160;and&#160;allows&#160;to&#160;pre-process&#160;the&#160;relation&#160;R&#160;which&#160;reduces&#160;the<br/>computational&#160;load&#160;of&#160;the&#160;verifier.<br/>
2.3<br/>
Practical&#160;Implementation&#160;of&#160;Pre-processing&#160;SNARKs<br/>
We&#160;depict&#160;the&#160;practical&#160;implementation&#160;of&#160;a&#160;pre-processing&#160;<a href="2023-1503s.html#1">SNARK&#160;</a>in&#160;Fig.&#160;<a href="2023-1503s.html#5">2.&#160;</a>The&#160;practical&#160;imple-<br/>
mentation&#160;of&#160;a&#160;pre-processing&#160;<a href="2023-1503s.html#1">SNARK&#160;</a>involves&#160;a&#160;two-phase&#160;approach.&#160;The&#160;first&#160;phase&#160;is&#160;offline<br/>and&#160;preprocesses&#160;the&#160;computation&#160;to&#160;a&#160;succinct&#160;description,&#160;while&#160;the&#160;second&#160;phase&#160;is&#160;online<br/>and&#160;leverages&#160;a&#160;<a href="2023-1503s.html#1">SNARK&#160;</a>to&#160;prove&#160;a&#160;satisfying&#160;circuit&#160;assignment&#160;to&#160;a&#160;verifier.&#160;The&#160;first&#160;process&#160;of<br/>defining&#160;the&#160;circuit,&#160;compiling&#160;the&#160;circuit&#160;to&#160;a&#160;constraint&#160;system,&#160;and&#160;generating&#160;a&#160;witness&#160;given<br/>the&#160;assignment&#160;of&#160;public&#160;and&#160;secret&#160;inputs&#160;is&#160;commonly&#160;referred&#160;to&#160;as&#160;the&#160;frontend&#160;of&#160;a&#160;<a href="2023-1503s.html#1">SNARK<br/></a>implementation.&#160;The&#160;backend,&#160;on&#160;the&#160;other&#160;hand,&#160;handles&#160;the&#160;setup&#160;procedure,&#160;the&#160;generation&#160;of<br/>the&#160;proof&#160;as&#160;well&#160;as&#160;the&#160;verification&#160;of&#160;the&#160;proof.&#160;We&#160;highlight&#160;each&#160;of&#160;the&#160;steps&#160;below.<br/>
Backend.&#160;The&#160;backend&#160;has&#160;the&#160;following&#160;components:<br/>
‚Ä¢&#160;Setup.&#160;The&#160;setup&#160;algorithm&#160;takes&#160;public&#160;parameters&#160;and&#160;a&#160;relation&#160;R&#160;as&#160;input,&#160;and&#160;outputs<br/>
the&#160;prover&#160;key&#160;ùëùùëò&#160;and&#160;verifier&#160;key&#160;ùë£ùëò.&#160;We&#160;deliberately&#160;employ&#160;ambiguous&#160;terminology&#160;‚Äî<br/>public&#160;parameters&#160;denote&#160;parameters&#160;that&#160;are&#160;independent&#160;of&#160;the&#160;relation&#160;being&#160;proven.&#160;In<br/>pre-processing&#160;SNARKs&#160;this&#160;corresponds&#160;to&#160;the&#160;CRS&#160;generation&#160;algorithm,&#160;alternatively<br/>termed&#160;as&#160;ceremony&#160;<a href="2023-1503s.html#23">[51],&#160;</a>or&#160;generator&#160;<a href="2023-1503s.html#22">[22].&#160;</a>For&#160;SNARKs&#160;in&#160;the&#160;random&#160;oracle&#160;model,&#160;this<br/>corresponds&#160;to&#160;the&#160;selection&#160;of&#160;the&#160;cryptographic&#160;hash&#160;function.&#160;By&#160;‚Äúsetup&#160;algorithm‚Äù,&#160;we<br/>
3Cryptographic&#160;assumptions&#160;are&#160;not&#160;sufficient&#160;for&#160;non-interactive&#160;ZKP&#160;and&#160;SNARKs:&#160;additional&#160;assumptions&#160;(such&#160;as&#160;the<br/>random&#160;oracle&#160;model,&#160;the&#160;common&#160;reference&#160;string&#160;model,&#160;etc.)&#160;are&#160;required.&#160;In&#160;the&#160;case&#160;of&#160;SNARKs,&#160;we&#160;must&#160;also&#160;rely&#160;on<br/>so-called&#160;non-falsifiable&#160;assumptions&#160;<a href="2023-1503s.html#22">[34].&#160;</a>Under&#160;these&#160;additional&#160;constraints,&#160;SNARKs&#160;exist&#160;for&#160;any&#160;NP&#160;statement&#160;<a href="2023-1503s.html#22">[13].</a><br/>
<hr/>
<a name=6></a>6<br/>
Ernstberger,&#160;et&#160;al.<br/>
ùë•&#160;1<br/>
ùë§&#160;1<br/>
ùë•&#160;2<br/>
¬Æ<br/>
¬Æ<br/>
¬Æ<br/>
¬Æ<br/>
¬Æ<br/>
ùë•<br/>
¬Æ<br/>
ùë•<br/>
¬Æ<br/>
ùë•<br/>
ùëÑ<br/>
ùëÑ<br/>
ùëÑ<br/>
ùëÑ<br/>
ùëô<br/>
ùëü<br/>
ùëú<br/>
ùëô<br/>
ùëü<br/>
ùëú<br/>
ùëö<br/>
G1<br/>
ùë•&#160;1<br/>
ùë§&#160;1<br/>
ùë§&#160;2<br/>
1<br/>
1<br/>
‚àí1<br/>
0<br/>
+<br/>
+<br/>
ùë§&#160;2&#160;=&#160;ùë•1&#160;+&#160;ùë§1<br/>
ùëá<br/>
ùëá<br/>
ùëá<br/>
G2<br/>
ùë§<br/>
Ô£Æ1Ô£π<br/>
Ô£Æ&#160;ùë•1&#160;Ô£π<br/>
Ô£Æ0Ô£π<br/>
Ô£Æ&#160;ùë•1&#160;Ô£π<br/>
Ô£Æ0Ô£π<br/>
Ô£Æ&#160;ùë•1&#160;Ô£π<br/>
1<br/>
ùë•&#160;2<br/>
ùë§&#160;3<br/>
1<br/>
1<br/>
‚àí1<br/>
0<br/>
Ô£Ø<br/>
Ô£∫<br/>
Ô£Ø<br/>
Ô£∫<br/>
Ô£Ø<br/>
Ô£∫<br/>
Ô£Ø<br/>
Ô£∫<br/>
Ô£Ø<br/>
Ô£∫<br/>
Ô£Ø<br/>
Ô£∫<br/>
ùë§&#160;3&#160;=&#160;ùë§1&#160;+&#160;ùë•2<br/>
G3<br/>
ùë§<br/>
Ô£Ø0Ô£∫<br/>
Ô£Ø&#160;ùë•2&#160;Ô£∫<br/>
1<br/>
ùë•<br/>
0<br/>
ùë•<br/>
2<br/>
ùë§&#160;3<br/>
ùë¶<br/>
0<br/>
0<br/>
‚àí1<br/>
1<br/>
‚ó¶&#160;Ô£Ø&#160;Ô£∫<br/>
Ô£Ø<br/>
2&#160;Ô£∫&#160;‚àí&#160;Ô£Ø&#160;Ô£∫&#160;Ô£Ø&#160;2&#160;Ô£∫&#160;=&#160;0<br/>
√ó<br/>
Ô£Ø<br/>
Ô£∫<br/>
Ô£Ø<br/>
Ô£∫<br/>
Ô£Ø<br/>
Ô£∫<br/>
Ô£Ø<br/>
Ô£∫<br/>
Ô£Ø<br/>
Ô£∫<br/>
Ô£Ø<br/>
Ô£∫<br/>
Ô£Ø0Ô£∫<br/>
Ô£Ø&#160;ùë¶&#160;Ô£∫<br/>
Ô£Ø0Ô£∫<br/>
Ô£Ø&#160;ùë¶&#160;Ô£∫<br/>
Ô£Ø1Ô£∫<br/>
Ô£Ø&#160;ùë¶&#160;Ô£∫<br/>
ùë¶&#160;=&#160;ùë§2&#160;¬∑&#160;ùë§3<br/>
Ô£Ø<br/>
Ô£∫<br/>
Ô£Ø<br/>
Ô£∫<br/>
Ô£Ø<br/>
Ô£∫<br/>
Ô£Ø<br/>
Ô£∫<br/>
Ô£Ø<br/>
Ô£∫<br/>
Ô£Ø<br/>
Ô£∫<br/>
¬Æ<br/>
ùëÑ<br/>
‚ó¶&#160;¬Æ<br/>
ùë•<br/>
+&#160;¬Æ<br/>
ùëÑ<br/>
‚ó¶&#160;¬Æ<br/>
ùë•<br/>
+&#160;¬Æ<br/>
ùëÑ<br/>
‚ó¶&#160;¬Æ<br/>
ùë•<br/>
+&#160;¬Æ<br/>
ùëÑ<br/>
‚ó¶&#160;¬Æ<br/>
ùë•<br/>
‚ó¶&#160;¬Æ<br/>
ùë•<br/>
=&#160;0<br/>
Ô£Ø1Ô£∫<br/>
Ô£Øùë§&#160;1Ô£∫<br/>
Ô£Ø1Ô£∫<br/>
Ô£Øùë§&#160;1Ô£∫<br/>
Ô£Ø0Ô£∫<br/>
Ô£Øùë§&#160;1Ô£∫<br/>
ùëô<br/>
ùëô<br/>
ùëü<br/>
ùëü<br/>
ùëú<br/>
ùëú<br/>
ùëö<br/>
ùëô<br/>
ùëü<br/>
Ô£∞<br/>
Ô£ª<br/>
Ô£∞<br/>
Ô£ª<br/>
Ô£∞<br/>
Ô£ª<br/>
Ô£∞<br/>
Ô£ª<br/>
Ô£∞<br/>
Ô£ª<br/>
Ô£∞<br/>
Ô£ª<br/>
(&#160;¬Æ<br/>
ùë¶&#160;=&#160;(ùë•<br/>
ùë•<br/>
1&#160;+&#160;ùë§1)&#160;¬∑&#160;(ùë•2&#160;+&#160;ùë§1)<br/>
ùëô&#160;,G3&#160;=&#160;¬Æ<br/>
ùë•ùëú,G1,<br/>
¬Æ<br/>
ùë•ùëü&#160;,G3&#160;=&#160;¬Æ<br/>
ùë•ùëú,G2)<br/>
(a)<br/>
(b)<br/>
(c)<br/>
(d)<br/>
Fig.&#160;3.&#160;The&#160;arithmetic&#160;circuit&#160;ùê∂&#160;(ùë•1,&#160;ùë•2,&#160;ùë§1)&#160;=&#160;(ùë•1&#160;+&#160;ùë§1)&#160;¬∑&#160;(ùë•2&#160;+&#160;ùë§1)&#160;over&#160;Z&#160;in&#160;different&#160;representations.&#160;(a)<br/>
ùëû<br/>
Graph&#160;representation.&#160;(b)&#160;Constraints&#160;for&#160;the&#160;depicted&#160;arithmetic&#160;circuit.&#160;(c)&#160;R1CS&#160;representation&#160;for&#160;the<br/>circuit&#160;(‚Äú‚ó¶‚Äù&#160;denotes&#160;the&#160;Hadamard&#160;product).&#160;(d)&#160;Representation&#160;of&#160;the&#160;arithmetic&#160;circuit&#160;as&#160;a&#160;‚ÄúPlonkish‚Äù&#160;table.<br/>
refer&#160;to&#160;the&#160;relation-specific&#160;setup.&#160;The&#160;relation-specific&#160;setup&#160;is&#160;also&#160;frequently&#160;referred<br/>to&#160;as&#160;indexer&#160;in&#160;preprocessing&#160;SNARKs&#160;<a href="2023-1503s.html#22">[15,&#160;22,&#160;32].&#160;</a>Note&#160;that&#160;the&#160;indexer&#160;is&#160;an&#160;offline,<br/>public-coin&#160;algorithm,&#160;it&#160;does&#160;not&#160;depend&#160;on&#160;any&#160;witness&#160;or&#160;specific&#160;instance&#160;assigned&#160;to&#160;R.<br/>
‚Ä¢&#160;Prover&#160;&amp;&#160;Verifier.&#160;The&#160;prover&#160;and&#160;verifier&#160;collaboratively&#160;run&#160;the&#160;online&#160;phase&#160;of&#160;the&#160;pre-<br/>
processing&#160;<a href="2023-1503s.html#1">SNARK.&#160;</a>The&#160;prover&#160;computes&#160;a&#160;proof&#160;convincing&#160;the&#160;verifier&#160;that&#160;an&#160;assignment<br/>of&#160;private&#160;and&#160;public&#160;inputs&#160;to&#160;the&#160;circuit&#160;satisfies&#160;R.&#160;To&#160;do&#160;so,&#160;the&#160;prover&#160;leverages&#160;ùëùùëò&#160;in<br/>the&#160;proof&#160;computation,&#160;and&#160;the&#160;verifier&#160;leverages&#160;ùë£ùëò&#160;in&#160;the&#160;verification.<br/>
Frontend.&#160;The&#160;frontend&#160;has&#160;the&#160;following&#160;components:<br/>
‚Ä¢&#160;Circuit.&#160;A&#160;computation&#160;is&#160;represented&#160;as&#160;an&#160;arithmetic&#160;circuit&#160;in&#160;the&#160;frontend&#160;of&#160;a&#160;<a href="2023-1503s.html#1">SNARK.</a><br/>
An&#160;arithmetic&#160;circuit&#160;is&#160;a&#160;directed&#160;acyclic&#160;graph,&#160;where&#160;the&#160;edges&#160;are&#160;denounced&#160;wires&#160;and<br/>
the&#160;vertices&#160;are&#160;called&#160;gates.&#160;An&#160;arithmetic&#160;circuit&#160;supports&#160;addition&#160;and&#160;multiplication<br/>gates,&#160;with&#160;unrestricted&#160;fan-in&#160;and&#160;unrestricted&#160;fan-out.&#160;We&#160;depict&#160;an&#160;exemplary&#160;arithmetic<br/>circuit&#160;with&#160;fan-in&#160;2&#160;and&#160;fan-out&#160;1&#160;in&#160;Fig.&#160;<a href="2023-1503s.html#6">3.&#160;</a>Additional&#160;tooling&#160;allows&#160;developers&#160;to&#160;specify<br/>the&#160;circuit&#160;through&#160;a&#160;domain-specific&#160;programming&#160;language&#160;or&#160;a&#160;<a href="2023-1503s.html#1">SNARK&#160;</a>library.<br/>
‚Ä¢&#160;Constraint&#160;System.&#160;A&#160;tool&#160;for&#160;development&#160;of&#160;SNARKs&#160;takes&#160;the&#160;circuit&#160;specification&#160;as&#160;an<br/>
input,&#160;and&#160;compiles&#160;it&#160;to&#160;an&#160;intermediate&#160;representation.&#160;At&#160;the&#160;time&#160;of&#160;writing,&#160;the&#160;most<br/>popular&#160;intermediate&#160;representations&#160;are&#160;<a href="2023-1503s.html#1">Rank-1&#160;Constraint&#160;System&#160;(R1CS)&#160;</a><a href="2023-1503s.html#23">[55],&#160;</a><a href="2023-1503s.html#1">Arithmetic<br/>Intermediate&#160;Representation&#160;(AIR)&#160;</a><a href="2023-1503s.html#21">[8]&#160;</a>and&#160;Plonkish&#160;<a href="2023-1503s.html#22">[32].</a><br/>
‚Ä¢&#160;Witness&#160;Generation.&#160;To&#160;generate&#160;a&#160;transcript&#160;of&#160;wire&#160;assignments&#160;to&#160;the&#160;arithmetic&#160;circuit,<br/>
the&#160;intermediate&#160;representation&#160;is&#160;assigned&#160;with&#160;both&#160;the&#160;public&#160;and&#160;private&#160;inputs&#160;of&#160;the<br/>statement&#160;to&#160;be&#160;proven.&#160;In&#160;some&#160;tools&#160;for&#160;<a href="2023-1503s.html#1">SNARK&#160;</a>development,&#160;the&#160;process&#160;of&#160;witness<br/>generation&#160;is&#160;not&#160;a&#160;distinct&#160;step&#160;but&#160;rather&#160;integrated&#160;into&#160;the&#160;prover&#160;API.&#160;For&#160;clarity&#160;and<br/>ease&#160;of&#160;understanding,&#160;we&#160;separate&#160;out&#160;the&#160;witness&#160;generation&#160;in&#160;our&#160;explanation.<br/>
3<br/>
ARCHITECTURE<br/>
In&#160;this&#160;section,&#160;we&#160;present&#160;the&#160;architecture&#160;of&#160;our&#160;framework:&#160;the&#160;core&#160;design&#160;decisions,&#160;the&#160;structure<br/>of&#160;the&#160;system,&#160;and&#160;the&#160;methodology&#160;used&#160;for&#160;collecting&#160;samples&#160;and&#160;estimating&#160;performance.<br/>
3.1<br/>
Design&#160;Decisions<br/>
Goals.&#160;The&#160;primary&#160;goal&#160;of&#160;zk-Bench&#160;is&#160;to&#160;provide&#160;a&#160;valid,&#160;fair,&#160;and&#160;methodologically&#160;sound&#160;system<br/>to&#160;measure&#160;performance.&#160;To&#160;achieve&#160;this&#160;goal,&#160;we&#160;pursue&#160;the&#160;following&#160;set&#160;of&#160;points:<br/>
G1&#160;Completeness:&#160;zk-Bench&#160;covers&#160;quantitative&#160;metrics&#160;for&#160;components&#160;shown&#160;in&#160;Fig.&#160;<a href="2023-1503s.html#5">2,&#160;</a>includ-<br/>
ing&#160;low-level&#160;arithmetic&#160;operations,&#160;public-key&#160;operations,&#160;proof&#160;system&#160;performance,&#160;and<br/>circuit&#160;execution.&#160;As&#160;of&#160;now,&#160;we&#160;support&#160;9&#160;arithmetic&#160;libraries&#160;covering&#160;the&#160;implementation<br/>
<hr/>
<a name=7></a>zk-Bench:&#160;A&#160;Toolset&#160;for&#160;Comparative&#160;Evaluation<br/>and&#160;Performance&#160;Benchmarking&#160;of&#160;SNARKs<br/>
7<br/>
of&#160;13&#160;elliptic&#160;curves&#160;and&#160;5&#160;tools&#160;for&#160;ZKP&#160;development.&#160;Our&#160;framework&#160;accounts&#160;for&#160;‚àº&#160;3&#160;300<br/>lines&#160;of&#160;Go,&#160;‚àº&#160;2&#160;600&#160;lines&#160;of&#160;Rust,&#160;‚àº&#160;2&#160;000&#160;lines&#160;of&#160;Python,&#160;and&#160;‚àº&#160;1&#160;800&#160;lines&#160;of&#160;JavaScript&#160;code.<br/>
G2&#160;Modularity:&#160;Whenever&#160;possible,&#160;we&#160;leverage&#160;benchmarks&#160;from&#160;the&#160;upstream&#160;library,&#160;enhance<br/>
them&#160;as&#160;required,&#160;and&#160;contribute&#160;our&#160;modifications&#160;back&#160;to&#160;the&#160;original&#160;source.&#160;We&#160;rely&#160;on<br/>popular&#160;benchmarking&#160;libraries&#160;to&#160;perform&#160;accurate&#160;timing&#160;measurements.&#160;Our&#160;framework<br/>design&#160;is&#160;modular&#160;to&#160;facilitate&#160;extension&#160;by&#160;external&#160;developers:&#160;each&#160;arithmetic&#160;operation<br/>and&#160;circuit&#160;is&#160;tested&#160;separately,&#160;and&#160;the&#160;arithmetic&#160;benchmarks&#160;are&#160;isolated&#160;from&#160;circuit<br/>benchmarks.&#160;Additionally,&#160;little&#160;developer&#160;effort&#160;is&#160;required&#160;to&#160;extend&#160;our&#160;circuit&#160;benchmarks.<br/>For&#160;instance,&#160;integrating&#160;Bellman&#160;into&#160;zk-Bench&#160;necessitates&#160;81&#160;lines&#160;of&#160;code&#160;(LOC)&#160;in&#160;Rust&#160;to<br/>automate&#160;the&#160;benchmarking&#160;of&#160;circuits,&#160;along&#160;with&#160;40&#160;lines&#160;of&#160;Python&#160;code&#160;to&#160;add&#160;it&#160;to&#160;our<br/>framework.&#160;In&#160;contrast,&#160;adding&#160;a&#160;new&#160;circuit&#160;requires&#160;an&#160;additional&#160;30&#160;lines&#160;of&#160;Rust&#160;code&#160;for<br/>benchmarking&#160;registration.&#160;For&#160;a&#160;DSL&#160;such&#160;as&#160;Circom,&#160;integration&#160;into&#160;zk-Bench&#160;demands<br/>more&#160;effort,&#160;with&#160;210&#160;lines&#160;of&#160;scripting&#160;code&#160;plus&#160;40&#160;lines&#160;of&#160;Python&#160;code,&#160;whereas&#160;adding<br/>additional&#160;circuits&#160;needs&#160;no&#160;extra&#160;LOC&#160;beyond&#160;the&#160;circuit&#160;itself.<br/>
G3&#160;Reproducibility:&#160;Benchmarks&#160;are&#160;automated&#160;and&#160;executed&#160;on&#160;standardized&#160;cloud&#160;hardware<br/>
with&#160;reproducible&#160;configurations.&#160;This&#160;ensures&#160;consistent&#160;and&#160;comparable&#160;results,&#160;facilitating<br/>
reliable&#160;performance&#160;evaluations.&#160;Benchmarking&#160;results&#160;are&#160;publicly&#160;accessible.<br/>
G4&#160;Pragmatism:&#160;Our&#160;objective&#160;is&#160;to&#160;evaluate&#160;libraries&#160;under&#160;conditions&#160;that&#160;mirror&#160;practical<br/>
deployments:&#160;we&#160;set&#160;optimization&#160;flags&#160;whenever&#160;possible,&#160;and&#160;use&#160;all&#160;cores&#160;available&#160;in&#160;the<br/>machine.&#160;Such&#160;a&#160;setup&#160;mirrors&#160;the&#160;common&#160;usage&#160;of&#160;these&#160;tools&#160;in&#160;real-world&#160;applications<br/>and&#160;does&#160;not&#160;compromise&#160;the&#160;accuracy&#160;of&#160;the&#160;measurements&#160;(cf.&#160;Section&#160;<a href="2023-1503s.html#10">5).&#160;</a>To&#160;the&#160;best&#160;of&#160;our<br/>knowledge,&#160;there&#160;are&#160;no&#160;standard&#160;formats&#160;for&#160;recording&#160;raw&#160;benchmark&#160;data.&#160;We&#160;develop&#160;a<br/>unified&#160;format&#160;that&#160;can&#160;be&#160;used&#160;in&#160;the&#160;future&#160;also&#160;by&#160;other&#160;developers.<br/>
Metrics.&#160;In&#160;a&#160;zero-knowledge&#160;proof&#160;system,&#160;the&#160;main&#160;performance&#160;evaluation&#160;metrics&#160;are&#160;compu-<br/>tation&#160;time,&#160;computation&#160;space,&#160;and&#160;proof&#160;size.&#160;We&#160;capture&#160;all&#160;the&#160;above&#160;in&#160;the&#160;following&#160;way:<br/>
M1&#160;Execution&#160;time:&#160;We&#160;rely&#160;on&#160;the&#160;following&#160;state-of-the-art&#160;libraries&#160;and&#160;profilers:&#160;(a)&#160;for&#160;Rust,<br/>
we&#160;selected&#160;criterion.rs&#160;<a href="2023-1503s.html#22">[12];&#160;</a>(b)&#160;in&#160;Go,&#160;we&#160;selected&#160;the&#160;standard&#160;library‚Äôs&#160;benchmark&#160;toolsuite<br/>
<a href="https://pkg.go.dev/testing#hdr-Benchmarks">testing&#160;package&#160;</a>for&#160;the&#160;arithmetic&#160;backend,&#160;and&#160;a&#160;<a href="https://github.com/pkg/profile">CPU&#160;profiler&#160;</a>for&#160;the&#160;circuit&#160;backend;&#160;(c)&#160;for<br/>JavaScript,&#160;we&#160;rely&#160;on&#160;tinybench&#160;<a href="2023-1503s.html#21">[1].&#160;</a>All&#160;libraries&#160;adaptively&#160;select&#160;the&#160;number&#160;of&#160;samples,<br/>and&#160;return&#160;the&#160;average&#160;running&#160;<a href="2023-1503s.html#7">time4.</a><br/>
M2&#160;Memory&#160;consumption:&#160;Due&#160;to&#160;the&#160;absence&#160;of&#160;a&#160;precise&#160;universal&#160;memory&#160;measurement<br/>
framework&#160;and&#160;varying&#160;footprints&#160;across&#160;programming&#160;languages,&#160;we&#160;limited&#160;our&#160;comparison<br/>to&#160;memory&#160;usage&#160;within&#160;tools&#160;for&#160;developing&#160;general-purpose&#160;<a href="2023-1503s.html#1">ZKPs.&#160;</a>zk-Bench&#160;generates<br/>binaries&#160;that&#160;are&#160;independent&#160;of&#160;the&#160;ones&#160;used&#160;for&#160;evaluating&#160;execution&#160;time,&#160;and&#160;measures&#160;the<br/>maximum&#160;resident&#160;set&#160;size&#160;throughout&#160;its&#160;execution.&#160;We&#160;include&#160;the&#160;serialization/deserializa-<br/>tion&#160;of&#160;relevant&#160;values&#160;in&#160;each&#160;phase&#160;to&#160;measure&#160;memory&#160;consumption&#160;of&#160;the&#160;setup&#160;algorithm,<br/>prove&#160;and&#160;verify&#160;in&#160;isolation&#160;and&#160;accurately&#160;reflect&#160;real-world&#160;usage&#160;of&#160;proof&#160;systems.<br/>
M3&#160;Proof&#160;size:&#160;We&#160;consider&#160;the&#160;byte-size&#160;of&#160;a&#160;serialized&#160;proof.&#160;Since&#160;proofs&#160;are&#160;cryptographic<br/>
objects,&#160;the&#160;proof&#160;size&#160;cannot&#160;be&#160;shrunk&#160;significantly&#160;using&#160;compression&#160;algorithms.<br/>
3.2<br/>
Backend<br/>
Two&#160;core&#160;components&#160;constitute&#160;our&#160;framework:<br/>Arithmetics&#160;Backend.&#160;The&#160;arithmetics&#160;backend&#160;is&#160;responsible&#160;for&#160;benchmarking&#160;low-level<br/>
arithmetic&#160;operations&#160;of&#160;supported&#160;libraries,&#160;e.g.,&#160;operations&#160;over&#160;finite&#160;fields&#160;and&#160;elliptic&#160;curves.<br/>
We&#160;benchmark&#160;the&#160;following&#160;operations:<br/>
4Another&#160;possible&#160;approach&#160;here&#160;would&#160;be&#160;to&#160;instead&#160;return&#160;the&#160;mode.&#160;Conformingly&#160;to&#160;our&#160;requirement&#160;of&#160;modularity,&#160;we<br/>opted&#160;for&#160;leaving&#160;the&#160;default&#160;metric&#160;of&#160;those&#160;libraries&#160;unchanged.<br/>
<hr/>
<a name=8></a>8<br/>
Ernstberger,&#160;et&#160;al.<br/>
‚Ä¢&#160;Field&#160;operations:&#160;for&#160;ùëé,&#160;ùëè&#160;‚àà&#160;Z&#160;sampled&#160;uniformly&#160;at&#160;random,&#160;we&#160;measure&#160;addition&#160;ùëé&#160;+&#160;ùëè,<br/>
ùëù<br/>
multiplication<br/>
‚àí1<br/>
ùëé&#160;¬∑&#160;ùëè&#160;,&#160;inversion&#160;ùëé<br/>
.<br/>
‚Ä¢&#160;Elliptic&#160;curve&#160;group&#160;operations:&#160;for&#160;ùëé&#160;‚àà&#160;Z&#160;and&#160;ùëÉ,&#160;ùëÑ&#160;‚àà<br/>
ùëù<br/>
G&#160;sampled&#160;uniformly&#160;at&#160;random,<br/>
we&#160;measure&#160;group&#160;addition&#160;ùëÉ&#160;+&#160;ùëÑ&#160;and&#160;scalar&#160;multiplication&#160;ùëéùëÉ&#160;(a&#160;so-called&#160;Diffie-Hellman).<br/>We&#160;do&#160;not&#160;concern&#160;ourselves&#160;with&#160;different&#160;encodings&#160;and&#160;algorithms&#160;behind&#160;elliptic&#160;curve<br/>
operation.&#160;Instead,&#160;we&#160;measure&#160;basic&#160;APIs&#160;offered&#160;by&#160;each&#160;library,&#160;as&#160;they&#160;represent&#160;the<br/>primary&#160;interfaces&#160;that&#160;most&#160;library&#160;users&#160;will&#160;engage&#160;with.<br/>
‚Ä¢&#160;Elliptic&#160;curve&#160;pairing&#160;operations:&#160;For&#160;elliptic&#160;curves&#160;equipped&#160;with&#160;a&#160;pairing&#160;map&#160;ùëí&#160;:<br/>
G1&#160;√ó&#160;G2&#160;‚Üí&#160;G&#160;,&#160;we&#160;measure&#160;the&#160;pairing&#160;time&#160;ùëí&#160;(ùê¥,&#160;ùêµ)&#160;for&#160;ùê¥,&#160;ùêµ&#160;uniformly&#160;random&#160;in<br/>
ùëá<br/>
G1,&#160;G2.<br/>
‚Ä¢&#160;Amortized&#160;operations:&#160;Our&#160;focus&#160;extends&#160;to&#160;cryptographic&#160;operations&#160;that&#160;benefit&#160;from<br/>
amortization&#160;using&#160;tailored&#160;algorithms,&#160;prompting&#160;us&#160;to&#160;assess&#160;the&#160;amortized&#160;runtime.<br/>Specifically,&#160;we&#160;examine&#160;computation&#160;of&#160;an&#160;inner-product&#160;in&#160;the&#160;field:&#160;for&#160;some&#160;ùëõ&#160;&gt;&#160;0,<br/>given&#160;¬Æ&#160;¬Æ<br/>
ùëõ<br/>
¬Æ<br/>
ùëé,&#160;ùëè<br/>
‚àà&#160;Z&#160;,&#160;compute&#160;√ç&#160;ùëé&#160;ùëè&#160;<a href="2023-1503s.html#23">[47];&#160;</a>multi-scalar&#160;multiplications:&#160;given&#160;¬Æ<br/>
ùëé,&#160;ùê∫&#160;,&#160;compute<br/>
ùëù<br/>
ùëñ<br/>
ùëñ<br/>
ùëñ<br/>
√ç<br/>
¬Æ<br/>
ùëé&#160;ùê∫<br/>
<a href="2023-1503s.html#23">[57];&#160;</a>multi-pairing:&#160;given&#160;¬Æ<br/>
ùê¥<br/>
‚àà<br/>
ùêµ<br/>
‚àà<br/>
ùëí&#160;(ùê¥&#160;,&#160;ùêµ&#160;);&#160;the&#160;number-<br/>
ùëñ<br/>
ùëñ<br/>
ùëñ<br/>
G1,<br/>
G2,&#160;compute&#160;√çùëñ<br/>
ùëñ<br/>
ùëñ<br/>
theoretic&#160;transform&#160;(NTT)&#160;in&#160;fields&#160;with&#160;high&#160;2-adicity&#160;<a href="2023-1503s.html#22">[24].</a><br/>
The&#160;number&#160;of&#160;samples&#160;for&#160;each&#160;operation&#160;is&#160;decided&#160;adaptively&#160;by&#160;the&#160;underlying&#160;benchmarking<br/>
library.&#160;Amortized&#160;operations&#160;are&#160;sampled&#160;across&#160;the&#160;geometric&#160;sequence&#160;of&#160;sizes&#160;21,&#160;22,&#160;.&#160;.&#160;.&#160;,&#160;222<br/>and&#160;more.&#160;For&#160;each&#160;sample,&#160;we&#160;make&#160;sure&#160;that&#160;at&#160;least&#160;10&#160;executions&#160;are&#160;performed.&#160;Note,&#160;that<br/>there&#160;are&#160;various&#160;approaches&#160;to&#160;perform&#160;multi-scalar&#160;multiplication&#160;with&#160;individual&#160;trade-offs&#160;<a href="2023-1503s.html#22">[11].<br/></a>In&#160;zk-Bench,&#160;we&#160;do&#160;not&#160;differentiate&#160;between&#160;the&#160;specific&#160;optimizations&#160;chosen&#160;in&#160;individual<br/>implementations.&#160;Instead,&#160;we&#160;benchmark&#160;the&#160;given&#160;libraries&#160;as&#160;is,&#160;without&#160;altering&#160;existing&#160;methods.<br/>
Circuit&#160;Backend.&#160;For&#160;every&#160;supported&#160;tool&#160;for&#160;ZKP&#160;development,&#160;the&#160;circuit&#160;backend&#160;includes<br/>three&#160;distinct&#160;runners,&#160;each&#160;designated&#160;for&#160;setup,&#160;proving,&#160;and&#160;verifying&#160;phases.&#160;The&#160;configuration<br/>file&#160;describes&#160;the&#160;system&#160;under&#160;test.&#160;It&#160;specifies&#160;the&#160;library/DSL&#160;to&#160;benchmark,&#160;the&#160;algebraic&#160;structure<br/>
(that&#160;is,&#160;finite&#160;field&#160;or&#160;elliptic&#160;curve)&#160;to&#160;rely&#160;on,&#160;the&#160;backend,&#160;and&#160;the&#160;inputs&#160;to&#160;the&#160;circuit.<br/>
To&#160;precisely&#160;measure&#160;the&#160;execution&#160;time,&#160;we&#160;adopt&#160;the&#160;same&#160;micro-benchmarking&#160;libraries,<br/>
making&#160;sure&#160;that&#160;a&#160;minimum&#160;of&#160;10&#160;samples&#160;are&#160;gathered&#160;for&#160;larger&#160;circuits.&#160;Upon&#160;successfully<br/>benchmarking&#160;the&#160;circuit,&#160;the&#160;execution&#160;time&#160;is&#160;stored&#160;in&#160;publicly&#160;accessible&#160;CSV&#160;files.&#160;Arbitrary<br/>payloads&#160;can&#160;be&#160;added&#160;with&#160;ease.&#160;The&#160;benchmark&#160;runners&#160;can&#160;remain&#160;untouched,&#160;whereas&#160;the<br/>developer&#160;only&#160;provides&#160;a&#160;circuit&#160;implementation&#160;to&#160;evaluate&#160;its&#160;performance.<br/>
3.3<br/>
Log&#160;Parser<br/>
We&#160;provide&#160;two&#160;specialized&#160;parsers&#160;that&#160;convert&#160;micro-benchmarking&#160;tool&#160;outputs&#160;into&#160;standard<br/>
formats,&#160;probing&#160;for&#160;the&#160;different&#160;arithmetic&#160;operations&#160;and&#160;elliptic&#160;curves&#160;being&#160;tested.&#160;The<br/>processed&#160;results,&#160;available&#160;in&#160;both&#160;JSON&#160;and&#160;CSV,&#160;are&#160;utilized&#160;by&#160;the&#160;supplied&#160;front-ends.<br/>
3.4<br/>
Frontend<br/>
We&#160;design&#160;two&#160;frontends&#160;to&#160;help&#160;visualize&#160;and&#160;extract&#160;information&#160;from&#160;the&#160;collected&#160;benchmarks.<br/>
‚Ä¢&#160;Zkalc:&#160;Zkalc&#160;is&#160;a&#160;JavaScript&#160;library&#160;and&#160;public&#160;website&#160;using&#160;the&#160;benchmark&#160;data&#160;to<br/>
present&#160;(1)&#160;estimates&#160;for&#160;the&#160;execution&#160;times&#160;of&#160;cryptographic&#160;operations,&#160;and&#160;(2)&#160;graphs&#160;to<br/>compare&#160;performance&#160;across&#160;different&#160;libraries&#160;and&#160;programming&#160;languages;<br/>
‚Ä¢&#160;zk-Harness:&#160;zk-Harness&#160;is&#160;a&#160;web&#160;application&#160;that&#160;leverages&#160;the&#160;benchmark&#160;data&#160;to&#160;illustrate<br/>
the&#160;computation&#160;time,&#160;memory,&#160;and&#160;proof&#160;size&#160;for&#160;each&#160;ZKP&#160;development&#160;tool&#160;or&#160;library,<br/>across&#160;various&#160;payloads.&#160;It&#160;enables&#160;comparisons&#160;between&#160;different&#160;implementations&#160;and<br/>configurations.<br/>
<hr/>
<a name=9></a>zk-Bench:&#160;A&#160;Toolset&#160;for&#160;Comparative&#160;Evaluation<br/>and&#160;Performance&#160;Benchmarking&#160;of&#160;SNARKs<br/>
9<br/>
Table&#160;1.&#160;(a)&#160;Overview&#160;of&#160;arithmetic&#160;libraries&#160;and&#160;elliptic&#160;curves&#160;currently&#160;present&#160;in&#160;our&#160;benchmarking<br/>framework.&#160;(b)&#160;Overview&#160;of&#160;ZKP&#160;libraries&#160;and&#160;proof&#160;systems&#160;as&#160;included&#160;in&#160;our&#160;benchmarking&#160;framework,<br/>and&#160;curves/fields&#160;that&#160;we&#160;consider&#160;in&#160;the&#160;results&#160;section.&#160;*We&#160;use&#160;Circom&#160;with&#160;Snarkjs&#160;and&#160;Rapidsnark.<br/>
(a)<br/>
es<br/>
v<br/>
(b)<br/>
e25519<br/>
cur<br/>
v<br/>
esta&#160;cp256k1<br/>
<a href="2023-1503s.html#22">[28]</a><br/>
BLS12-381&#160;BN254&#160;cur<br/>
BLS12-377&#160;pallas&#160;v<br/>
se<br/>
jubjub&#160;BW6<br/>
<a href="2023-1503s.html#23">[69]</a><br/>
<a href="2023-1503s.html#22">[17]</a><br/>
<a href="2023-1503s.html#22">[39]*</a><br/>
<a href="2023-1503s.html#23">[59]</a><br/>
curve25519-dalek&#160;(4.1.1)<br/>
&#160;<br/>
com<br/>
pasta_curves&#160;(0.5.1)<br/>
&#160;&#160;&#160;<br/>
Bellman<br/>
PSE/Halo2<br/>
Gnark<br/>
Cir<br/>
Starky<br/>
gnark_crypto&#160;(0.11.1)<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
arkwork-rs&#160;(0.4.2)<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
e/<br/>
BLS12-381<br/>
&#160;<br/>
&#160;<br/>
v<br/>
ffjavascript&#160;(0.3.59)<br/>
&#160;<br/>
&#160;<br/>
BN254<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
Cur<br/>
Field<br/>
halo2_curves&#160;(0.3.1)<br/>
&#160;<br/>
&#160;&#160;&#160;<br/>
Goldilocks<br/>
&#160;<br/>
pairing_ce&#160;(0.28.5)<br/>
&#160;<br/>
&#160;<br/>
Groth16<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
zkcrypto&#160;(0.23)<br/>
&#160;<br/>
&#160;<br/>
Halo2/Plonk&#160;(KZG)<br/>
&#160;<br/>
&#160;<br/>
blstrs&#160;(0.7.0)<br/>
&#160;<br/>
Stark<br/>
&#160;<br/>
Backend<br/>
While&#160;the&#160;former&#160;is&#160;targeted&#160;for&#160;generic&#160;public-key&#160;operations&#160;and&#160;cost&#160;estimations&#160;(which&#160;we<br/>
believe&#160;can&#160;be&#160;useful&#160;also&#160;outside&#160;the&#160;zero-knowledge&#160;space,&#160;such&#160;as&#160;identity-&#160;and&#160;attribute-based<br/>encryption,&#160;functional&#160;encryption,&#160;etc.),&#160;the&#160;latter&#160;is&#160;targeted&#160;at&#160;zero-knowledge&#160;circuit&#160;developers.<br/>
4<br/>
SELECTED&#160;ARITHMETIC&#160;LIBRARIES&#160;AND&#160;TOOLS&#160;FOR&#160;ZKP&#160;DEVELOPMENT<br/>
We&#160;implement&#160;benchmarks&#160;for&#160;13&#160;different&#160;elliptic&#160;curves&#160;across&#160;9&#160;different&#160;libraries&#160;in&#160;Rust,&#160;Go,<br/>
and&#160;JavaScript&#160;(Wasm)&#160;in&#160;the&#160;arithmetics&#160;backend,&#160;and&#160;5&#160;tools&#160;that&#160;provide&#160;functionalities&#160;to&#160;build<br/>ZKP&#160;applications&#160;in&#160;the&#160;circuit&#160;backend.<br/>
When&#160;benchmarking&#160;SNARKs,&#160;we&#160;focus&#160;on&#160;<a href="2023-1503s.html#9">BN2545&#160;</a>and&#160;BLS12-381,&#160;two&#160;extensively&#160;used&#160;curves,<br/>
especially&#160;in&#160;relation&#160;to&#160;SNARKs,&#160;and&#160;implemented&#160;in&#160;the&#160;selected&#160;libraries&#160;and&#160;tools&#160;we&#160;benchmark<br/>
(cf.&#160;Table&#160;<a href="2023-1503s.html#9">1b).&#160;</a>For&#160;STARKs,&#160;we&#160;operate&#160;in&#160;the&#160;Goldilocks&#160;field,&#160;as&#160;it&#160;is&#160;the&#160;only&#160;one&#160;used&#160;by&#160;starky.<br/>
In&#160;this&#160;section,&#160;we&#160;outline&#160;the&#160;reasoning&#160;behind&#160;our&#160;selection.&#160;Note&#160;that&#160;zk-Bench&#160;is&#160;designed&#160;for<br/>
modularity&#160;and&#160;ease&#160;of&#160;extension&#160;‚Äî&#160;moving&#160;forward,&#160;we&#160;aim&#160;to&#160;extend&#160;our&#160;holistic&#160;comparison&#160;by<br/>supporting&#160;further&#160;arithmetic&#160;libraries&#160;and&#160;ZKP&#160;development&#160;tools.<br/>
4.1<br/>
Arithmetic&#160;Libraries<br/>
We&#160;opted&#160;to&#160;support&#160;a&#160;diverse&#160;range&#160;of&#160;arithmetic&#160;libraries&#160;for&#160;executing&#160;generic&#160;public-key<br/>
operations.&#160;Our&#160;goal&#160;is&#160;not&#160;just&#160;to&#160;understand&#160;the&#160;differences&#160;in&#160;their&#160;implementations&#160;and&#160;curves,<br/>but&#160;also&#160;to&#160;discern&#160;their&#160;potential&#160;impacts&#160;on&#160;applications&#160;and&#160;libraries&#160;that&#160;further&#160;rely&#160;on&#160;them.<br/>
Firstly,&#160;we&#160;selected&#160;arithmetic&#160;libraries&#160;that&#160;form&#160;the&#160;core&#160;of&#160;popular&#160;and&#160;state-of-the-art&#160;tools<br/>
for&#160;developing&#160;<a href="2023-1503s.html#1">ZKPs.&#160;</a>Such&#160;libraries&#160;include&#160;arkworks-rs&#160;(Arkworks&#160;<a href="2023-1503s.html#21">[2]),&#160;</a>pasta_curves&#160;(Halo2&#160;<a href="2023-1503s.html#23">[68]),<br/></a>halo2_curves&#160;(PSE/Halo2&#160;<a href="2023-1503s.html#22">[28]),&#160;</a>zkcrypto&#160;(Bellman&#160;<a href="2023-1503s.html#23">[69]),&#160;</a>pairing_ce&#160;(Bellman-ce&#160;<a href="2023-1503s.html#23">[42]),&#160;</a>ffjavascript<br/>
(Snarkjs&#160;<a href="2023-1503s.html#22">[38]),&#160;</a>and&#160;gnark_crypto&#160;(Gnark&#160;<a href="2023-1503s.html#22">[17]).&#160;</a>Further,&#160;we&#160;included&#160;blstrs&#160;as&#160;a&#160;baseline&#160;for&#160;curve<br/>
BLS12-381,&#160;a&#160;library&#160;extensively&#160;utilized&#160;by&#160;various&#160;Ethereum&#160;projects,&#160;and&#160;curve25519-dalek,&#160;a<br/>
widely&#160;adopted&#160;library&#160;used&#160;by&#160;more&#160;than&#160;70,000&#160;repositories.&#160;Our&#160;selection&#160;of&#160;these&#160;9&#160;libraries<br/>
encompasses&#160;a&#160;wide&#160;range&#160;of&#160;fields,&#160;curves,&#160;and&#160;state-of-the-art&#160;optimizations.&#160;The&#160;details&#160;of&#160;the<br/>selected&#160;arithmetic&#160;libraries&#160;are&#160;summarized&#160;in&#160;Table&#160;<a href="2023-1503s.html#9">1a.</a><br/>
5Note:&#160;different&#160;libraries&#160;sometimes&#160;refer&#160;to&#160;the&#160;same&#160;curve&#160;using&#160;different&#160;names.&#160;BN254&#160;is&#160;also&#160;called&#160;BN256&#160;and&#160;alt_bn128.<br/>
<hr/>
<a name=10></a>10<br/>
Ernstberger,&#160;et&#160;al.<br/>
Table&#160;2.&#160;Hardware&#160;specification&#160;as&#160;applied&#160;in&#160;the&#160;experimental&#160;infrastructure.<br/>
Name<br/>
RAM<br/>
OS<br/>
#vCPU<br/>
CPU<br/>
m5.large<br/>
8&#160;GB<br/>
Amazon&#160;Linux&#160;23<br/>
2<br/>
Intel&#160;Xeon&#160;E5-2686<br/>
m5.2xlarge<br/>
32&#160;GB<br/>
Amazon&#160;Linux&#160;23<br/>
8<br/>
Intel&#160;Xeon&#160;8175M<br/>
m6i.8xlarge<br/>
128&#160;GB<br/>
Amazon&#160;Linux&#160;23<br/>
32<br/>
Intel&#160;Xeon&#160;8375C<br/>
m6g.8xlarge<br/>
128&#160;GB<br/>
Amazon&#160;Linux&#160;23<br/>
32<br/>
Graviton2<br/>
r6i.8xlarge<br/>
256&#160;GB<br/>
Amazon&#160;Linux&#160;23<br/>
32<br/>
Intel&#160;Xeon&#160;8375C<br/>
c6i.12xlarge<br/>
128&#160;GB<br/>
Amazon&#160;Linux&#160;23<br/>
48<br/>
Intel&#160;Xeon&#160;8375C<br/>
4.2<br/>
Tools&#160;for&#160;ZKP&#160;Development<br/>
In&#160;selecting&#160;a&#160;variety&#160;of&#160;initial&#160;tools&#160;for&#160;ZKP&#160;development&#160;in&#160;our&#160;experiments,&#160;we&#160;aim&#160;to&#160;reflect&#160;the<br/>current&#160;space&#160;of&#160;systems&#160;from&#160;a&#160;neutral&#160;perspective,&#160;without&#160;subjectively&#160;favoring&#160;one&#160;tool&#160;over<br/>another.&#160;Therefore,&#160;we&#160;identified&#160;popular&#160;libraries&#160;and&#160;DSL&#160;by&#160;examining&#160;their&#160;popularity,&#160;quantified<br/>through&#160;their&#160;number&#160;of&#160;Github&#160;stars,&#160;and&#160;maintenance,&#160;quantified&#160;by&#160;their&#160;most&#160;recent&#160;commit<br/>
(cf.&#160;Appendix&#160;<a href="2023-1503s.html#24">A).&#160;</a>We&#160;include&#160;circom,&#160;gnark&#160;and&#160;bellman&#160;due&#160;to&#160;their&#160;popularity.&#160;Note&#160;that&#160;we&#160;do<br/>
not&#160;include&#160;libsnark,&#160;due&#160;to&#160;insufficient&#160;maintenance&#160;in&#160;the&#160;recent&#160;past&#160;and&#160;a&#160;decreasing&#160;relevance<br/>among&#160;practically&#160;applied&#160;solutions.&#160;Beyond&#160;popularity&#160;and&#160;maintenance,&#160;we&#160;included&#160;starky<br/>and&#160;halo2_ce.&#160;halo2_ce&#160;is&#160;a&#160;fork&#160;of&#160;halo2&#160;by&#160;Ethereum‚Äôs&#160;Privacy-Scaling-Exploration&#160;(PSE)<br/>that&#160;replaces&#160;the&#160;Inner&#160;Product&#160;Argument&#160;with&#160;the&#160;<a href="2023-1503s.html#1">Kate,&#160;Zaverucha,&#160;Goldberg&#160;(KZG)&#160;</a>polynomial<br/>commitment&#160;scheme.&#160;<a href="2023-1503s.html#10">6&#160;</a>This&#160;decision&#160;was&#160;largely&#160;influenced&#160;by&#160;(i)&#160;the&#160;requirement&#160;of&#160;including<br/>a&#160;<a href="2023-1503s.html#1">Succinct&#160;Transparent&#160;Argument&#160;of&#160;Knowledge&#160;(STARK)&#160;</a>as&#160;opposed&#160;to&#160;a&#160;ZKP&#160;based&#160;on&#160;pairing-<br/>friendly&#160;elliptic&#160;curves&#160;and&#160;(ii)&#160;the&#160;relevance&#160;of&#160;starky&#160;in&#160;the&#160;upcoming&#160;Polygon&#160;zkEVM&#160;and&#160;halo2<br/>in&#160;the&#160;upcoming&#160;zkEVM&#160;of&#160;Scroll.<br/>
The&#160;tools&#160;for&#160;developing&#160;<a href="2023-1503s.html#1">ZKPs&#160;</a>examined&#160;in&#160;this&#160;study,&#160;as&#160;detailed&#160;in&#160;Table&#160;<a href="2023-1503s.html#9">1b,&#160;</a>span&#160;an&#160;extensive<br/>
range&#160;of&#160;arithmetizations&#160;and&#160;methodologies.&#160;Four&#160;of&#160;the&#160;tools&#160;support&#160;pairing-based&#160;SNARKs,<br/>one&#160;accommodates&#160;STARKs,&#160;while&#160;three&#160;utilize&#160;<a href="2023-1503s.html#1">R1CS.&#160;</a>Additionally,&#160;two&#160;of&#160;the&#160;tools&#160;are&#160;built&#160;to<br/>support&#160;Plonkish&#160;arithmetization.&#160;Moreover,&#160;among&#160;the&#160;selected&#160;tools&#160;for&#160;<a href="2023-1503s.html#1">SNARK&#160;</a>development,<br/>one&#160;offers&#160;a&#160;DSL,&#160;while&#160;the&#160;remaining&#160;provide&#160;libraries,&#160;with&#160;three&#160;providing&#160;APIs&#160;in&#160;Rust&#160;and&#160;one<br/>in&#160;Golang.&#160;This&#160;diversity&#160;in&#160;the&#160;supported&#160;architectures&#160;and&#160;programming&#160;languages&#160;ensures&#160;a<br/>broad&#160;coverage,&#160;thus&#160;allowing&#160;for&#160;more&#160;comprehensive&#160;and&#160;insightful&#160;results.<br/>
5<br/>
BENCHMARK&#160;RESULTS<br/>
5.1<br/>
Experimental&#160;Infrastructure<br/>
All&#160;benchmarks&#160;were&#160;executed&#160;with&#160;four&#160;different&#160;hardware&#160;setups,&#160;summarized&#160;in&#160;Table&#160;<a href="2023-1503s.html#10">2.</a><br/>
‚Ä¢&#160;Setup&#160;Small&#160;(AWS&#160;m5.large):&#160;This&#160;setup&#160;represents&#160;an&#160;entry-level&#160;cloud&#160;server&#160;configura-<br/>
tion,&#160;suitable&#160;for&#160;lightweight&#160;applications.<br/>
‚Ä¢&#160;Setup&#160;Personal&#160;(AWS&#160;m5.2xlarge):&#160;This&#160;setup&#160;emulates&#160;the&#160;hardware&#160;of&#160;a&#160;midgrade&#160;laptop<br/>
for&#160;personal&#160;use&#160;and&#160;general-purpose&#160;computation.<br/>
‚Ä¢&#160;Setup&#160;Server&#160;x86&#160;(AWS&#160;m6i.8xlarge):&#160;This&#160;setup&#160;emulates&#160;the&#160;hardware&#160;of&#160;a&#160;server&#160;for<br/>
general-purpose&#160;computation&#160;with&#160;a&#160;large&#160;amount&#160;of&#160;memory.<br/>
‚Ä¢&#160;Setup&#160;Server&#160;ARM&#160;(AWS&#160;m6g.8xlarge):&#160;We&#160;run&#160;zk-Bench&#160;on&#160;different&#160;processors&#160;to&#160;evaluate<br/>
the&#160;impact&#160;of&#160;CPU&#160;architectures&#160;on&#160;<a href="2023-1503s.html#1">SNARK&#160;</a>performance.<br/>
‚Ä¢&#160;Setup&#160;Memory&#160;Optimized&#160;machine&#160;(AWS&#160;r6i.8xlarge):&#160;This&#160;machine&#160;provides&#160;an&#160;enhanced<br/>
RAM&#160;configuration,&#160;tailored&#160;for&#160;tasks&#160;requiring&#160;significant&#160;memory&#160;consumption.<br/>
‚Ä¢&#160;Setup&#160;CPU&#160;Optimized&#160;machine&#160;(AWS&#160;c6i.12xlarge):&#160;Designed&#160;to&#160;prioritize&#160;processing&#160;power,<br/>
this&#160;setup&#160;is&#160;ideal&#160;for&#160;compute-heavy&#160;applications&#160;and&#160;parallel&#160;processing&#160;tasks.<br/>
6Note&#160;that&#160;for&#160;the&#160;rest&#160;of&#160;the&#160;paper&#160;we&#160;use&#160;halo2&#160;to&#160;refer&#160;to&#160;PSE‚Äôs&#160;fork.<br/>
<hr/>
<a name=11></a>zk-Bench:&#160;A&#160;Toolset&#160;for&#160;Comparative&#160;Evaluation<br/>and&#160;Performance&#160;Benchmarking&#160;of&#160;SNARKs<br/>
11<br/>
<b>BN254</b><br/>
<b>BLS12-381</b><br/>
30<br/>
30<br/>
m5.large<br/>
m6i.8xlarge<br/>
20<br/>
m5.2xlarge<br/>
m6g.8xlarge<br/>
20<br/>
10<br/>
Addition&#160;&#160;time (ns)<br/>
10<br/>
0<br/>
0<br/>
100<br/>
100<br/>
50<br/>
50<br/>
time (ns)<br/>
Multiplication&#160;<br/>
0<br/>
0<br/>
blstrs<br/>
pairing_ce<br/>
zkcrypto<br/>
pairing_ce<br/>
gnark_crypto<br/>
halo2_curves<br/>
gnark_crypto<br/>
arkworks_curves<br/>
arkworks_curves<br/>
Fig.&#160;4.&#160;BN254&#160;and&#160;BLS12-381&#160;Field&#160;Addition&#160;and&#160;Multiplication.<br/>
5.2<br/>
Arithmetics<br/>
Figure&#160;<a href="2023-1503s.html#11">4&#160;</a>depicts&#160;the&#160;micro-benchmarks&#160;for&#160;addition&#160;and&#160;multiplication&#160;in&#160;the&#160;scalar&#160;field&#160;of&#160;curve<br/>BN254&#160;and&#160;BLS12-381&#160;on&#160;all&#160;machines&#160;in&#160;our&#160;experimental&#160;infrastructure;&#160;Figure&#160;<a href="2023-1503s.html#12">6&#160;</a>depicts&#160;the<br/>micro-benchmarks&#160;for&#160;MSM&#160;in&#160;G1&#160;and&#160;G2&#160;for&#160;curves&#160;BN254&#160;and&#160;BLS12-381&#160;on&#160;the&#160;server&#160;sized<br/>instance&#160;AWS&#160;m6i.8xlarge.&#160;Although&#160;the&#160;arithmetic&#160;backend&#160;supports&#160;more&#160;than&#160;the&#160;libraries<br/>depicted&#160;in&#160;Figures&#160;<a href="2023-1503s.html#11">4&#160;</a>and&#160;<a href="2023-1503s.html#12">6,&#160;</a>we&#160;depict&#160;only&#160;the&#160;selected&#160;libraries&#160;as&#160;they&#160;provide&#160;the&#160;implementation<br/>of&#160;arithmetic&#160;for&#160;the&#160;most&#160;popular&#160;<a href="2023-1503s.html#1">SNARK&#160;</a>libraries&#160;to&#160;date&#160;(cf.&#160;Table&#160;<a href="2023-1503s.html#24">4).&#160;</a>In&#160;Appendix&#160;<a href="2023-1503s.html#25">B,&#160;</a>we&#160;discuss<br/>the&#160;validity&#160;of&#160;our&#160;results&#160;in&#160;more&#160;detail.<br/>
Field&#160;Arithmetic.&#160;In&#160;Figure&#160;<a href="2023-1503s.html#11">4&#160;</a>we&#160;compare&#160;the&#160;execution&#160;time&#160;for&#160;field&#160;addition&#160;and&#160;field&#160;multipli-<br/>cation&#160;over&#160;the&#160;scalar&#160;field&#160;of&#160;the&#160;respective&#160;curve.&#160;We&#160;find&#160;that:<br/>
‚Ä¢&#160;At&#160;the&#160;time&#160;of&#160;writing,&#160;Botrel&#160;et.&#160;al&#160;<a href="2023-1503s.html#22">[16]&#160;</a>provide&#160;the&#160;most&#160;recent&#160;scientific&#160;result&#160;on&#160;op-<br/>
timization&#160;for&#160;Montgomery&#160;multiplication&#160;in&#160;finite&#160;fields,&#160;implemented&#160;in&#160;gnark-crypto;<br/>state-of-the-art&#160;inner-product&#160;of&#160;field&#160;elements&#160;is&#160;described&#160;by&#160;Longa&#160;<a href="2023-1503s.html#23">[47].&#160;</a>We&#160;find&#160;that&#160;for<br/>BN254,&#160;gnark-crypto&#160;is&#160;on&#160;average&#160;30%&#160;faster&#160;than&#160;any&#160;other&#160;implementation&#160;for&#160;addition<br/>and&#160;multiplication&#160;in&#160;the&#160;scalar&#160;field&#160;Z&#160;.&#160;For&#160;BLS12-381,&#160;however,&#160;gnark-crypto&#160;incurs&#160;an<br/>
ùëù<br/>
average&#160;slowdown&#160;of&#160;9%&#160;compared&#160;to&#160;other&#160;libraries.<br/>
‚Ä¢&#160;The&#160;choice&#160;of&#160;hardware&#160;significantly&#160;impacts&#160;the&#160;execution&#160;time.&#160;Whereas&#160;for&#160;BLS12-381,<br/>
the&#160;smallest&#160;machine&#160;in&#160;our&#160;experimental&#160;setup,&#160;m5.large,&#160;is&#160;13%&#160;faster&#160;than&#160;m5.2xlarge,&#160;5,7%<br/>faster&#160;than&#160;m6i.8xlarge&#160;and&#160;71,3%&#160;faster&#160;than&#160;m6g.8xlarge,&#160;for&#160;BN254&#160;m5.large&#160;is&#160;1%&#160;slower<br/>than&#160;m5.2xlarge,&#160;12,4%&#160;slower&#160;than&#160;m6i.8xlarge&#160;‚Äî&#160;but&#160;72,1%&#160;faster&#160;than&#160;field&#160;multiplication<br/>in&#160;m6g.8xlarge&#160;when&#160;comparing&#160;the&#160;mean&#160;of&#160;the&#160;execution&#160;time&#160;across&#160;all&#160;libraries.<br/>
‚Ä¢&#160;When&#160;it&#160;comes&#160;to&#160;differences&#160;between&#160;curves,&#160;we&#160;observe&#160;that&#160;BN254&#160;is&#160;not&#160;faster&#160;than&#160;BLS12-<br/>
381&#160;across&#160;the&#160;board,&#160;although&#160;BN254&#160;operates&#160;over&#160;a&#160;prime&#160;field&#160;of&#160;smaller&#160;characteristic<br/>than&#160;BLS12-381.&#160;It&#160;can&#160;further&#160;be&#160;observed&#160;that&#160;the&#160;degradation&#160;in&#160;performance&#160;when<br/>switching&#160;from&#160;BLS12-381&#160;with&#160;a&#160;381&#160;bit&#160;coordinate&#160;field&#160;to&#160;BN254&#160;with&#160;a&#160;256&#160;bit&#160;coordinate<br/>field&#160;differs&#160;across&#160;machines.&#160;The&#160;loss&#160;factor&#160;for&#160;m5.large,&#160;m5.2xlarge,&#160;m6i.8xlarge&#160;and<br/>m6g.8xlarge&#160;is&#160;1.18√ó,&#160;1.21√ó,&#160;1.15√ó&#160;and&#160;1.09√ó&#160;respectively.<br/>
‚Ä¢&#160;Field&#160;addition&#160;is&#160;5,1√ó&#160;to&#160;27,7√ó&#160;faster&#160;than&#160;field&#160;multiplication&#160;for&#160;BN254&#160;and&#160;2,1√ó&#160;to&#160;38,9√ó<br/>
faster&#160;than&#160;field&#160;multiplication&#160;for&#160;BLS12-381.&#160;Specifically,&#160;the&#160;minimum&#160;ratio&#160;for&#160;BN254&#160;is<br/>observed&#160;on&#160;an&#160;AWS&#160;m5.large&#160;machine&#160;with&#160;an&#160;x86&#160;processor,&#160;while&#160;the&#160;maximum&#160;ratio<br/>is&#160;found&#160;for&#160;the&#160;server&#160;size&#160;AWS&#160;m6g.8xlarge&#160;machine&#160;with&#160;ARM&#160;processor.&#160;Similarly,&#160;for<br/>
<hr/>
<a name=12></a>12<br/>
Ernstberger,&#160;et&#160;al.<br/>
m5.large<br/>
m5.2xlarge<br/>
m6i.8xlarge<br/>
m6g.8xlarge<br/>
20&#160;21&#160;22&#160;23&#160;24&#160;25&#160;26&#160;27&#160;28&#160;29&#160;210211212213214215216217218219220<br/>
Size<br/>
Fig.&#160;5.&#160;Multiscalar&#160;Multiplication&#160;in&#160;G1&#160;of&#160;curve&#160;BLS12-381&#160;for&#160;blstrs&#160;on&#160;all&#160;machines&#160;as&#160;defined&#160;in&#160;our<br/>experimental&#160;setup.&#160;Values&#160;are&#160;normalized&#160;between&#160;0&#160;and&#160;1,&#160;where&#160;1&#160;indicates&#160;the&#160;highest&#160;execution&#160;time<br/>
(darker&#160;color)&#160;across&#160;all&#160;machines.&#160;Preceding&#160;the&#160;normalization,&#160;we&#160;perform&#160;a&#160;logarithmic&#160;transformation&#160;to<br/>
accommodate&#160;for&#160;the&#160;logarithmic&#160;increase&#160;in&#160;the&#160;size&#160;of&#160;MSM&#160;instances.<br/>
101<br/>
library<br/>
101<br/>
library<br/>
101<br/>
library<br/>
halo2_curves<br/>
arkworks<br/>
halo2_curves<br/>
100<br/>
arkworks<br/>
100<br/>
ffjavascript<br/>
100<br/>
arkworks<br/>
ffjavascript<br/>
gnark_crypto<br/>
ffjavascript<br/>
gnark_crypto<br/>
pairing_ce<br/>
gnark_crypto<br/>
10&#160;1<br/>
pairing_ce<br/>
10&#160;1<br/>
10&#160;1<br/>
pairing_ce<br/>
10&#160;2<br/>
<b>BN254</b>&#160;&#160;&#160;&#160;&#160;Time (s)<br/>
10&#160;2<br/>
10&#160;2<br/>
10&#160;3<br/>
10&#160;3<br/>
10&#160;3<br/>
10&#160;4&#160;20<br/>
25<br/>
210<br/>
215<br/>
220&#160;10&#160;4&#160;20<br/>
25<br/>
210<br/>
215<br/>
220&#160;10&#160;4<br/>
101<br/>
library<br/>
101<br/>
library<br/>
101<br/>
library<br/>
arkworks<br/>
arkworks<br/>
arkworks<br/>
100<br/>
blstrs<br/>
100<br/>
blstrs<br/>
100<br/>
blstrs<br/>
ffjavascript<br/>
ffjavascript<br/>
ffjavascript<br/>
<b>381</b>&#160;<br/>
gnark_crypto<br/>
gnark_crypto<br/>
gnark_crypto<br/>
10&#160;1<br/>
&#160;<br/>
pairing_ce<br/>
10&#160;1<br/>
pairing_ce<br/>
10&#160;1<br/>
pairing_ce<br/>
10&#160;2<br/>
10&#160;2<br/>
10&#160;2<br/>
<b>BLS12</b><br/>
&#160; - Time (s)&#160;10&#160;3<br/>
10&#160;3<br/>
10&#160;3<br/>
10&#160;4&#160;20<br/>
25<br/>
210<br/>
215<br/>
220&#160;10&#160;4&#160;20<br/>
25<br/>
210<br/>
215<br/>
220&#160;10&#160;4<br/>
&#160;<br/>
Size&#160;<br/>
Size&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<b>(a)</b>&#160;MSM&#160;&#160;1<br/>
&#160;<b>(b)</b>&#160;MSM&#160;&#160;2<br/>
&#160;<b>(c)</b>&#160;Pairing<br/>
Fig.&#160;6.&#160;Elliptic&#160;Curve&#160;Operations&#160;for&#160;BN254&#160;and&#160;BLS12-381&#160;on&#160;AWS&#160;m6i.8xlarge.<br/>
BLS12-381,&#160;the&#160;minimum&#160;ratio&#160;is&#160;observed&#160;on&#160;an&#160;AWS&#160;m5.large&#160;machine,&#160;while&#160;the&#160;maximum<br/>ratio&#160;is&#160;observed&#160;on&#160;the&#160;server&#160;size&#160;AWS&#160;m6g.8xlarge&#160;machine&#160;with&#160;ARM&#160;processor.<br/>
‚Ä¢&#160;We&#160;observe&#160;that&#160;ffjavascript&#160;is&#160;nearly&#160;two&#160;orders&#160;of&#160;magnitude&#160;slower&#160;than&#160;any&#160;other<br/>
implementation.&#160;Specifically,&#160;for&#160;addition&#160;in&#160;Z&#160;of&#160;BN254,&#160;ffjavascript&#160;takes&#160;413ns.<br/>
ùëù<br/>
The&#160;reason&#160;for&#160;this&#160;is&#160;additional&#160;serialization&#160;in&#160;the&#160;add&#160;function&#160;that&#160;is&#160;exposed&#160;by&#160;the<br/>
ffjavascript&#160;API.&#160;<a href="2023-1503s.html#12">7&#160;</a>The&#160;same&#160;behavior&#160;can&#160;be&#160;observed&#160;for&#160;multiplication&#160;in&#160;Z&#160;,&#160;and&#160;also<br/>
ùëù<br/>
for&#160;BLS12-381.<br/>
Elliptic&#160;Curve&#160;Operations.&#160;We&#160;depict&#160;the&#160;results&#160;of&#160;our&#160;experiments&#160;for&#160;elliptic&#160;curve&#160;operations<br/>obtained&#160;through&#160;zk-Bench&#160;in&#160;Figures&#160;<a href="2023-1503s.html#12">5&#160;</a>and&#160;<a href="2023-1503s.html#12">6&#160;</a>.&#160;Figure&#160;<a href="2023-1503s.html#12">6&#160;</a>depicts&#160;elliptic&#160;curve&#160;operations&#160;over&#160;BN254<br/>and&#160;BLS12-381&#160;on&#160;AWS&#160;m6i.8xlarge.&#160;We&#160;make&#160;two&#160;observations:<br/>
‚Ä¢&#160;Some&#160;implementations&#160;use&#160;multi-threading&#160;only&#160;for&#160;large&#160;batch&#160;sizes&#160;(8&#160;for&#160;ffjavascript,&#160;16<br/>
for&#160;blstrs).&#160;This&#160;causes&#160;an&#160;abnormal&#160;spike&#160;at&#160;the&#160;beginning&#160;of&#160;the&#160;curve.<br/>
7We&#160;excluded&#160;ffjavascript&#160;from&#160;Fig.&#160;<a href="2023-1503s.html#11">4&#160;</a>for&#160;visual&#160;clarity.<br/>
<hr/>
<a name=13></a>zk-Bench:&#160;A&#160;Toolset&#160;for&#160;Comparative&#160;Evaluation<br/>and&#160;Performance&#160;Benchmarking&#160;of&#160;SNARKs<br/>
13<br/>
‚Ä¢&#160;For&#160;large&#160;multi-scalar&#160;multiplications,&#160;gnark&#160;adopts&#160;batch&#160;affine&#160;addition&#160;instead&#160;of&#160;using&#160;the<br/>
projective&#160;formulae.&#160;This&#160;causes&#160;the&#160;slight&#160;downward&#160;deviation&#160;towards&#160;the&#160;end&#160;of&#160;the&#160;graph<br/>for&#160;both&#160;gnark&#160;and&#160;blstrs.&#160;For&#160;smaller&#160;MSM&#160;instances,&#160;mixed&#160;addition&#160;in&#160;extended&#160;Jacobian<br/>coordinates&#160;delivers&#160;an&#160;additional&#160;performance&#160;improvement&#160;for&#160;gnark&#160;and&#160;blstrs&#160;<a href="2023-1503s.html#22">[16].&#160;</a>A<br/>similar&#160;approach&#160;can&#160;similarly&#160;improve&#160;the&#160;efficiency&#160;of&#160;other&#160;libraries.<br/>
More&#160;concretely,&#160;for&#160;a&#160;MSM&#160;instance&#160;of&#160;size&#160;220&#160;over&#160;BN254,&#160;gnark-crypto&#160;takes&#160;0.22s&#160;in&#160;G1&#160;and<br/>
0.53s&#160;in&#160;G2,&#160;whereas&#160;the&#160;second-fastest&#160;implementation,&#160;provided&#160;by&#160;pairing_ce,&#160;takes&#160;0.85s¬±0.00s<br/>in&#160;G1&#160;and&#160;2.91s&#160;¬±&#160;0.01s&#160;in&#160;G2.&#160;gnark-crypto&#160;is&#160;3.86√ó&#160;faster&#160;in&#160;G1&#160;and&#160;5.53√ó&#160;faster&#160;in&#160;G2.&#160;At&#160;0.45ms,<br/>the&#160;pairing&#160;product&#160;in&#160;gnark-crypto&#160;is&#160;2.83√ó&#160;to&#160;9.24√ó&#160;faster&#160;than&#160;pairing_ce&#160;(1.28ms&#160;¬±&#160;0.00ms<br/>)&#160;and&#160;ffjavascript&#160;(4.18ms),&#160;respectively.&#160;This&#160;is&#160;expected,&#160;as&#160;gnark-crypto&#160;implements&#160;the<br/>state-of-the-art&#160;MSM,&#160;a&#160;variant&#160;of&#160;the&#160;Pippenger&#160;algorithm&#160;<a href="2023-1503s.html#22">[27].</a><br/>
For&#160;BLS12-381,&#160;though,&#160;blstrs&#160;is&#160;1.41√ó&#160;faster&#160;for&#160;an&#160;MSM&#160;instance&#160;of&#160;size&#160;25&#160;in&#160;G1.&#160;Perhaps<br/>
counter-intuitively&#160;(given&#160;the&#160;underlying&#160;languages&#160;used),&#160;gnark-crypto&#160;outperforms&#160;blstrs&#160;for<br/>larger&#160;size&#160;MSM&#160;instances&#160;and&#160;computing&#160;the&#160;pairing&#160;product.&#160;For&#160;an&#160;MSM&#160;instance&#160;of&#160;size&#160;220,<br/>gnark-crypto&#160;(0.35&#160;s&#160;)&#160;is&#160;1.83√ó&#160;faster&#160;than&#160;blstrs&#160;(0.64s&#160;¬±&#160;0.03s)&#160;in&#160;G1.&#160;Similar&#160;behavior&#160;can&#160;be<br/>observed&#160;in&#160;G2.&#160;It&#160;should&#160;be&#160;highlighted&#160;that&#160;blst&#160;utilizes&#160;field&#160;arithmetic&#160;assembly&#160;code&#160;generalized<br/>for&#160;fields&#160;up&#160;to&#160;384-bits,&#160;whereas&#160;Gnark&#160;employs&#160;BLS12-381-specific&#160;assembly.<br/>
To&#160;investigate&#160;the&#160;influence&#160;of&#160;different&#160;machine&#160;specifications&#160;and&#160;instructions&#160;set&#160;architectures,<br/>
we&#160;depict&#160;MSM&#160;over&#160;BN254&#160;in&#160;G1&#160;in&#160;the&#160;blstrs&#160;library&#160;for&#160;all&#160;machines&#160;in&#160;our&#160;experimental&#160;setup<br/>
in&#160;Fig.&#160;<a href="2023-1503s.html#12">5.&#160;</a>The&#160;figure&#160;shows&#160;a&#160;heatmap,&#160;where&#160;each&#160;value&#160;is&#160;logarithmically&#160;transformed,&#160;to&#160;account<br/>for&#160;the&#160;logarithmic&#160;scaling&#160;of&#160;the&#160;MSM&#160;size,&#160;and&#160;successively&#160;normalized.&#160;The&#160;darker&#160;the&#160;color,&#160;the<br/>higher&#160;the&#160;execution&#160;time&#160;relative&#160;to&#160;the&#160;lowest&#160;and&#160;highest&#160;execution&#160;time&#160;across&#160;all&#160;machines.&#160;It<br/>can&#160;be&#160;observed,&#160;that&#160;low-level&#160;arithmetic&#160;operations&#160;are&#160;faster&#160;for&#160;more&#160;powerful&#160;CPUs&#160;(i.e.,&#160;more<br/>CPU&#160;cores)&#160;in&#160;the&#160;first&#160;three&#160;rows.&#160;The&#160;last&#160;row&#160;depicts&#160;execution&#160;on&#160;an&#160;ARM-based&#160;machine,&#160;where<br/>it&#160;can&#160;be&#160;seen&#160;that&#160;executing&#160;finite&#160;field&#160;arithmetic&#160;is&#160;significantly&#160;less&#160;performant&#160;than&#160;on&#160;x86.&#160;We<br/>expect&#160;a&#160;detailed&#160;investigation&#160;of&#160;performance&#160;improvements&#160;for&#160;MSM&#160;on&#160;the&#160;ARM&#160;instruction&#160;set<br/>architecture,&#160;an&#160;interesting&#160;area&#160;for&#160;future&#160;work.&#160;Note,&#160;that&#160;this&#160;figure&#160;is&#160;representative,&#160;different<br/>libraries&#160;besides&#160;blstrs&#160;exhibit&#160;a&#160;similar&#160;pattern&#160;across&#160;different&#160;machines.<br/>
5.3<br/>
Circuits<br/>
In&#160;this&#160;section,&#160;we&#160;employ&#160;zk-Bench&#160;to&#160;benchmark&#160;two&#160;circuits:&#160;SHA-256&#160;and&#160;Exponentiate,&#160;imple-<br/>mented&#160;across&#160;5&#160;tools&#160;for&#160;developing&#160;ZKP&#160;applications.&#160;An&#160;overview&#160;of&#160;the&#160;ZKP&#160;tools&#160;considered<br/>can&#160;be&#160;found&#160;in&#160;Section&#160;<a href="2023-1503s.html#10">4.2.&#160;</a>For&#160;each&#160;tool,&#160;we&#160;investigate&#160;the&#160;time&#160;and&#160;memory&#160;consumption<br/>associated&#160;with&#160;the&#160;Setup,&#160;Prove,&#160;and&#160;Verify&#160;phase&#160;of&#160;the&#160;underlying&#160;<a href="2023-1503s.html#1">SNARK.&#160;</a>Our&#160;primary&#160;target<br/>for&#160;these&#160;benchmarks&#160;is&#160;AWS&#160;m6i.8xlarge,&#160;with&#160;the&#160;results&#160;for&#160;this&#160;server&#160;depicted&#160;in&#160;Fig.&#160;<a href="2023-1503s.html#14">7,&#160;</a><a href="2023-1503s.html#15">8,&#160;</a>and&#160;<a href="2023-1503s.html#16">9.</a><br/>
Additionally,&#160;given&#160;a&#160;predefined&#160;budget,&#160;we&#160;examine&#160;whether&#160;CPU-optimized&#160;(c6i.12xlarge)&#160;or<br/>
Memory-optimized&#160;(r6i.8xlarge)&#160;machines&#160;offer&#160;better&#160;results&#160;for&#160;individual&#160;ZKP&#160;libraries&#160;and&#160;tools.<br/>
Test&#160;Vectors.&#160;The&#160;lack&#160;of&#160;universal&#160;test&#160;vectors&#160;for&#160;<a href="2023-1503s.html#1">ZKPs&#160;</a>prompted&#160;us&#160;to&#160;propose&#160;two&#160;initial<br/>
circuits&#160;in&#160;our&#160;performance&#160;evaluation&#160;‚Äî&#160;a&#160;circuit&#160;proving&#160;knowledge&#160;of&#160;an&#160;exponent,&#160;and&#160;a&#160;circuit<br/>proving&#160;knowledge&#160;of&#160;a&#160;pre-image&#160;to&#160;a&#160;hash&#160;computed&#160;by&#160;the&#160;SHA-256&#160;hash&#160;function.<br/>
‚Ä¢&#160;Exponentiate.&#160;Our&#160;benchmark&#160;suite&#160;includes&#160;a&#160;finite&#160;field&#160;exponentiation&#160;circuit.&#160;This<br/>
circuit&#160;has&#160;a&#160;clearly&#160;defined&#160;specification&#160;that&#160;can&#160;be&#160;easily&#160;represented&#160;by&#160;most&#160;modern<br/>proof&#160;systems.&#160;We&#160;manually&#160;implemented&#160;this&#160;circuit&#160;consistently&#160;across&#160;all&#160;supported&#160;ZKP<br/>development&#160;tools.&#160;The&#160;Exponentiate&#160;circuit&#160;takes&#160;three&#160;variables&#160;ùëã&#160;,&#160;ùê∏,&#160;ùëå&#160;as&#160;public&#160;inputs.<br/>
Then,&#160;it&#160;computes&#160;and&#160;constraints&#160;‚Ä≤<br/>
ùê∏<br/>
ùëå<br/>
=&#160;ùëã&#160;,&#160;by&#160;executing&#160;ùê∏&#160;multiplications,&#160;before&#160;setting&#160;a<br/>
constraint&#160;for&#160;‚Ä≤<br/>
ùëå<br/>
=&#160;ùëå&#160;.<br/>
<hr/>
<a name=14></a>14<br/>
Ernstberger,&#160;et&#160;al.<br/>
103<br/>
Frameworks<br/>
Curves<br/>
102<br/>
bellman<br/>
bn254<br/>
gnark<br/>
bls12_381<br/>
circom/snarkjs<br/>
101<br/>
goldilocks<br/>
circom/rapidsnark<br/>
halo2_pse<br/>
100<br/>
<b>Setup/</b>&#160;<br/>
starky<br/>
10&#160;1<br/>
&#160;<b>GenerateTrace</b>&#160;&#160;&#160;Time (s)&#160;10&#160;2<br/>
103<br/>
101<br/>
<b>Prove</b>&#160;&#160;&#160;&#160;&#160;Time (s)&#160;10&#160;1<br/>
100<br/>
10&#160;1<br/>
10&#160;2<br/>
<b>Verify</b>&#160;&#160;&#160;&#160;&#160;Time (s)<br/>
10&#160;3<br/>
210&#160;211&#160;212&#160;213&#160;214&#160;215&#160;216&#160;217&#160;218&#160;219&#160;220&#160;221&#160;222&#160;223&#160;224&#160;210&#160;211&#160;212&#160;213&#160;214&#160;215&#160;216&#160;217&#160;218&#160;219&#160;220&#160;221&#160;222&#160;223&#160;224&#160;210&#160;211&#160;212&#160;213&#160;214&#160;215&#160;216&#160;217&#160;218&#160;219&#160;220&#160;221&#160;222&#160;223&#160;224<br/>
&#160;Number of constraints&#160;<br/>
&#160;Number of constraints&#160;<br/>
&#160;Number of constraints&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<b>(a)</b>&#160;Groth16<br/>
&#160;<b>(b)</b>&#160;Plonk&#160;/&#160;Halo2<br/>
&#160;<b>(c)</b>&#160;Starky<br/>
Fig.&#160;7.&#160;Execution&#160;Time&#160;of&#160;Exponentiate&#160;circuit&#160;on&#160;m6i.8xlarge.&#160;Note&#160;that&#160;for&#160;halo2&#160;and&#160;starky&#160;instead&#160;of<br/>constraints,&#160;this&#160;figure&#160;depicts&#160;the&#160;number&#160;of&#160;utilized&#160;rows.<br/>
‚Ä¢&#160;SHA-256.&#160;For&#160;the&#160;SHA-256&#160;circuit,&#160;we&#160;rely&#160;on&#160;implementations&#160;as&#160;provided&#160;in&#160;the&#160;respective<br/>
standard&#160;libraries&#160;of&#160;the&#160;examined&#160;ZKP&#160;development&#160;tools.&#160;We&#160;do&#160;not&#160;consider&#160;implementa-<br/>tions&#160;with&#160;insufficient&#160;tests,&#160;or&#160;missing&#160;acknowledgment&#160;by&#160;maintainers.&#160;However,&#160;it&#160;is<br/>important&#160;to&#160;recognize&#160;that&#160;the&#160;performance&#160;of&#160;a&#160;specific&#160;circuit&#160;implementation&#160;may&#160;not<br/>be&#160;representative&#160;of&#160;the&#160;overall&#160;proof&#160;system‚Äôs&#160;performance,&#160;as&#160;certain&#160;implementations<br/>may&#160;incorporate&#160;more&#160;optimizations&#160;than&#160;others.&#160;Therefore,&#160;while&#160;the&#160;SHA256&#160;circuits<br/>are&#160;valuable&#160;for&#160;assessing&#160;ZKP&#160;development&#160;tools&#160;in&#160;a&#160;real-world&#160;context,&#160;absolute&#160;conclu-<br/>sions&#160;drawn&#160;from&#160;the&#160;results&#160;should&#160;be&#160;approached&#160;with&#160;caution,&#160;as&#160;they&#160;might&#160;not&#160;fully<br/>encapsulate&#160;the&#160;inherent&#160;capabilities&#160;of&#160;a&#160;given&#160;tool.<br/>
Setup&#160;Phase&#160;Analysis.&#160;The&#160;setup&#160;is&#160;a&#160;pre-processing&#160;phase&#160;performed&#160;once&#160;per&#160;circuit&#160;to&#160;generate<br/>the&#160;ùëùùëò&#160;for&#160;the&#160;prover&#160;and&#160;ùë£ùëò&#160;for&#160;the&#160;verifier,&#160;respectively&#160;(cf.&#160;Section&#160;<a href="2023-1503s.html#3">2).&#160;</a>Note&#160;that&#160;starky&#160;does&#160;not<br/>require&#160;a&#160;setup&#160;phase,&#160;so&#160;it&#160;is&#160;excluded.<br/>
Overall,&#160;our&#160;results&#160;show&#160;that&#160;the&#160;setup&#160;phase&#160;for&#160;the&#160;Pùî©ùî¨ùî´K&#160;proof&#160;system&#160;is&#160;faster&#160;than&#160;that<br/>
of&#160;Groth16.&#160;Specifically,&#160;for&#160;the&#160;SHA-256&#160;circuit,&#160;the&#160;gnark&#160;setup&#160;phase&#160;with&#160;Groth16&#160;and&#160;a&#160;pre-<br/>image&#160;size&#160;of&#160;8kB&#160;takes&#160;220.17s.&#160;In&#160;contrast,&#160;the&#160;gnark&#160;setup&#160;phase&#160;with&#160;Pùî©ùî¨ùî´K&#160;requires&#160;62.50s.<br/>
This&#160;indicates&#160;that&#160;the&#160;setup&#160;for&#160;Pùî©ùî¨ùî´K&#160;is&#160;3.52√ó&#160;faster&#160;than&#160;of&#160;Groth16.&#160;A&#160;similar&#160;trend&#160;can&#160;be<br/>
observed&#160;for&#160;halo2&#160;when&#160;being&#160;compared&#160;to&#160;gnark&#160;Groth16.&#160;However,&#160;this&#160;efficiency&#160;appears&#160;to&#160;be<br/>accompanied&#160;by&#160;a&#160;memory&#160;trade-off.&#160;gnark‚Äôs&#160;Pùî©ùî¨ùî´K&#160;implementation&#160;consistently&#160;consumes&#160;more<br/>than&#160;twice&#160;the&#160;amount&#160;of&#160;memory&#160;compared&#160;to&#160;its&#160;Groth16&#160;counterpart.&#160;This&#160;increased&#160;memory<br/>requirement&#160;resulted&#160;in&#160;the&#160;inability&#160;to&#160;successfully&#160;generate&#160;the&#160;proof&#160;for&#160;preimages&#160;of&#160;size&#160;16kB<br/>and&#160;32kB&#160;in&#160;the&#160;SHA256&#160;circuit&#160;due&#160;to&#160;exceeding&#160;the&#160;machine‚Äôs&#160;available&#160;memory&#160;of&#160;128GB.<br/>
Notably,&#160;in&#160;the&#160;case&#160;of&#160;the&#160;Exponentiate&#160;circuit,&#160;the&#160;gnark&#160;Groth16&#160;setup&#160;is&#160;faster&#160;than&#160;the&#160;setup<br/>
in&#160;halo2&#160;(e.g.,&#160;2.06√ó&#160;faster&#160;for&#160;224&#160;multiplication&#160;constraints).&#160;However,&#160;we&#160;also&#160;observe&#160;that&#160;the<br/>memory&#160;footprint&#160;of&#160;halo2&#160;is&#160;consistently&#160;lower&#160;than&#160;the&#160;one&#160;for&#160;gnark,&#160;with&#160;savings&#160;ranging<br/>from&#160;a&#160;minimum&#160;of&#160;22.64%&#160;to&#160;a&#160;maximum&#160;of&#160;60.56%&#160;in&#160;the&#160;range&#160;of&#160;210&#160;to&#160;224&#160;constraints/rows<br/>
(see&#160;Figure&#160;<a href="2023-1503s.html#24">11&#160;</a>in&#160;the&#160;appendix).&#160;Yet,&#160;it&#160;is&#160;important&#160;to&#160;highlight&#160;that,&#160;notwithstanding&#160;the&#160;current<br/>
<hr/>
<a name=15></a>zk-Bench:&#160;A&#160;Toolset&#160;for&#160;Comparative&#160;Evaluation<br/>and&#160;Performance&#160;Benchmarking&#160;of&#160;SNARKs<br/>
15<br/>
104<br/>
103<br/>
102<br/>
101<br/>
100<br/>
Frameworks<br/>
<b>Setup/</b>&#160;<br/>
bellman<br/>
Curves<br/>
10&#160;1<br/>
gnark<br/>
bn254<br/>
bls12_381<br/>
10&#160;2<br/>
circom/snarkjs<br/>
goldilocks<br/>
&#160;<b>GenerateTrace</b>&#160;&#160;&#160;Time (s)<br/>
circom/rapidsnark<br/>
10&#160;3<br/>
halo2_pse<br/>
starky<br/>
104<br/>
103<br/>
102<br/>
101<br/>
100<br/>
<b>Prove</b>&#160;&#160;&#160;&#160;&#160;Time (s)&#160;10&#160;1<br/>
10&#160;2<br/>
10&#160;3<br/>
26<br/>
28<br/>
210<br/>
212<br/>
214<br/>
26<br/>
28<br/>
210<br/>
212<br/>
214<br/>
&#160;Pre-image Size&#160;<br/>
&#160;Pre-image Size&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<b>(a)</b>&#160;Groth16<br/>
&#160;<b>(b)</b>&#160;Plonk&#160;/&#160;Halo2<br/>
(a)&#160;Execution&#160;time.<br/>
128<br/>
64<br/>
32<br/>
16842<br/>
Frameworks<br/>
1<br/>
<b>Setup/</b>&#160;<br/>
bellman<br/>
Curves<br/>
gnark<br/>
bn254<br/>
circom/snarkjs<br/>
bls12_381<br/>
goldilocks<br/>
&#160;<b>GenerateTrace</b>&#160;&#160;&#160;RAM (GB)<br/>
circom/rapidsnark<br/>
halo2_pse<br/>
starky<br/>
128<br/>
64<br/>
32<br/>
168421<br/>
<b>Prove</b>&#160;&#160;&#160;&#160;&#160;RAM (GB)<br/>
26<br/>
28<br/>
210<br/>
212<br/>
214<br/>
26<br/>
28<br/>
210<br/>
212<br/>
214<br/>
&#160;Pre-image Size&#160;<br/>
&#160;Pre-image Size&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<b>(a)</b>&#160;Groth16<br/>
&#160;<b>(b)</b>&#160;Plonk&#160;/&#160;Halo2<br/>
(b)&#160;Memory&#160;consumption.<br/>
Fig.&#160;8.&#160;Execution&#160;time&#160;and&#160;memory&#160;benchmarks&#160;for&#160;SHA-256&#160;circuit&#160;for&#160;preimages&#160;ranging&#160;from&#160;32&#160;Byte&#160;to<br/>32kB&#160;on&#160;m6i.8xlarge.<br/>
execution&#160;metrics&#160;of&#160;the&#160;halo2&#160;circuit,&#160;optimizations&#160;targeting&#160;the&#160;row&#160;count&#160;of&#160;the&#160;exponentiate<br/>circuit&#160;in&#160;halo2&#160;can&#160;offer&#160;an&#160;improve&#160;execution&#160;time.<br/>
Proving&#160;Phase&#160;Analysis.&#160;Contrary&#160;to&#160;expectations,&#160;starky‚Äôs&#160;proving&#160;cost&#160;for&#160;the&#160;Exponentiate<br/>circuit&#160;is&#160;5.00s&#160;for&#160;220&#160;multiplications,&#160;which&#160;is&#160;8.06√ó&#160;slower&#160;than&#160;gnark&#160;Pùî©ùî¨ùî´K&#160;and&#160;merely&#160;3.03√ó<br/>faster&#160;than&#160;snarkjs,&#160;which&#160;employs&#160;Groth16.&#160;One&#160;explanation&#160;is&#160;that&#160;starky&#160;is&#160;optimized&#160;for<br/>
wider&#160;traces.&#160;Should&#160;the&#160;circuit&#160;be&#160;optimized&#160;to&#160;accommodate&#160;a&#160;larger&#160;number&#160;of&#160;columns,&#160;starky<br/>
is&#160;anticipated&#160;to&#160;outperform&#160;other&#160;ZKP&#160;development&#160;tools&#160;in&#160;terms&#160;of&#160;execution&#160;time.&#160;This&#160;is<br/>attributed&#160;to&#160;the&#160;fact&#160;that&#160;rows&#160;transform&#160;into&#160;leaves&#160;in&#160;a&#160;Merkle&#160;tree,&#160;and&#160;smaller&#160;rows&#160;do&#160;not<br/>optimize&#160;the&#160;hash&#160;rate&#160;in&#160;starky.&#160;A&#160;comprehensive&#160;exploration&#160;of&#160;optimizations&#160;is&#160;outside&#160;the&#160;scope<br/>of&#160;this&#160;paper,&#160;but&#160;could&#160;be&#160;facilitated&#160;by&#160;zk-Bench.&#160;It‚Äôs&#160;worth&#160;noting&#160;that&#160;similar&#160;optimizations&#160;can<br/>benefit&#160;halo2.&#160;However,&#160;such&#160;optimizations&#160;might&#160;induce&#160;higher&#160;costs&#160;with&#160;regard&#160;to&#160;verification<br/>time&#160;and&#160;proof&#160;size.<br/>
In&#160;contrast&#160;to&#160;the&#160;setup&#160;phase,&#160;Pùî©ùî¨ùî´K&#160;trails&#160;Groth16&#160;in&#160;efficiency.&#160;For&#160;illustration,&#160;within&#160;gnark,<br/>
for&#160;SHA256&#160;with&#160;a&#160;pre-image&#160;size&#160;of&#160;8&#160;kB,&#160;Pùî©ùî¨ùî´K&#160;is&#160;9.39√ó&#160;slower&#160;compared&#160;to&#160;Groth16.&#160;This<br/>pattern&#160;remains&#160;consistent&#160;across&#160;various&#160;benchmarks&#160;and&#160;also&#160;applies&#160;to&#160;halo2.<br/>
<hr/>
<a name=16></a>16<br/>
Ernstberger,&#160;et&#160;al.<br/>
512<br/>256<br/>
Frameworks<br/>
Curves<br/>
bellman<br/>
128<br/>
bn254<br/>
gnark<br/>
bls12_381<br/>
64<br/>
circom/snarkjs<br/>
goldilocks<br/>
circom/rapidsnark<br/>
32<br/>
halo2_pse<br/>
16<br/>
<b>&#160;</b><br/>
starky<br/>
8<br/>4<br/>
<b>oof Size (KB)&#160;</b><br/>
2<br/>
<b>Pr</b><br/>
1<br/>
210&#160;211&#160;212&#160;213&#160;214&#160;215&#160;216&#160;217&#160;218&#160;219&#160;220&#160;221&#160;222&#160;223&#160;224<br/>
210&#160;211&#160;212&#160;213&#160;214&#160;215&#160;216&#160;217&#160;218&#160;219&#160;220&#160;221&#160;222&#160;223&#160;224<br/>
210&#160;211&#160;212&#160;213&#160;214&#160;215&#160;216&#160;217&#160;218&#160;219&#160;220&#160;221&#160;222&#160;223&#160;224<br/>
&#160;Number of constraints&#160;<br/>
&#160;Number of constraints&#160;<br/>
&#160;Number of constraints&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<b>(a)</b>&#160;Groth16<br/>
&#160;<b>(b)</b>&#160;Plonk&#160;/&#160;Halo2<br/>
&#160;<b>(c)</b>&#160;Starky<br/>
Fig.&#160;9.&#160;Proof&#160;Size&#160;for&#160;the&#160;Exponentiate&#160;circuit&#160;as&#160;observed&#160;on&#160;m6i.8xlarge.&#160;The&#160;observed&#160;proof&#160;size&#160;for<br/>circom/snarkjs&#160;and&#160;circom/rapidnsark&#160;is&#160;the&#160;same.<br/>
In&#160;terms&#160;of&#160;memory&#160;consumption,&#160;ZKP&#160;development&#160;tools&#160;in&#160;Rust&#160;exhibit&#160;a&#160;substantial&#160;reduction<br/>
compared&#160;to&#160;other&#160;tools&#160;for&#160;ZKP&#160;development.&#160;For&#160;instance,&#160;given&#160;a&#160;32&#160;kB&#160;preimage&#160;size,&#160;bellman‚Äôs<br/>memory&#160;requirement&#160;is&#160;10.62&#160;GB.&#160;In&#160;contrast,&#160;gnark&#160;requires&#160;30.55&#160;GB&#160;for&#160;Groth16&#160;and&#160;exceeds<br/>memory&#160;limits&#160;for&#160;Pùî©ùî¨ùî´K,&#160;outstripping&#160;bellman&#160;by&#160;a&#160;factor&#160;of&#160;2.88√ó&#160;for&#160;Groth16&#160;over&#160;BLS12-381.<br/>Interestingly,&#160;bellman,&#160;despite&#160;not&#160;being&#160;the&#160;fastest,&#160;emerges&#160;as&#160;the&#160;most&#160;efficient&#160;in&#160;terms&#160;of<br/>memory&#160;utilization.<br/>
Similar&#160;to&#160;our&#160;observations&#160;from&#160;Section&#160;<a href="2023-1503s.html#11">5.2,&#160;</a>the&#160;advantage&#160;of&#160;BN254&#160;over&#160;BLS12-381&#160;is&#160;evident<br/>
in&#160;proving&#160;times.&#160;Specifically,&#160;the&#160;gnark-BN254-Groth16&#160;combination&#160;consistently&#160;outperforms&#160;the<br/>gnark-BLS12-381-Groth16&#160;results.<br/>
Both&#160;gnark&#160;and&#160;rapidsnark&#160;stand&#160;out&#160;as&#160;the&#160;implementations&#160;with&#160;the&#160;most&#160;efficient&#160;provers.<br/>
However,&#160;gnark‚Äôs&#160;superior&#160;performance&#160;is&#160;offset&#160;by&#160;its&#160;suboptimal&#160;memory&#160;efficiency.&#160;Specifically,<br/>for&#160;SHA256&#160;with&#160;a&#160;pre-image&#160;size&#160;of&#160;16&#160;kB,&#160;the&#160;time&#160;metrics&#160;for&#160;gnark&#160;over&#160;BN254,&#160;rapidsnark,<br/>bellman,&#160;and&#160;snarkjs&#160;are&#160;17.10s,&#160;8.24s,&#160;25.81s,&#160;and&#160;134.20s,&#160;respectively.&#160;In&#160;terms&#160;of&#160;memory<br/>consumption,&#160;gnark&#160;requires&#160;15.25&#160;GB,&#160;in&#160;contrast&#160;to&#160;rapidsnark,&#160;which&#160;utilizes&#160;only&#160;8.92&#160;GB.<br/>
Verification&#160;Phase&#160;Analysis.&#160;Fig.&#160;<a href="2023-1503s.html#14">7&#160;</a>showcases&#160;the&#160;verification&#160;results&#160;across&#160;the&#160;evaluated&#160;tools.<br/>Aligned&#160;with&#160;theoretical&#160;expectations,&#160;the&#160;verification&#160;time&#160;for&#160;Groth16&#160;and&#160;Pùî©ùî¨ùî´K&#160;remains&#160;both<br/>
constant&#160;and&#160;minimal.&#160;Conversely,&#160;for&#160;starky,&#160;this&#160;time&#160;scales&#160;with&#160;input&#160;size.&#160;To&#160;illustrate,&#160;while<br/>all&#160;tools&#160;and&#160;libraries&#160;for&#160;<a href="2023-1503s.html#1">SNARK&#160;</a>development&#160;consistently&#160;verify&#160;within&#160;a&#160;5&#160;ms&#160;window,&#160;starky<br/>can&#160;require&#160;upwards&#160;of&#160;an&#160;order&#160;of&#160;magnitude&#160;more&#160;(e.g.,&#160;22ms&#160;for&#160;225&#160;multiplication&#160;constraints).<br/>
Proof&#160;Size&#160;Analysis.&#160;Fig.&#160;<a href="2023-1503s.html#16">9&#160;</a>presents&#160;the&#160;comparative&#160;proof&#160;sizes&#160;for&#160;the&#160;Exponentiate&#160;circuit&#160;across<br/>various&#160;tools&#160;for&#160;ZKP&#160;development.&#160;As&#160;expected,&#160;a&#160;standout&#160;observation&#160;is&#160;the&#160;exponential&#160;difference<br/>in&#160;starky‚Äôs&#160;proof&#160;size‚Äîranging&#160;from&#160;299.68√ó&#160;to&#160;678.98√ó&#160;greater&#160;for&#160;roughly&#160;224&#160;constraints/rows‚Äì<br/>
when&#160;compared&#160;against&#160;the&#160;larger&#160;Groth16&#160;and&#160;Pùî©ùî¨ùî´K&#160;proofs.&#160;As&#160;anticipated,&#160;the&#160;proof&#160;sizes<br/>
for&#160;Groth16,&#160;Pùî©ùî¨ùî´K,&#160;and&#160;halo2&#160;remain&#160;constant.&#160;Note&#160;that&#160;we&#160;have&#160;excluded&#160;bellman&#160;from&#160;the<br/>comparison&#160;because&#160;its&#160;proof&#160;is&#160;measured&#160;in&#160;raw&#160;bytes,&#160;whereas&#160;the&#160;other&#160;proofs&#160;are&#160;serialized.<br/>
For&#160;plonkish&#160;arithmetization,&#160;an&#160;increase&#160;in&#160;column&#160;count&#160;corresponds&#160;to&#160;an&#160;elevated&#160;proof<br/>
size.&#160;The&#160;Exponentiate&#160;circuit&#160;in&#160;halo2&#160;features&#160;a&#160;proof&#160;size&#160;of&#160;992B,&#160;whereas&#160;the&#160;SHA256&#160;circuit,<br/>accommodating&#160;a&#160;greater&#160;column&#160;count,&#160;has&#160;a&#160;proof&#160;size&#160;of&#160;2816B.&#160;Nevertheless,&#160;adding&#160;more<br/>columns&#160;can&#160;introduce&#160;various&#160;optimizations,&#160;primarily&#160;aimed&#160;at&#160;reducing&#160;row&#160;count&#160;to&#160;enhance<br/>proving&#160;time.<br/>
Memory&#160;Optimized&#160;vs.&#160;CPU&#160;Optimized&#160;Machines.&#160;We&#160;set&#160;out&#160;to&#160;determine&#160;whether&#160;a&#160;specific<br/>tool&#160;demonstrates&#160;superior&#160;performance&#160;on&#160;compute-optimized&#160;or&#160;memory-optimized&#160;hardware.<br/>
To&#160;investigate&#160;this,&#160;we&#160;run&#160;our&#160;experiments&#160;on&#160;two&#160;AWS&#160;instances:&#160;c6i.12xlarge&#160;(48&#160;vCPU,&#160;128<br/>
RAM)&#160;and&#160;r6i.8xlarge&#160;(32&#160;vCPU,&#160;256&#160;RAM).&#160;Though&#160;they&#160;differ&#160;in&#160;specifications,&#160;their&#160;hourly&#160;costs<br/>
<hr/>
<a name=17></a><img src="2023-1503-17_1.png"/><br/>
<img src="2023-1503-17_2.png"/><br/>
<img src="2023-1503-17_3.png"/><br/>
<img src="2023-1503-17_4.png"/><br/>
zk-Bench:&#160;A&#160;Toolset&#160;for&#160;Comparative&#160;Evaluation<br/>and&#160;Performance&#160;Benchmarking&#160;of&#160;SNARKs<br/>
17<br/>
1.4<br/>
Bellman/BLS12-381<br/>
1<br/>
1<br/>
1.1<br/>
1.1<br/>
1.1<br/>
1.1<br/>
1.1<br/>
Bellman/BLS12-381&#160;0.84<br/>
0.84<br/>
0.91<br/>
0.98<br/>
0.91<br/>
0.89<br/>
0.88<br/>
1.2<br/>
1.3<br/>
Rapidsnark/BN254/Groth16<br/>
1.3<br/>
1.2<br/>
1.4<br/>
1.4<br/>
1.4<br/>
1.4<br/>
1.4<br/>
Rapidsnark/BN254/Groth16<br/>
1.1<br/>
0.99<br/>
1.2<br/>
1.2<br/>
1.2<br/>
1.2<br/>
1.1<br/>
1.1<br/>
Snarkjs/BN254/Groth16<br/>
1<br/>
1.3<br/>
1.3<br/>
1.4<br/>
1.2<br/>
1.4<br/>
1<br/>
1.2<br/>
Snarkjs/BN254/Groth16&#160;0.87<br/>
0.94<br/>
1.1<br/>
1.1<br/>
1<br/>
0.98<br/>
0.86<br/>
1.0<br/>
Gnark/BLS12-381/Plonk<br/>
1<br/>
1<br/>
0.95<br/>
0.86<br/>
0.94<br/>
0.99<br/>
1<br/>
1.1<br/>
Gnark/BLS12-381/Plonk&#160;0.75<br/>
0.75<br/>
0.66<br/>
0.66<br/>
0.67<br/>
0.75<br/>
0.77<br/>
0.9<br/>
Gnark/BN254/Plonk<br/>
1<br/>
1<br/>
0.98<br/>
0.98<br/>
0.98<br/>
1<br/>
0.99<br/>
1.0<br/>
Gnark/BN254/Plonk&#160;0.75<br/>
0.74<br/>
0.67<br/>
0.68<br/>
0.68<br/>
0.7<br/>
0.78<br/>
0.8<br/>
Halo2/BN254<br/>
1<br/>
1<br/>
1<br/>
1<br/>
1<br/>
1<br/>
1<br/>
0.9<br/>
Halo2/BN254&#160;0.79<br/>
0.79<br/>
0.78<br/>
0.78<br/>
0.77<br/>
0.77<br/>
0.78<br/>
0.7<br/>
2^5<br/>
2^6<br/>
2^7<br/>
2^8<br/>
2^9<br/>
2^10<br/>
2^11<br/>
2^5<br/>
2^6<br/>
2^7<br/>
2^8<br/>
2^9<br/>
2^10<br/>
2^11<br/>
(a)&#160;SHA256&#160;-&#160;Memory&#160;Consumption<br/>
(b)&#160;SHA256&#160;-&#160;Execution&#160;Time<br/>
2.0<br/>
Bellman/BLS12-381&#160;1&#160;0.99&#160;0.99&#160;0.99&#160;1&#160;1.1&#160;1.1&#160;1.1&#160;1.1&#160;1<br/>
1<br/>
1.4<br/>
Bellman/BLS12-381&#160;0.94&#160;0.92&#160;0.91&#160;0.9&#160;0.98&#160;0.98&#160;0.91&#160;0.86&#160;0.84&#160;0.85&#160;0.84<br/>
1.8<br/>
Rapidsnark/BN254/Groth16&#160;1.2&#160;1.3&#160;1.4&#160;1.4&#160;1.4&#160;1.4&#160;1.4&#160;1.4&#160;1.4&#160;1.3&#160;1.2<br/>
1.3<br/>
Rapidsnark/BN254/Groth16&#160;2<br/>
1&#160;1.5&#160;1.2&#160;1.1&#160;1.2&#160;1.2&#160;1.2&#160;1.1&#160;0.99&#160;0.93<br/>
1.6<br/>
Snarkjs/BN254/Groth16&#160;1.4&#160;1.3&#160;1.3&#160;1.2&#160;1.2&#160;1.4&#160;1.3&#160;1.2&#160;1.1&#160;1.1&#160;0.94<br/>
Snarkjs/BN254/Groth16&#160;1.1&#160;1.2&#160;1.2&#160;1.1&#160;1.2&#160;1.1&#160;1&#160;0.98&#160;0.84&#160;0.87&#160;0.95<br/>
1.4<br/>
1.2<br/>
Gnark/BLS12-381/Groth16&#160;1.3&#160;1.2&#160;1.2&#160;1&#160;0.9&#160;0.9&#160;1.1&#160;1.1&#160;0.98&#160;1<br/>
1<br/>
Gnark/BLS12-381/Groth16&#160;0.97&#160;0.98&#160;0.89&#160;0.97&#160;0.96&#160;0.99&#160;0.94&#160;0.95&#160;0.87&#160;0.85&#160;0.91<br/>
1.2<br/>
1.0<br/>
Gnark/BN254/Groth16&#160;1.3&#160;1.4&#160;1.2&#160;1.2&#160;1.1&#160;1.2&#160;1.1&#160;1<br/>
1<br/>
1&#160;0.95<br/>
1.1<br/>
Gnark/BN254/Groth16&#160;1&#160;0.99&#160;0.96&#160;0.93&#160;0.96&#160;0.94&#160;0.94&#160;0.94&#160;0.93&#160;0.86&#160;0.92<br/>
0.8<br/>
Halo2/BN254&#160;1&#160;0.99&#160;1<br/>
1<br/>
1<br/>
1<br/>
1<br/>
1<br/>
1<br/>
1<br/>
1<br/>
1.0<br/>
Halo2/BN254&#160;0.98&#160;0.92&#160;0.92&#160;0.84&#160;0.86&#160;0.86&#160;0.85&#160;0.86&#160;0.86&#160;0.88&#160;0.88<br/>
0.6<br/>
Starky/Goldilocks&#160;0.99&#160;1<br/>
1<br/>
1<br/>
1<br/>
1&#160;0.96&#160;0.89&#160;1<br/>
1<br/>
1<br/>
Starky/Goldilocks&#160;0.29&#160;0.59&#160;0.9&#160;0.86&#160;1.1&#160;0.7&#160;0.82&#160;0.84&#160;0.83&#160;0.9&#160;0.87<br/>
0.4<br/>
0.9<br/>
2^10&#160;2^11&#160;2^12&#160;2^13&#160;2^14&#160;2^15&#160;2^16&#160;2^17&#160;2^18&#160;2^19&#160;2^20<br/>
2^10&#160;2^11&#160;2^12&#160;2^13&#160;2^14&#160;2^15&#160;2^16&#160;2^17&#160;2^18&#160;2^19&#160;2^20<br/>
(c)&#160;Exponentiate&#160;-&#160;Memory&#160;Consumption<br/>
(d)&#160;Exponentiate&#160;-&#160;Execution&#160;Time<br/>
Fig.&#160;10.&#160;Performance&#160;decrease/increase&#160;for&#160;SHA256&#160;and&#160;Exponentiate&#160;circuits&#160;in&#160;terms&#160;of&#160;memory&#160;consumption<br/>and&#160;execution&#160;time&#160;for&#160;CPU&#160;optimized&#160;(c6i.12xlarge)&#160;vs.&#160;RAM&#160;optimized&#160;(r6i.8xlarge)&#160;machines&#160;for&#160;proving.<br/>For&#160;execution&#160;time,&#160;darker&#160;color&#160;indicates&#160;that&#160;the&#160;CPU-optimized&#160;machine&#160;requires&#160;more&#160;time&#160;than&#160;the<br/>RAM-optimized&#160;machine&#160;(i.e.,&#160;the&#160;RAM-optimized&#160;machine&#160;outperforms&#160;the&#160;CPU-optimized&#160;machine).&#160;For<br/>memory&#160;consumption,&#160;darker&#160;color&#160;indicates&#160;that&#160;the&#160;CPU-optimized&#160;machine&#160;consumes&#160;more&#160;memory&#160;than<br/>the&#160;RAM-optimized&#160;machine&#160;(i.e.,&#160;the&#160;RAM-optimized&#160;machine&#160;utilizes&#160;less&#160;memory).<br/>
are&#160;remarkably&#160;close&#160;at&#160;2.04&#160;and&#160;2.016&#160;USD,&#160;respectively.&#160;The&#160;effects&#160;of&#160;using&#160;these&#160;machines&#160;for<br/>the&#160;proving&#160;phase&#160;are&#160;depicted&#160;in&#160;Fig.&#160;<a href="2023-1503s.html#17">10.</a><br/>
Both&#160;snarkjs&#160;and&#160;rapidsnark&#160;demonstrate&#160;improved&#160;performance&#160;on&#160;RAM-optimized&#160;ma-<br/>
chines&#160;across&#160;all&#160;circuits.&#160;Additionally,&#160;they&#160;use&#160;less&#160;RAM&#160;on&#160;these&#160;machines.&#160;For&#160;instance,&#160;when<br/>benchmarking&#160;the&#160;Exponentiate&#160;circuit&#160;on&#160;a&#160;CPU-optimized&#160;machine&#160;with&#160;an&#160;input&#160;size&#160;of&#160;215,<br/>rapidsnark&#160;consumes&#160;157&#160;MB&#160;of&#160;RAM&#160;and&#160;takes&#160;0.15&#160;seconds.&#160;This&#160;RAM&#160;usage&#160;is&#160;about&#160;1.4&#160;times<br/>higher,&#160;and&#160;the&#160;processing&#160;time&#160;is&#160;approximately&#160;1.2&#160;times&#160;slower,&#160;compared&#160;to&#160;the&#160;RAM-optimized<br/>machine,&#160;where&#160;rapidsnark&#160;requires&#160;226&#160;MB&#160;and&#160;0.18&#160;seconds&#160;for&#160;the&#160;same&#160;input&#160;size.&#160;In&#160;contrast,<br/>most&#160;other&#160;tools&#160;display&#160;consistent&#160;memory&#160;consumption&#160;regardless&#160;of&#160;machine&#160;type.&#160;However,<br/>gnark&#160;deviates&#160;from&#160;this&#160;pattern.&#160;For&#160;smaller&#160;inputs&#160;in&#160;the&#160;Exponentiate&#160;circuit,&#160;gnark&#160;uses&#160;1.2<br/>times&#160;more&#160;memory&#160;on&#160;the&#160;CPU-optimized&#160;machine&#160;(68&#160;MB&#160;for&#160;212)&#160;than&#160;on&#160;its&#160;RAM-optimized<br/>counterpart&#160;(57&#160;MB&#160;for&#160;212).&#160;Nevertheless,&#160;due&#160;to&#160;the&#160;relatively&#160;low&#160;RAM&#160;requirements&#160;for&#160;such<br/>inputs,&#160;this&#160;difference&#160;might&#160;not&#160;be&#160;significant&#160;in&#160;real-world&#160;applications.&#160;A&#160;more&#160;pronounced<br/>difference&#160;is&#160;evident&#160;in&#160;gnark‚Äôs&#160;performance&#160;on&#160;CPU-optimized&#160;machines.&#160;Its&#160;superior&#160;performance<br/>might&#160;indicate&#160;efficient&#160;parallelization,&#160;most&#160;notably&#160;seen&#160;in&#160;the&#160;SHA256&#160;circuit&#160;(e.g.,&#160;2.10&#160;seconds<br/>on&#160;a&#160;CPU-optimized&#160;machine&#160;for&#160;28&#160;vs.&#160;2.99&#160;seconds&#160;on&#160;a&#160;RAM-optimized&#160;machine&#160;using&#160;the&#160;BN254<br/>curve).&#160;Similarly,&#160;both&#160;halo2&#160;and&#160;bellman&#160;exhibit&#160;enhanced&#160;performance,&#160;but&#160;their&#160;improvements<br/>are&#160;more&#160;modest&#160;compared&#160;to&#160;gnark.<br/>
<hr/>
<a name=18></a>18<br/>
Ernstberger,&#160;et&#160;al.<br/>
6<br/>
RUNTIME&#160;ESTIMATION<br/>
In&#160;this&#160;section,&#160;we&#160;harness&#160;the&#160;data&#160;obtained&#160;from&#160;zk-Bench&#160;to&#160;accomplish&#160;two&#160;objectives:&#160;(i)<br/>interpolate&#160;and&#160;extrapolate&#160;the&#160;runtimes&#160;of&#160;arithmetic&#160;operations&#160;and&#160;(ii)&#160;estimate&#160;the&#160;runtime<br/>of&#160;complex&#160;proof&#160;systems.&#160;Our&#160;ultimate&#160;goal&#160;is&#160;to&#160;offer&#160;a&#160;user&#160;interface&#160;that&#160;answers&#160;user&#160;queries<br/>about&#160;the&#160;runtime&#160;of&#160;cryptographic&#160;protocols&#160;regardless&#160;of&#160;their&#160;complexity.&#160;Furthermore,&#160;we&#160;want<br/>to&#160;be&#160;able&#160;to&#160;offer&#160;accurate&#160;estimation&#160;results&#160;even&#160;if&#160;we&#160;lack&#160;benchmarks&#160;for&#160;the&#160;requested&#160;size,<br/>or&#160;when&#160;the&#160;cryptographic&#160;protocol&#160;is&#160;in&#160;research&#160;stage&#160;and&#160;not&#160;yet&#160;implemented.&#160;We&#160;start&#160;by<br/>outlining&#160;our&#160;strategy&#160;for&#160;interpolating&#160;and&#160;extrapolating&#160;the&#160;runtime&#160;of&#160;fundamental&#160;arithmetic<br/>operation,&#160;and&#160;then&#160;use&#160;our&#160;techniques&#160;to&#160;estimate&#160;the&#160;runtime&#160;of&#160;entire&#160;cryptographic&#160;protocols,<br/>exemplified&#160;by&#160;estimating&#160;the&#160;prover&#160;runtime&#160;of&#160;the&#160;Pùî©ùî¨ùî´K&#160;proof&#160;system.<br/>
Arithmetic&#160;Data&#160;Interpolation&#160;and&#160;Extrapolation.&#160;Given&#160;the&#160;sparsely&#160;sampled&#160;benchmark<br/>
data&#160;for&#160;a&#160;cryptographic&#160;operation&#160;ùúô,&#160;our&#160;objective&#160;is&#160;to&#160;derive&#160;a&#160;function&#160;that&#160;describes&#160;the&#160;runtime<br/>of&#160;ùúô,&#160;denoted&#160;as&#160;ùëì&#160;(ùë•).&#160;ùëì&#160;(ùë•)&#160;is&#160;designed&#160;to&#160;estimate&#160;the&#160;runtime&#160;of&#160;ùúô&#160;for&#160;an&#160;arbitrary&#160;input&#160;size&#160;ùëõ.<br/>
For&#160;non-amortized&#160;operations&#160;like&#160;scalar&#160;multiplication&#160;and&#160;field&#160;addition,&#160;we&#160;treat&#160;them&#160;as<br/>
sequential&#160;computations.&#160;That&#160;is,&#160;if&#160;a&#160;single&#160;scalar&#160;multiplication&#160;consumes&#160;ùë•&#160;seconds,&#160;ùëõ&#160;such<br/>operations&#160;will&#160;consume&#160;ùëõ&#160;¬∑&#160;ùë•&#160;seconds.&#160;The&#160;result&#160;can&#160;be&#160;expressed&#160;as:&#160;ùëì&#160;(ùë•)&#160;=&#160;ùëõ&#160;¬∑&#160;ùë•.&#160;However,&#160;some<br/>complex&#160;operations&#160;can&#160;be&#160;amortized,&#160;and&#160;their&#160;performance&#160;is&#160;non-linear.&#160;In&#160;such&#160;cases:<br/>
‚Ä¢&#160;If&#160;the&#160;user&#160;queries&#160;for&#160;a&#160;size&#160;that&#160;lies&#160;between&#160;two&#160;benchmarked&#160;intervals,&#160;we&#160;perform&#160;linear<br/>
interpolation&#160;of&#160;the&#160;two&#160;estimates&#160;and&#160;return&#160;the&#160;value&#160;at&#160;the&#160;given&#160;size.<br/>
‚Ä¢&#160;If&#160;the&#160;requested&#160;size&#160;is&#160;outside&#160;the&#160;tested&#160;intervals,&#160;we&#160;apply&#160;linear&#160;regression&#160;using&#160;the<br/>
least&#160;squares&#160;method&#160;on&#160;the&#160;nearest&#160;four&#160;samples,&#160;and&#160;return&#160;the&#160;value&#160;of&#160;the&#160;resulting&#160;line<br/>at&#160;the&#160;given&#160;size.<br/>
In&#160;cases&#160;involving&#160;non-linear&#160;algorithms,&#160;insights&#160;into&#160;their&#160;asymptotic&#160;performance&#160;can&#160;enhance<br/>our&#160;estimation&#160;accuracy.&#160;For&#160;example,&#160;Pippenger‚Äôs&#160;multi-scalar&#160;multiplication&#160;algorithm&#160;is&#160;widely<br/>used,&#160;and&#160;its&#160;complexity&#160;is&#160;known&#160;to&#160;be&#160;close&#160;to&#160;ùëÇ&#160;(ùëõ/log&#160;ùëõ).&#160;Here,&#160;to&#160;provide&#160;better&#160;estimates,&#160;we<br/>use&#160;least&#160;squares&#160;to&#160;fit&#160;the&#160;last&#160;4&#160;samples&#160;in&#160;the&#160;dataset&#160;to&#160;a&#160;function&#160;‚Ñé(ùëõ)&#160;=&#160;ùëéùëõ+ùëè&#160;and&#160;solve&#160;for&#160;ùëé&#160;and<br/>
log&#160;ùëõ<br/>
ùëè&#160;.&#160;Analogous&#160;methods&#160;are&#160;applied&#160;for&#160;the&#160;Cooley-Tukey&#160;algorithm&#160;<a href="2023-1503s.html#22">[24],&#160;</a>which&#160;has&#160;a&#160;complexity&#160;of<br/>
ùëÇ&#160;(ùëõ&#160;log&#160;ùëõ).<br/>
To&#160;gauge&#160;the&#160;precision&#160;of&#160;our&#160;estimator,&#160;we&#160;sampled&#160;user&#160;queries&#160;both&#160;within&#160;and&#160;beyond&#160;our<br/>
benchmark&#160;ranges&#160;at&#160;random&#160;samples:&#160;for&#160;interpolation,&#160;at&#160;points&#160;2ùëñ&#160;+&#160;ùëü&#160;where&#160;ùëñ&#160;=&#160;10,&#160;.&#160;.&#160;.&#160;,&#160;20&#160;and<br/>
ùëü&#160;sampled&#160;at&#160;random&#160;in&#160;the&#160;integer&#160;interval&#160;[0,&#160;2ùëñ&#160;];&#160;for&#160;extrapolation&#160;setting&#160;ùëñ&#160;=&#160;24&#160;and&#160;taking&#160;a<br/>
random&#160;sample&#160;as&#160;above.&#160;The&#160;mode&#160;of&#160;the&#160;percent&#160;error&#160;touches&#160;0.75%&#160;for&#160;multi-scalar&#160;multiplication<br/>in&#160;BN254,&#160;and&#160;lower&#160;than&#160;0.02%&#160;for&#160;multi-pairing&#160;in&#160;bls12-381;&#160;the&#160;highest&#160;recorded&#160;error&#160;has&#160;been<br/>of&#160;17.37%&#160;for&#160;curve25519&#160;on&#160;m6i.8xlarge.<br/>
Circuit&#160;extrapolation.&#160;Using&#160;the&#160;above&#160;techniques&#160;for&#160;estimating&#160;the&#160;runtime&#160;of&#160;low-level<br/>arithmetic&#160;operations,&#160;we&#160;can&#160;move&#160;towards&#160;estimating&#160;the&#160;running&#160;times&#160;of&#160;entire&#160;zero-knowledge<br/>proof&#160;systems.&#160;Given&#160;the&#160;size&#160;of&#160;the&#160;circuit&#160;being&#160;proven&#160;(in&#160;the&#160;case&#160;of&#160;R1CS&#160;for&#160;instance,&#160;the<br/>number&#160;of&#160;addition&#160;gates,&#160;multiplication&#160;gates,&#160;instance,&#160;and&#160;witness&#160;sizes)&#160;we&#160;can&#160;provide&#160;estimates<br/>for&#160;the&#160;running&#160;time&#160;of&#160;a&#160;proof&#160;system&#160;by&#160;enumerating&#160;the&#160;arithmetic&#160;operations&#160;being&#160;performed,<br/>estimating&#160;the&#160;run-time&#160;for&#160;each&#160;of&#160;them,&#160;and&#160;summing&#160;them&#160;up.<br/>
For&#160;the&#160;Pùî©ùî¨ùî´K&#160;proof&#160;system,&#160;we&#160;developed&#160;an&#160;estimator&#160;for&#160;the&#160;prover‚Äôs&#160;runtime,&#160;concentrating<br/>
primarily&#160;on&#160;the&#160;most&#160;computationally&#160;intensive&#160;operations:&#160;multi-scalar&#160;multiplications&#160;and&#160;FFTs.<br/>Our&#160;observations&#160;indicate&#160;that&#160;even&#160;this&#160;rudimentary&#160;estimation&#160;approach&#160;can&#160;yield&#160;sufficiently<br/>accurate&#160;results&#160;for&#160;practical&#160;user&#160;queries.&#160;Specifically,&#160;the&#160;estimated&#160;runtimes&#160;were&#160;consistently<br/>
within&#160;32%&#160;of&#160;the&#160;actual&#160;runtimes&#160;of&#160;gnark‚Äôs&#160;Pùî©ùî¨ùî´K&#160;implementation,&#160;as&#160;illustrated&#160;in&#160;Table&#160;<a href="2023-1503s.html#19">3.</a><br/>
<hr/>
<a name=19></a>zk-Bench:&#160;A&#160;Toolset&#160;for&#160;Comparative&#160;Evaluation<br/>and&#160;Performance&#160;Benchmarking&#160;of&#160;SNARKs<br/>
19<br/>
Table&#160;3.&#160;Percent&#160;error&#160;for&#160;estimating&#160;the&#160;running&#160;time&#160;of&#160;the&#160;proving&#160;algorithm&#160;for&#160;the&#160;exponentiation&#160;circuit<br/>prover&#160;using&#160;Pùî©ùî¨ùî´K&#160;as&#160;implemented&#160;in&#160;gnark.<br/>
Curve<br/>
Error<br/>
Actual&#160;Runtime<br/>
Estimated&#160;Runtime<br/>
Number&#160;of&#160;gates<br/>
BN254<br/>
22.40%<br/>
3&#160;ms<br/>
2.33&#160;ms<br/>
10<br/>
BN254<br/>
6.03%<br/>
6&#160;ms<br/>
5.64&#160;ms<br/>
100<br/>
BN254<br/>
6.83%<br/>
24&#160;ms<br/>
25.64&#160;ms<br/>
1000<br/>
BN254<br/>
29.50%<br/>
253&#160;ms<br/>
178.37&#160;ms<br/>
10000<br/>
BN254<br/>
32.00%<br/>
1793&#160;ms<br/>
1219.25&#160;ms<br/>
100000<br/>
BN254<br/>
27.66%<br/>
12&#160;939&#160;ms<br/>
9359.55&#160;ms<br/>
1000000<br/>
BLS12-381<br/>
9.42%<br/>
4&#160;ms<br/>
3.62&#160;ms<br/>
10<br/>
BLS12-381<br/>
0.20%<br/>
9&#160;ms<br/>
8.98&#160;ms<br/>
100<br/>
BLS12-381<br/>
16.26%<br/>
38&#160;ms<br/>
44.18&#160;ms<br/>
1000<br/>
BLS12-381<br/>
22.05%<br/>
364&#160;ms<br/>
283.73&#160;ms<br/>
10000<br/>
BLS12-381<br/>
21.40%<br/>
2445&#160;ms<br/>
1921.67&#160;ms<br/>
100000<br/>
BLS12-381<br/>
12.35%<br/>
17&#160;141&#160;ms<br/>
15&#160;024.86&#160;ms<br/>
1000000<br/>
We&#160;anticipate&#160;that&#160;analogous&#160;techniques&#160;can&#160;be&#160;employed&#160;to&#160;project&#160;the&#160;runtime&#160;of&#160;other&#160;proof<br/>
systems.&#160;When&#160;complemented&#160;with&#160;performance&#160;data&#160;specific&#160;to&#160;certain&#160;implementations,&#160;this<br/>approach&#160;holds&#160;the&#160;potential&#160;to&#160;address&#160;user&#160;queries&#160;for&#160;proof&#160;system&#160;circuits&#160;of&#160;arbitrary&#160;size.<br/>
7<br/>
DISCUSSION<br/>
7.1<br/>
Limitations<br/>
While&#160;our&#160;study&#160;provides&#160;valuable&#160;insights&#160;into&#160;the&#160;performance&#160;of&#160;different&#160;pulic-key-cryptography-<br/>
based&#160;libraries&#160;and&#160;tools&#160;for&#160;ZKP&#160;development,&#160;several&#160;limitations&#160;should&#160;be&#160;acknowledged:<br/>
Hardware&#160;Considerations.&#160;Our&#160;evaluation&#160;focused&#160;on&#160;commodity&#160;machines,&#160;excluding&#160;platforms<br/>like&#160;GPUs,&#160;FPGAs,&#160;and&#160;mobile&#160;devices.&#160;To&#160;fully&#160;grasp&#160;the&#160;real-world&#160;applicability&#160;of&#160;tools&#160;for&#160;ZKP<br/>development,&#160;future&#160;work&#160;should&#160;include&#160;benchmarks&#160;on&#160;these&#160;platforms.<br/>
Na√Øve&#160;public-key&#160;operations.&#160;As&#160;outlined&#160;in&#160;Sections&#160;<a href="2023-1503s.html#3">2&#160;</a>and&#160;<a href="2023-1503s.html#13">5.3,&#160;</a>we&#160;are&#160;not&#160;concerned&#160;with<br/>the&#160;actual&#160;representation&#160;of&#160;elements.&#160;Points&#160;in&#160;an&#160;elliptic&#160;curve&#160;can&#160;be&#160;represented&#160;in&#160;multiple<br/>
ways&#160;(depending&#160;on&#160;the&#160;curve,&#160;affine&#160;points&#160;‚Äì&#160;in&#160;Weirstrass,&#160;Montgomery,&#160;or&#160;Edwards&#160;form&#160;‚Äì&#160;or<br/>
projective&#160;‚Äì&#160;in&#160;standard,&#160;Jacobi,&#160;or&#160;Chudnovsky&#160;coordinates).&#160;Additionally,&#160;different&#160;algorithms<br/>might&#160;have&#160;different&#160;constraints:&#160;no&#160;heap&#160;allocations&#160;(that‚Äôs&#160;the&#160;case&#160;for&#160;curve25519),&#160;constant<br/>time,&#160;etc.&#160;Comparing&#160;different&#160;algorithms&#160;on&#160;the&#160;same&#160;ground&#160;is&#160;outside&#160;the&#160;scope&#160;of&#160;our&#160;current<br/>arithmetic&#160;benchmark.&#160;They&#160;are&#160;meant&#160;to&#160;give&#160;a&#160;rough&#160;estimate&#160;of&#160;the&#160;runtime&#160;of&#160;a&#160;complex<br/>cryptographic&#160;algorithm&#160;in&#160;a&#160;usable&#160;way.&#160;A&#160;broader&#160;study&#160;incorporating&#160;these&#160;optimizations&#160;can<br/>elucidate&#160;the&#160;trade-offs&#160;involved.&#160;We&#160;view&#160;an&#160;in-depth&#160;exploration&#160;of&#160;the&#160;impact&#160;of&#160;optimizations<br/>
within&#160;across&#160;ZKP&#160;tools&#160;as&#160;a&#160;promising&#160;direction&#160;for&#160;future&#160;work.<br/>
Scope&#160;of&#160;Evaluated&#160;Circuits.&#160;Our&#160;ZKP&#160;backend&#160;currently&#160;only&#160;evaluates&#160;a&#160;limited&#160;set&#160;of&#160;test<br/>vectors,&#160;and&#160;the&#160;performance&#160;can&#160;vary&#160;considerably&#160;based&#160;on&#160;the&#160;specific&#160;implementation&#160;of&#160;a<br/>circuit&#160;(cf.&#160;Section&#160;<a href="2023-1503s.html#10">5).&#160;</a>Given&#160;the&#160;diversity&#160;and&#160;complexity&#160;of&#160;potential&#160;ZKP&#160;circuits,&#160;our&#160;chosen<br/>circuits&#160;might&#160;not&#160;fully&#160;encapsulate&#160;all&#160;performance&#160;scenarios.&#160;For&#160;instance,&#160;in&#160;the&#160;case&#160;of&#160;SHA-256,<br/>different&#160;libraries&#160;provided&#160;different&#160;set&#160;of&#160;optiomizations,&#160;and&#160;the&#160;witness&#160;generation&#160;in&#160;different<br/>ZKP&#160;tools&#160;is&#160;sometimes&#160;included&#160;in&#160;the&#160;prove&#160;API,&#160;introducing&#160;additional&#160;complexity&#160;in&#160;assessing<br/>performance&#160;on&#160;equal&#160;grounds.<br/>
Nevertheless,&#160;the&#160;extensibility&#160;of&#160;zk-Bench&#160;ensures&#160;ease&#160;in&#160;integrating&#160;additional&#160;benchmarks<br/>
for&#160;a&#160;more&#160;comprehensive&#160;evaluation&#160;in&#160;the&#160;future.<br/>
7.2<br/>
Recommendations<br/>
Standardized&#160;Test&#160;Vectors.&#160;When&#160;it&#160;comes&#160;to&#160;the&#160;test&#160;vectors&#160;to&#160;choose&#160;for&#160;benchmarks,&#160;we&#160;find<br/>that&#160;there&#160;is&#160;little&#160;convergence&#160;in&#160;the&#160;community.&#160;Implementations&#160;are&#160;dispersed,&#160;and&#160;it&#160;is&#160;difficult&#160;to<br/>find&#160;implementations&#160;that&#160;target&#160;the&#160;same&#160;functionality&#160;in&#160;different&#160;tools&#160;for&#160;ZKP&#160;development,&#160;such<br/>
<hr/>
<a name=20></a>20<br/>
Ernstberger,&#160;et&#160;al.<br/>
that&#160;equal&#160;and&#160;fair&#160;comparisons&#160;can&#160;be&#160;drawn.&#160;We&#160;advocate&#160;for&#160;a&#160;focused&#160;community&#160;discussion&#160;on<br/>functionalities,&#160;emphasizing&#160;that&#160;a&#160;consensus&#160;on&#160;a&#160;benchmark&#160;set&#160;would&#160;enable&#160;unbiased&#160;third-party<br/>performance&#160;evaluations.<br/>Interoperable&#160;Intermediate&#160;Representations.&#160;Many&#160;libraries&#160;provide&#160;custom&#160;implementations<br/>of&#160;similar&#160;intermediate&#160;representations.&#160;Whereas&#160;initial&#160;efforts&#160;exist&#160;in&#160;unifying&#160;intermediate<br/>representations&#160;<a href="2023-1503s.html#23">[63],&#160;</a>the&#160;degree&#160;of&#160;interoperability&#160;between&#160;tools&#160;is,&#160;thus&#160;far,&#160;relatively&#160;minimal.<br/>Evaluating&#160;ZKP&#160;tooling&#160;on&#160;common&#160;intermediate&#160;representation&#160;language&#160;that&#160;compilers&#160;can&#160;target<br/>and&#160;libraries&#160;can&#160;implement,&#160;could&#160;provide&#160;further&#160;insights&#160;into&#160;the&#160;performance&#160;difference&#160;in<br/>differing&#160;ZKP&#160;backends&#160;along&#160;different&#160;test&#160;vectors.<br/>Improved&#160;Documentation.&#160;The&#160;implementation&#160;of&#160;cryptographic&#160;protocols&#160;and&#160;functionalities<br/>
with&#160;ZKP&#160;tools&#160;remains&#160;a&#160;complex&#160;task.&#160;Improved&#160;documentation&#160;of&#160;tooling&#160;for&#160;<a href="2023-1503s.html#1">ZKPs&#160;</a>would&#160;be<br/>
equally&#160;beneficial&#160;to&#160;the&#160;practitioners‚Äô&#160;community,&#160;as&#160;well&#160;as&#160;from&#160;a&#160;benchmarking&#160;perspective.<br/>For&#160;example,&#160;the&#160;witness&#160;generation&#160;in&#160;different&#160;ZKP&#160;tools&#160;is&#160;sometimes&#160;included&#160;in&#160;the&#160;prove&#160;API,<br/>introducing&#160;additional&#160;complexity&#160;in&#160;assessing&#160;performance&#160;on&#160;equal&#160;grounds.&#160;Similarly,&#160;improved<br/>documentation&#160;of&#160;optimizations&#160;would&#160;tremendously&#160;benefit&#160;the&#160;whole&#160;community&#160;in&#160;qualitatively<br/>comparing&#160;differing&#160;implementations,&#160;in&#160;addition&#160;to&#160;quantitative&#160;benchmarks.<br/>
With&#160;zk-Bench,&#160;the&#160;intuitive&#160;frontend&#160;for&#160;end-users,&#160;and&#160;the&#160;systematization&#160;introduced&#160;in<br/>
Section&#160;<a href="2023-1503s.html#3">2,&#160;</a>we&#160;aim&#160;to&#160;provide&#160;an&#160;initial&#160;step&#160;in&#160;addressing&#160;the&#160;above&#160;recommendations.&#160;We&#160;urge&#160;the<br/>community&#160;to&#160;further&#160;extend&#160;these&#160;benchmarking&#160;efforts&#160;in&#160;an&#160;open-source&#160;effort.<br/>
8<br/>
RELATED&#160;WORK<br/>
eBATS&#160;<a href="2023-1503s.html#23">[52]&#160;</a>is&#160;the&#160;current&#160;largest&#160;effort&#160;in&#160;benchmarking&#160;public-key&#160;cryptographic&#160;operations.<br/>However,&#160;its&#160;focus&#160;is&#160;limited&#160;to&#160;Diffie-Hellman,&#160;(scalar&#160;multiplication),&#160;KEM,&#160;and&#160;sign&#160;operations<br/>
(multiplication&#160;and&#160;addition)&#160;instead&#160;of&#160;modern&#160;cryptography&#160;and&#160;runtime&#160;estimations.&#160;Baghery&#160;et<br/>
al.&#160;<a href="2023-1503s.html#21">[3]&#160;</a>examine&#160;the&#160;setup&#160;phase&#160;of&#160;certain&#160;zk-SNARKs,&#160;and&#160;Botrel&#160;et.&#160;al<a href="2023-1503s.html#22">[16]&#160;</a>offer&#160;comparative&#160;insights<br/>into&#160;public-key&#160;operations&#160;in&#160;ZKP&#160;libraries&#160;such&#160;as&#160;gnark&#160;and&#160;arkworks.&#160;In&#160;contrast&#160;to&#160;these&#160;works,<br/>
we&#160;provide&#160;a&#160;comprehensive&#160;framework&#160;that&#160;dives&#160;deep&#160;into&#160;both&#160;arithmetic&#160;operations&#160;and&#160;the<br/>
zk-SNARK&#160;process,&#160;bridging&#160;both&#160;domains.&#160;The&#160;drive&#160;to&#160;standardize&#160;ZKPs&#160;led&#160;to&#160;a&#160;proposal&#160;for&#160;a<br/>benchmarking&#160;framework&#160;<a href="2023-1503s.html#21">[10].&#160;</a>This&#160;initiative&#160;laid&#160;some&#160;foundational&#160;concepts,&#160;many&#160;of&#160;which<br/>
we‚Äôve&#160;assimilated&#160;and&#160;expanded&#160;upon&#160;to&#160;deliver&#160;an&#160;exhaustive&#160;and&#160;versatile&#160;benchmarking&#160;tool.<br/>
Recently,&#160;the&#160;practitioners‚Äô&#160;community&#160;has&#160;exhibited&#160;a&#160;growing&#160;interest&#160;in&#160;benchmarking&#160;public-<br/>
key&#160;cryptography&#160;libraries&#160;and&#160;tools&#160;for&#160;ZKP&#160;development.&#160;Housni&#160;has&#160;benchmarked&#160;many&#160;elliptic<br/>curve&#160;implementations&#160;to&#160;evaluate&#160;the&#160;performance&#160;of&#160;MSMs&#160;and&#160;pairings.&#160;<a href="2023-1503s.html#20">8&#160;</a>Orthogonally,&#160;Bloemen<br/>has&#160;presented&#160;a&#160;set&#160;of&#160;benchmarks&#160;for&#160;implementations&#160;of&#160;polynomial&#160;commitments.&#160;<a href="2023-1503s.html#20">9&#160;</a>In&#160;our&#160;work,<br/>
we&#160;build&#160;upon&#160;these&#160;efforts&#160;by&#160;providing&#160;an&#160;automated&#160;framework&#160;to&#160;benchmark&#160;and&#160;compare<br/>
library&#160;implementations&#160;across&#160;various&#160;operations&#160;systematically.<br/>
Celer&#160;Network&#160;published&#160;a&#160;blog&#160;post&#160;<a href="2023-1503s.html#20">10&#160;</a>focusing&#160;on&#160;benchmarking&#160;the&#160;time&#160;and&#160;memory&#160;costs&#160;of<br/>
proving&#160;SHA-256&#160;circuits,&#160;which&#160;were&#160;developed&#160;by&#160;community&#160;members,&#160;in&#160;various&#160;tools&#160;for&#160;<a href="2023-1503s.html#1">ZKPs.<br/></a>By&#160;contrast,&#160;our&#160;work&#160;provides&#160;an&#160;extensible&#160;framework&#160;that&#160;supports&#160;arbitrary&#160;circuits,&#160;libraries<br/>and&#160;tools,&#160;and&#160;thoroughly&#160;benchmarks&#160;all&#160;phases&#160;involved&#160;in&#160;ZKPs.&#160;However,&#160;the&#160;results&#160;of&#160;this<br/>benchmark&#160;could&#160;heavily&#160;depend&#160;on&#160;how&#160;optimized&#160;the&#160;circuit&#160;is.&#160;Therefore,&#160;we&#160;also&#160;benchmarked&#160;a<br/>straightforward&#160;exponentiation&#160;circuit&#160;across&#160;the&#160;evaluated&#160;tools.&#160;Moreover,&#160;Anoma&#160;has&#160;developed<br/>a&#160;framework&#160;<a href="2023-1503s.html#20">11&#160;</a>that&#160;benchmarks&#160;different&#160;ZKP&#160;compilation&#160;strategies,&#160;from&#160;libraries&#160;used&#160;for<br/>
writing&#160;circuits&#160;to&#160;zkVMs&#160;that&#160;can&#160;run&#160;arbitrary&#160;programs,&#160;with&#160;a&#160;particular&#160;focus&#160;on&#160;execution<br/>
<a href="https://hackmd.io/@gnark/eccbench">8https://hackmd.io/@gnark/eccbench<br/></a>9https://2ùúã.com/23/pc-bench/<br/><a href="https://blog.celer.network/2023/07/14/the-pantheon-of-zero-knowledge-proof-development-frameworks/">10https://blog.celer.network/2023/07/14/the-pantheon-of-zero-knowledge-proof-development-frameworks/<br/></a><a href="https://github.com/anoma/zkp-compiler-shootout">11https://github.com/anoma/zkp-compiler-shootout</a><br/>
<hr/>
<a name=21></a>zk-Bench:&#160;A&#160;Toolset&#160;for&#160;Comparative&#160;Evaluation<br/>and&#160;Performance&#160;Benchmarking&#160;of&#160;SNARKs<br/>
21<br/>
time.&#160;Lastly,&#160;orthogonal&#160;to&#160;our&#160;work,&#160;Delendum&#160;has&#160;developed&#160;a&#160;framework&#160;for&#160;benchmarking<br/>zkVMs.&#160;<a href="2023-1503s.html#21">12</a><br/>
9<br/>
CONCLUSION<br/>
While&#160;the&#160;performance&#160;measurement&#160;of&#160;ZKP&#160;implementations&#160;has&#160;long&#160;been&#160;a&#160;relevant&#160;topic&#160;in<br/>
academia,&#160;its&#160;significance&#160;has&#160;surged&#160;recently&#160;due&#160;to&#160;the&#160;increased&#160;feasibility&#160;of&#160;proof&#160;systems.<br/>Further,&#160;libraries&#160;and&#160;tools&#160;for&#160;ZKP&#160;circuits&#160;have&#160;evolved&#160;from&#160;proof-of-concepts&#160;to&#160;robust&#160;solutions<br/>now&#160;used&#160;in&#160;production.&#160;This&#160;advancement&#160;allows&#160;developers&#160;to&#160;employ&#160;innovative&#160;tools&#160;for<br/>expressing&#160;computations&#160;in&#160;a&#160;way&#160;susceptible&#160;to&#160;proof&#160;systems.&#160;However,&#160;assessing&#160;the&#160;performance<br/>of&#160;a&#160;specific&#160;implementation,&#160;let&#160;alone&#160;a&#160;novel&#160;cryptographic&#160;protocol,&#160;remains&#160;a&#160;difficult&#160;endeavor.<br/>
In&#160;this&#160;paper,&#160;we&#160;introduced&#160;zk-Bench,&#160;the&#160;first&#160;holistic&#160;benchmarking&#160;framework&#160;and&#160;estimator<br/>
tool&#160;designed&#160;for&#160;performance&#160;evaluation&#160;of&#160;public-key&#160;cryptography,&#160;with&#160;a&#160;specific&#160;focus&#160;on<br/>practical&#160;assessment&#160;of&#160;general-purpose&#160;ZKP&#160;systems.&#160;zk-Bench&#160;is&#160;easy&#160;to&#160;configure&#160;and&#160;run,&#160;whilst<br/>being&#160;modular&#160;enough&#160;to&#160;include&#160;a&#160;high&#160;variety&#160;of&#160;real-world&#160;applications.&#160;Using&#160;zk-Bench,&#160;we<br/>evaluated&#160;13&#160;elliptic&#160;curves&#160;across&#160;9&#160;libraries&#160;and&#160;assessed&#160;5&#160;prominent&#160;tools&#160;for&#160;ZKP&#160;development<br/>
with&#160;two&#160;test&#160;vectors&#160;‚Äî&#160;Exponentiation&#160;and&#160;SHA-256&#160;‚Äî&#160;uncovering&#160;intriguing&#160;differences.&#160;For<br/>
example,&#160;we&#160;find&#160;that&#160;certain&#160;ZKP&#160;frameworks&#160;favor&#160;compute-optimized&#160;hardware,&#160;while&#160;others<br/>benefit&#160;from&#160;memory-optimized&#160;hardware.&#160;This&#160;results&#160;in&#160;a&#160;performance&#160;increase&#160;of&#160;up&#160;to&#160;50%&#160;for<br/>CPU&#160;and&#160;40%&#160;for&#160;memory&#160;when&#160;computing&#160;a&#160;proof,&#160;guiding&#160;developers&#160;to&#160;select&#160;an&#160;appropriate<br/>tool&#160;to&#160;develop&#160;their&#160;ZKP&#160;based&#160;application.<br/>
ACKNOWLEDGMENTS<br/>
This&#160;work&#160;is&#160;partially&#160;supported&#160;by&#160;the&#160;Center&#160;for&#160;Responsible,&#160;Decentralized&#160;Intelligence&#160;at<br/>
Berkeley&#160;(Berkeley&#160;RDI)&#160;and&#160;the&#160;Ethereum&#160;Foundation.&#160;The&#160;authors&#160;acknowledge&#160;the&#160;financial<br/>support&#160;by&#160;the&#160;Federal&#160;Ministry&#160;of&#160;Education&#160;and&#160;Research&#160;of&#160;Germany&#160;in&#160;the&#160;programme&#160;of<br/>
‚ÄúSouver√§n.&#160;Digital.&#160;Vernetzt.‚Äù.&#160;Joint&#160;project&#160;6G-life,&#160;project&#160;identification&#160;number:&#160;16KISK002.&#160;We<br/>
acknowledge&#160;contributions&#160;to&#160;earlier&#160;versions&#160;of&#160;our&#160;open-source&#160;repository,&#160;zk-Harness,&#160;by&#160;Celer<br/>Network,&#160;Morgan&#160;Thomas,&#160;and&#160;bingcicle.<br/>
REFERENCES<br/>
[1]&#160;Mohammad&#160;Bagher&#160;Abiat.&#160;2023.&#160;Tinybench.&#160;<a href="https://github.com/tinylibs/tinybench">https://github.com/tinylibs/tinybench<br/></a>[2]&#160;arkworks&#160;contributors.&#160;2022.&#160;arkworks&#160;zkSNARK&#160;ecosystem.&#160;<a href="https://arkworks.rs">https://arkworks.rs<br/></a>[3]&#160;Karim&#160;Baghery,&#160;Axel&#160;Mertens,&#160;and&#160;Mahdi&#160;Sedaghat.&#160;2023.&#160;Benchmarking&#160;the&#160;Setup&#160;of&#160;Updatable&#160;zk-SNARKs.&#160;Cryptology<br/>
ePrint&#160;Archive&#160;(2023).<br/>
[4]&#160;Razvan&#160;Barbulescu&#160;and&#160;Sylvain&#160;Duquesne.&#160;2019.&#160;Updating&#160;key&#160;size&#160;estimations&#160;for&#160;pairings.&#160;Journal&#160;of&#160;cryptology&#160;32<br/>
(2019),&#160;1298‚Äì1336.<br/>
[5]&#160;Paulo&#160;SLM&#160;Barreto,&#160;Ben&#160;Lynn,&#160;and&#160;Michael&#160;Scott.&#160;2003.&#160;Constructing&#160;elliptic&#160;curves&#160;with&#160;prescribed&#160;embedding<br/>
degrees.&#160;In&#160;Security&#160;in&#160;Communication&#160;Networks:&#160;Third&#160;International&#160;Conference,&#160;SCN&#160;2002&#160;Amalfi,&#160;Italy,&#160;September<br/>11‚Äì13,&#160;2002&#160;Revised&#160;Papers&#160;3.&#160;Springer,&#160;257‚Äì267.<br/>
[6]&#160;Paulo&#160;SLM&#160;Barreto&#160;and&#160;Michael&#160;Naehrig.&#160;2005.&#160;Pairing-friendly&#160;elliptic&#160;curves&#160;of&#160;prime&#160;order.&#160;In&#160;International&#160;workshop<br/>
on&#160;selected&#160;areas&#160;in&#160;cryptography.&#160;Springer,&#160;319‚Äì331.<br/>
[7]&#160;Eli&#160;Ben-Sasson.&#160;2018.&#160;libSTARK.&#160;<a href="https://github.com/elibensasson/libSTARK">https://github.com/elibensasson/libSTARK<br/></a>[8]&#160;Eli&#160;Ben-Sasson,&#160;Iddo&#160;Bentov,&#160;Yinon&#160;Horesh,&#160;and&#160;Michael&#160;Riabzev.&#160;2019.&#160;Scalable&#160;zero&#160;knowledge&#160;with&#160;no&#160;trusted&#160;setup.<br/>
In&#160;Advances&#160;in&#160;Cryptology‚ÄìCRYPTO&#160;2019:&#160;39th&#160;Annual&#160;International&#160;Cryptology&#160;Conference,&#160;Santa&#160;Barbara,&#160;CA,&#160;USA,<br/>August&#160;18‚Äì22,&#160;2019,&#160;Proceedings,&#160;Part&#160;III&#160;39.&#160;Springer,&#160;701‚Äì732.<br/>
[9]&#160;Eli&#160;Ben-Sasson,&#160;Alessandro&#160;Chiesa,&#160;Daniel&#160;Genkin,&#160;Eran&#160;Tromer,&#160;and&#160;Madars&#160;Virza.&#160;2013.&#160;SNARKs&#160;for&#160;C:&#160;Verifying<br/>
Program&#160;Executions&#160;Succinctly&#160;and&#160;in&#160;Zero&#160;Knowledge.&#160;In&#160;CRYPTO&#160;2013,&#160;Part&#160;II&#160;(LNCS,&#160;Vol.&#160;8043),&#160;Ran&#160;Canetti&#160;and<br/>Juan&#160;A.&#160;Garay&#160;(Eds.).&#160;Springer,&#160;Heidelberg,&#160;90‚Äì108.&#160;<a href="https://doi.org/10.1007/978-3-642-40084-1_6">https://doi.org/10.1007/978-3-642-40084-1_6</a><br/>
[10]&#160;Daniel&#160;Benarroch,&#160;Aur√©lien&#160;Nicolas,&#160;Justin&#160;Thaler,&#160;and&#160;Eran&#160;Tromer.&#160;2020.&#160;‚ÄòCommunity&#160;proposal:&#160;A&#160;benchmarking<br/>
framework&#160;for&#160;(zero-knowledge)&#160;proof&#160;systems.&#160;QEDIT,&#160;Tel&#160;Aviv-Yafo,&#160;Israel,&#160;Tech.&#160;Rep&#160;(2020).<br/>
<a href="https://github.com/delendum-xyz/zk-benchmarking">12https://github.com/delendum-xyz/zk-benchmarking</a><br/>
<hr/>
<a name=22></a>22<br/>
Ernstberger,&#160;et&#160;al.<br/>
[11]&#160;Daniel&#160;J&#160;Bernstein.&#160;2002.&#160;Pippenger‚Äôs&#160;exponentiation&#160;algorithm.&#160;Preprint.&#160;Available&#160;from&#160;http://cr.&#160;yp.&#160;to/papers.&#160;html<br/>
(2002).<br/>
[12]&#160;bheisler.&#160;2023.&#160;Rust&#160;Criterion.&#160;<a href="https://bheisler.github.io/criterion.rs/book/index.html">https://bheisler.github.io/criterion.rs/book/index.html<br/></a>[13]&#160;Nir&#160;Bitansky,&#160;Ran&#160;Canetti,&#160;Alessandro&#160;Chiesa,&#160;Shafi&#160;Goldwasser,&#160;Huijia&#160;Lin,&#160;Aviad&#160;Rubinstein,&#160;and&#160;Eran&#160;Tromer.&#160;2017.<br/>
The&#160;hunting&#160;of&#160;the&#160;SNARK.&#160;Journal&#160;of&#160;Cryptology&#160;30,&#160;4&#160;(2017),&#160;989‚Äì1066.<br/>
[14]&#160;Remco&#160;Bloemen.&#160;2023.&#160;Polynomial&#160;Commitment&#160;Benchmark.<br/>[15]&#160;Jonathan&#160;Bootle,&#160;Alessandro&#160;Chiesa,&#160;Yuncong&#160;Hu,&#160;and&#160;Michele&#160;Orr√π.&#160;2022.&#160;Gemini:&#160;Elastic&#160;SNARKs&#160;for&#160;Diverse<br/>
Environments.&#160;In&#160;EUROCRYPT&#160;2022,&#160;Part&#160;II&#160;(LNCS,&#160;Vol.&#160;13276),&#160;Orr&#160;Dunkelman&#160;and&#160;Stefan&#160;Dziembowski&#160;(Eds.).&#160;Springer,<br/>Heidelberg,&#160;427‚Äì457.&#160;<a href="https://doi.org/10.1007/978-3-031-07085-3_15">https://doi.org/10.1007/978-3-031-07085-3_15</a><br/>
[16]&#160;Gautam&#160;Botrel&#160;and&#160;Youssef&#160;El&#160;Housni.&#160;2023.&#160;Faster&#160;Montgomery&#160;multiplication&#160;and&#160;Multi-Scalar-Multiplication&#160;for<br/>
SNARKs.&#160;IACR&#160;Transactions&#160;on&#160;Cryptographic&#160;Hardware&#160;and&#160;Embedded&#160;Systems&#160;(2023),&#160;504‚Äì521.<br/>
[17]&#160;Gautam&#160;Botrel,&#160;Thomas&#160;Piellard,&#160;Youssef&#160;El&#160;Housni,&#160;Ivo&#160;Kubjas,&#160;and&#160;Arya&#160;Tabaie.&#160;2023.&#160;ConsenSys/gnark:&#160;v0.8.0.<br/>
<a href="https://doi.org/10.5281/zenodo.5819104">https://doi.org/10.5281/zenodo.5819104</a><br/>
[18]&#160;Sean&#160;Bowe,&#160;Alessandro&#160;Chiesa,&#160;Matthew&#160;Green,&#160;Ian&#160;Miers,&#160;Pratyush&#160;Mishra,&#160;and&#160;Howard&#160;Wu.&#160;2020.&#160;Zexe:&#160;Enabling<br/>
decentralized&#160;private&#160;computation.&#160;In&#160;2020&#160;IEEE&#160;Symposium&#160;on&#160;Security&#160;and&#160;Privacy&#160;(SP).&#160;IEEE,&#160;947‚Äì964.<br/>
[19]&#160;Matteo&#160;Campanelli,&#160;Nicolas&#160;Gailly,&#160;Rosario&#160;Gennaro,&#160;Philipp&#160;Jovanovic,&#160;Mara&#160;Mihali,&#160;and&#160;Justin&#160;Thaler.&#160;2023.&#160;<a href="https://eprint.iacr.org/2023/961">Testudo:</a><br/>
<a href="https://eprint.iacr.org/2023/961">Linear&#160;Time&#160;Prover&#160;SNARKs&#160;with&#160;Constant&#160;Size&#160;Proofs&#160;and&#160;Square&#160;Root&#160;Size&#160;Universal&#160;Setup.&#160;</a>In&#160;Progress&#160;in&#160;Cryptology‚Äì<br/>Latincrypt&#160;2023:&#160;9th&#160;International&#160;Conference&#160;on&#160;Cryptology&#160;and&#160;Information&#160;Security&#160;in&#160;Latin&#160;America.<br/>
[20]&#160;David&#160;Chaum.&#160;1982.&#160;Blind&#160;Signatures&#160;for&#160;Untraceable&#160;Payments.&#160;In&#160;CRYPTO‚Äô82,&#160;David&#160;Chaum,&#160;Ronald&#160;L.&#160;Rivest,&#160;and<br/>
Alan&#160;T.&#160;Sherman&#160;(Eds.).&#160;Plenum&#160;Press,&#160;New&#160;York,&#160;USA,&#160;199‚Äì203.<br/>
[21]&#160;David&#160;L&#160;Chaum.&#160;1981.&#160;Untraceable&#160;electronic&#160;mail,&#160;return&#160;addresses,&#160;and&#160;digital&#160;pseudonyms.&#160;Commun.&#160;ACM&#160;24,&#160;2<br/>
(1981),&#160;84‚Äì90.<br/>
[22]&#160;Alessandro&#160;Chiesa,&#160;Yuncong&#160;Hu,&#160;Mary&#160;Maller,&#160;Pratyush&#160;Mishra,&#160;Noah&#160;Vesely,&#160;and&#160;Nicholas&#160;Ward.&#160;2020.&#160;Marlin:<br/>
Preprocessing&#160;zkSNARKs&#160;with&#160;universal&#160;and&#160;updatable&#160;SRS.&#160;In&#160;Advances&#160;in&#160;Cryptology‚ÄìEUROCRYPT&#160;2020:&#160;39th&#160;Annual<br/>International&#160;Conference&#160;on&#160;the&#160;Theory&#160;and&#160;Applications&#160;of&#160;Cryptographic&#160;Techniques,&#160;Zagreb,&#160;Croatia,&#160;May&#160;10‚Äì14,&#160;2020,<br/>Proceedings,&#160;Part&#160;I&#160;39.&#160;Springer,&#160;738‚Äì768.<br/>
[23]&#160;Lambda&#160;Class.&#160;2023.&#160;lambdaworks.&#160;<a href="https://github.com/lambdaclass/lambdaworks">https://github.com/lambdaclass/lambdaworks<br/></a>[24]&#160;James&#160;W&#160;Cooley&#160;and&#160;John&#160;W&#160;Tukey.&#160;1965.&#160;An&#160;algorithm&#160;for&#160;the&#160;machine&#160;calculation&#160;of&#160;complex&#160;Fourier&#160;series.<br/>
Mathematics&#160;of&#160;computation&#160;19,&#160;90&#160;(1965),&#160;297‚Äì301.<br/>
[25]&#160;Whitfield&#160;Diffie&#160;and&#160;Martin&#160;E&#160;Hellman.&#160;2022.&#160;New&#160;directions&#160;in&#160;cryptography.&#160;In&#160;Democratizing&#160;Cryptography:&#160;The<br/>
Work&#160;of&#160;Whitfield&#160;Diffie&#160;and&#160;Martin&#160;Hellman.&#160;365‚Äì390.<br/>
[26]&#160;Youssef&#160;El&#160;Housni.&#160;2021.&#160;Benchmarking&#160;pairing-friendly&#160;elliptic&#160;curves&#160;libraries.&#160;<a href="https://hackmd.io/@gnark/eccbench">https://hackmd.io/@gnark/eccbench<br/></a>[27]&#160;Youssef&#160;El&#160;Housni&#160;and&#160;Gautam&#160;Botrel.&#160;2022.&#160;EdMSM:&#160;Multi-Scalar-Multiplication&#160;for&#160;SNARKs&#160;and&#160;Faster&#160;Montgomery<br/>
multiplication.&#160;Cryptology&#160;ePrint&#160;Archive&#160;(2022).<br/>
[28]&#160;Privacy&#160;&amp;&#160;Scaling&#160;Explorations.&#160;2023.&#160;halo2&#160;Community&#160;Edition.&#160;<a href="https://github.com/privacy-scaling-explorations/halo2">https://github.com/privacy-scaling-explorations/halo2<br/></a>[29]&#160;Facebook.&#160;2023.&#160;winterfell.&#160;<a href="https://github.com/facebook/winterfell">https://github.com/facebook/winterfell<br/></a>[30]&#160;Filecoin.&#160;2023.&#160;bellperson.&#160;<a href="https://github.com/filecoin-project/bellperson">https://github.com/filecoin-project/bellperson<br/></a>[31]&#160;Georg&#160;Fuchsbauer,&#160;Michele&#160;Orr√π,&#160;and&#160;Yannick&#160;Seurin.&#160;2019.&#160;Aggregate&#160;Cash&#160;Systems:&#160;A&#160;Cryptographic&#160;Investigation<br/>
of&#160;Mimblewimble.&#160;In&#160;EUROCRYPT&#160;2019,&#160;Part&#160;I&#160;(LNCS,&#160;Vol.&#160;11476),&#160;Yuval&#160;Ishai&#160;and&#160;Vincent&#160;Rijmen&#160;(Eds.).&#160;Springer,<br/>Heidelberg,&#160;657‚Äì689.&#160;<a href="https://doi.org/10.1007/978-3-030-17653-2_22">https://doi.org/10.1007/978-3-030-17653-2_22</a><br/>
[32]&#160;Ariel&#160;Gabizon,&#160;Zachary&#160;J&#160;Williamson,&#160;and&#160;Oana&#160;Ciobotaru.&#160;2019.&#160;Plonk:&#160;Permutations&#160;over&#160;lagrange-bases&#160;for<br/>
oecumenical&#160;noninteractive&#160;arguments&#160;of&#160;knowledge.&#160;Cryptology&#160;ePrint&#160;Archive&#160;(2019).<br/>
[33]&#160;Steven&#160;D&#160;Galbraith,&#160;Kenneth&#160;G&#160;Paterson,&#160;and&#160;Nigel&#160;P&#160;Smart.&#160;2008.&#160;Pairings&#160;for&#160;cryptographers.&#160;Discrete&#160;Applied<br/>
Mathematics&#160;156,&#160;16&#160;(2008),&#160;3113‚Äì3121.<br/>
[34]&#160;Rosario&#160;Gennaro&#160;and&#160;Daniel&#160;Wichs.&#160;2013.&#160;Fully&#160;Homomorphic&#160;Message&#160;Authenticators.&#160;In&#160;ASIACRYPT&#160;2013,&#160;Part&#160;II<br/>
(LNCS,&#160;Vol.&#160;8270),&#160;Kazue&#160;Sako&#160;and&#160;Palash&#160;Sarkar&#160;(Eds.).&#160;Springer,&#160;Heidelberg,&#160;301‚Äì320.&#160;<a href="https://doi.org/10.1007/978-3-642-42045-0_16">https://doi.org/10.1007/978-3-</a><br/>
<a href="https://doi.org/10.1007/978-3-642-42045-0_16">642-42045-0_16</a><br/>
[35]&#160;Shafi&#160;Goldwasser,&#160;Silvio&#160;Micali,&#160;and&#160;Charles&#160;Rackoff.&#160;1985.&#160;The&#160;Knowledge&#160;Complexity&#160;of&#160;Interactive&#160;Proof-Systems.&#160;In<br/>
Proceedings&#160;of&#160;the&#160;Seventeenth&#160;Annual&#160;ACM&#160;Symposium&#160;on&#160;Theory&#160;of&#160;Computing&#160;(STOC&#160;‚Äô85).&#160;Association&#160;for&#160;Computing<br/>Machinery,&#160;291‚Äì304.<br/>
[36]&#160;Jens&#160;Groth.&#160;2016.&#160;On&#160;the&#160;size&#160;of&#160;pairing-based&#160;non-interactive&#160;arguments.&#160;In&#160;Advances&#160;in&#160;Cryptology‚ÄìEUROCRYPT<br/>
2016:&#160;35th&#160;Annual&#160;International&#160;Conference&#160;on&#160;the&#160;Theory&#160;and&#160;Applications&#160;of&#160;Cryptographic&#160;Techniques,&#160;Vienna,&#160;Austria,<br/>May&#160;8-12,&#160;2016,&#160;Proceedings,&#160;Part&#160;II&#160;35.&#160;Springer,&#160;305‚Äì326.<br/>
[37]&#160;Daira&#160;Hopwood,&#160;Sean&#160;Bowe,&#160;Taylor&#160;Hornby,&#160;and&#160;Nathan&#160;Wilcox.&#160;2016.&#160;Zcash&#160;protocol&#160;specification.&#160;GitHub:&#160;San<br/>
Francisco,&#160;CA,&#160;USA&#160;4&#160;(2016),&#160;220.<br/>
[38]&#160;iden3.&#160;2021.&#160;snarkjs.&#160;<a href="https://github.com/iden3/snarkjs">https://github.com/iden3/snarkjs<br/></a>[39]&#160;iden3.&#160;2023.&#160;Circom:&#160;Circuit&#160;Compiler&#160;For&#160;ZK&#160;Proving&#160;Systems.&#160;<a href="https://github.com/iden3/circom">https://github.com/iden3/circom</a><br/>
<hr/>
<a name=23></a>zk-Bench:&#160;A&#160;Toolset&#160;for&#160;Comparative&#160;Evaluation<br/>and&#160;Performance&#160;Benchmarking&#160;of&#160;SNARKs<br/>
23<br/>
[40]&#160;Taechan&#160;Kim&#160;and&#160;Razvan&#160;Barbulescu.&#160;2016.&#160;Extended&#160;tower&#160;number&#160;field&#160;sieve:&#160;A&#160;new&#160;complexity&#160;for&#160;the&#160;medium<br/>
prime&#160;case.&#160;In&#160;Advances&#160;in&#160;Cryptology‚ÄìCRYPTO&#160;2016:&#160;36th&#160;Annual&#160;International&#160;Cryptology&#160;Conference,&#160;Santa&#160;Barbara,<br/>CA,&#160;USA,&#160;August&#160;14-18,&#160;2016,&#160;Proceedings,&#160;Part&#160;I.&#160;Springer,&#160;543‚Äì571.<br/>
[41]&#160;Ahmed&#160;Kosba.&#160;2022.&#160;jsnark.&#160;<a href="https://github.com/akosba/jsnark">https://github.com/akosba/jsnark<br/></a>[42]&#160;Matter&#160;Labs.&#160;2023.&#160;bellman&#160;Community&#160;Edition.&#160;<a href="https://github.com/matter-labs/bellman">https://github.com/matter-labs/bellman<br/></a>[43]&#160;Matter&#160;Labs.&#160;2023.&#160;Boojum.&#160;<a href="https://github.com/matter-labs/era-boojum">https://github.com/matter-labs/era-boojum<br/></a>[44]&#160;O1&#160;labs.&#160;2023.&#160;kimchi.&#160;<a href="https://github.com/o1-labs/proof-systems">https://github.com/o1-labs/proof-systems<br/></a>[45]&#160;O1&#160;labs.&#160;2023.&#160;snarky.&#160;<a href="https://github.com/o1-labs/snarky">https://github.com/o1-labs/snarky<br/></a>[46]&#160;O1&#160;labs.&#160;2023.&#160;snarkyjs.&#160;<a href="https://github.com/o1-labs/snarkyjs">https://github.com/o1-labs/snarkyjs<br/></a>[47]&#160;Patrick&#160;Longa.&#160;2023.&#160;Efficient&#160;Algorithms&#160;for&#160;Large&#160;Prime&#160;Characteristic&#160;Fields&#160;and&#160;Their&#160;Application&#160;to&#160;Bilinear<br/>
Pairings.&#160;IACR&#160;Transactions&#160;on&#160;Cryptographic&#160;Hardware&#160;and&#160;Embedded&#160;Systems&#160;(2023),&#160;445‚Äì472.<br/>
[48]&#160;Mary&#160;Maller,&#160;Sean&#160;Bowe,&#160;Markulf&#160;Kohlweiss,&#160;and&#160;Sarah&#160;Meiklejohn.&#160;2019.&#160;Sonic:&#160;Zero-knowledge&#160;SNARKs&#160;from<br/>
linear-size&#160;universal&#160;and&#160;updatable&#160;structured&#160;reference&#160;strings.&#160;In&#160;Proceedings&#160;of&#160;the&#160;2019&#160;ACM&#160;SIGSAC&#160;Conference&#160;on<br/>Computer&#160;and&#160;Communications&#160;Security.&#160;2111‚Äì2128.<br/>
[49]&#160;Alfred&#160;Menezes,&#160;Palash&#160;Sarkar,&#160;and&#160;Shashank&#160;Singh.&#160;2017.&#160;Challenges&#160;with&#160;assessing&#160;the&#160;impact&#160;of&#160;NFS&#160;advances<br/>
on&#160;the&#160;security&#160;of&#160;pairing-based&#160;cryptography.&#160;In&#160;Paradigms&#160;in&#160;Cryptology‚ÄìMycrypt&#160;2016.&#160;Malicious&#160;and&#160;Exploratory<br/>Cryptology:&#160;Second&#160;International&#160;Conference,&#160;Mycrypt&#160;2016,&#160;Kuala&#160;Lumpur,&#160;Malaysia,&#160;December&#160;1-2,&#160;2016,&#160;Revised&#160;Selected<br/>Papers.&#160;Springer,&#160;83‚Äì108.<br/>
[50]&#160;Alfred&#160;Menezes,&#160;Scott&#160;Vanstone,&#160;and&#160;Tatsuaki&#160;Okamoto.&#160;1991.&#160;Reducing&#160;Elliptic&#160;Curve&#160;Logarithms&#160;to&#160;Logarithms<br/>
in&#160;a&#160;Finite&#160;Field.&#160;In&#160;Proceedings&#160;of&#160;the&#160;Twenty-Third&#160;Annual&#160;ACM&#160;Symposium&#160;on&#160;Theory&#160;of&#160;Computing&#160;(New&#160;Orleans,<br/>Louisiana,&#160;USA)&#160;(STOC&#160;‚Äô91).&#160;Association&#160;for&#160;Computing&#160;Machinery,&#160;New&#160;York,&#160;NY,&#160;USA,&#160;80‚Äì89.&#160;<a href="https://doi.org/10.1145/103418.103434">https://doi.org/10.<br/>1145/103418.103434</a><br/>
[51]&#160;Valeria&#160;Nikolaenko,&#160;Sam&#160;Ragsdale,&#160;Joseph&#160;Bonneau,&#160;and&#160;Dan&#160;Boneh.&#160;2022.&#160;Powers-of-Tau&#160;to&#160;the&#160;People:&#160;Decentralizing<br/>
Setup&#160;Ceremonies.&#160;Cryptology&#160;ePrint&#160;Archive&#160;(2022).<br/>
[52]&#160;European&#160;Network&#160;of&#160;Excellence&#160;for&#160;Cryptology.&#160;2006.&#160;eBATS:&#160;ECRYPT&#160;Benchmarking&#160;of&#160;Asymmetric&#160;Systems.&#160;<a href="https://www.ecrypt.eu.org/ebats/">https:</a><br/>
<a href="https://www.ecrypt.eu.org/ebats/">//www.ecrypt.eu.org/ebats/</a><br/>
[53]&#160;Alex&#160;Ozdemir,&#160;Riad&#160;Wahby,&#160;Barry&#160;Whitehat,&#160;and&#160;Dan&#160;Boneh.&#160;2020.&#160;Scaling&#160;verifiable&#160;computation&#160;using&#160;efficient&#160;set<br/>
accumulators.&#160;In&#160;29th&#160;USENIX&#160;Security&#160;Symposium&#160;(USENIX&#160;Security&#160;20).&#160;2075‚Äì2092.<br/>
[54]&#160;Bryan&#160;Parno,&#160;Jon&#160;Howell,&#160;Craig&#160;Gentry,&#160;and&#160;Mariana&#160;Raykova.&#160;2013.&#160;Pinocchio:&#160;Nearly&#160;Practical&#160;Verifiable&#160;Computation.<br/>
In&#160;2013&#160;IEEE&#160;Symposium&#160;on&#160;Security&#160;and&#160;Privacy.&#160;IEEE&#160;Computer&#160;Society&#160;Press,&#160;238‚Äì252.&#160;<a href="https://doi.org/10.1109/SP.2013.47">https://doi.org/10.1109/SP.<br/>2013.47</a><br/>
[55]&#160;Bryan&#160;Parno,&#160;Jon&#160;Howell,&#160;Craig&#160;Gentry,&#160;and&#160;Mariana&#160;Raykova.&#160;2016.&#160;Pinocchio:&#160;Nearly&#160;practical&#160;verifiable&#160;computation.<br/>
Commun.&#160;ACM&#160;59,&#160;2&#160;(2016),&#160;103‚Äì112.<br/>
[56]&#160;Geovandro&#160;CCF&#160;Pereira,&#160;Marcos&#160;A&#160;Simpl√≠cio&#160;Jr,&#160;Michael&#160;Naehrig,&#160;and&#160;Paulo&#160;SLM&#160;Barreto.&#160;2011.&#160;A&#160;family&#160;of<br/>
implementation-friendly&#160;BN&#160;elliptic&#160;curves.&#160;Journal&#160;of&#160;Systems&#160;and&#160;Software&#160;84,&#160;8&#160;(2011),&#160;1319‚Äì1326.<br/>
[57]&#160;Nicholas&#160;Pippenger.&#160;2022.&#160;A&#160;Formula&#160;for&#160;the&#160;Determinant.&#160;CoRR&#160;abs/2206.00134&#160;(2022).&#160;<a href="https://doi.org/10.48550/arXiv.2206.00134">https://doi.org/10.48550/</a><br/>
<a href="https://doi.org/10.48550/arXiv.2206.00134">arXiv.2206.00134&#160;</a><a href="https://arxiv.org/abs/2206.00134">arXiv:2206.00134</a><br/>
[58]&#160;Plonky3.&#160;2023.&#160;Plonky3.&#160;<a href="https://github.com/Plonky3/Plonky3">https://github.com/Plonky3/Plonky3<br/></a>[59]&#160;Mir&#160;Protocol.&#160;2023.&#160;Plonky2.&#160;<a href="https://github.com/mir-protocol/plonky2">https://github.com/mir-protocol/plonky2<br/></a>[60]&#160;Eli&#160;Ben&#160;Sasson,&#160;Alessandro&#160;Chiesa,&#160;Christina&#160;Garman,&#160;Matthew&#160;Green,&#160;Ian&#160;Miers,&#160;Eran&#160;Tromer,&#160;and&#160;Madars&#160;Virza.<br/>
2014.&#160;Zerocash:&#160;Decentralized&#160;anonymous&#160;payments&#160;from&#160;bitcoin.&#160;In&#160;2014&#160;IEEE&#160;symposium&#160;on&#160;security&#160;and&#160;privacy.<br/>IEEE,&#160;459‚Äì474.<br/>
[61]&#160;scipt&#160;lab.&#160;2020.&#160;libsnark.&#160;<a href="https://github.com/scipr-lab/libsnark">https://github.com/scipr-lab/libsnark<br/></a>[62]&#160;scipt&#160;lab.&#160;2021.&#160;libiop.&#160;<a href="https://github.com/scipr-lab/libiop">https://github.com/scipr-lab/libiop<br/></a>[63]&#160;Srinath&#160;Setty,&#160;Justin&#160;Thaler,&#160;and&#160;Riad&#160;Wahby.&#160;2023.&#160;Customizable&#160;constraint&#160;systems&#160;for&#160;succinct&#160;arguments.&#160;Cryptology<br/>
ePrint&#160;Archive&#160;(2023).<br/>
[64]&#160;Espresso&#160;Systems.&#160;2023.&#160;jellyfish.&#160;<a href="https://github.com/EspressoSystems/jellyfish">https://github.com/EspressoSystems/jellyfish<br/></a>[65]&#160;Psi&#160;Vesely,&#160;Kobi&#160;Gurkan,&#160;Michael&#160;Straka,&#160;Ariel&#160;Gabizon,&#160;Philipp&#160;Jovanovic,&#160;Georgios&#160;Konstantopoulos,&#160;Asa&#160;Oines,<br/>
Marek&#160;Olszewski,&#160;and&#160;Eran&#160;Tromer.&#160;2022.&#160;Plumo:&#160;An&#160;ultralight&#160;blockchain&#160;client.&#160;In&#160;International&#160;Conference&#160;on<br/>Financial&#160;Cryptography&#160;and&#160;Data&#160;Security.&#160;Springer,&#160;597‚Äì614.<br/>
[66]&#160;Lawrence&#160;C&#160;Washington.&#160;2008.&#160;Elliptic&#160;curves:&#160;number&#160;theory&#160;and&#160;cryptography.&#160;CRC&#160;press.<br/>[67]&#160;Tiancheng&#160;Xie,&#160;Jiaheng&#160;Zhang,&#160;Zerui&#160;Cheng,&#160;Fan&#160;Zhang,&#160;Yupeng&#160;Zhang,&#160;Yongzheng&#160;Jia,&#160;Dan&#160;Boneh,&#160;and&#160;Dawn&#160;Song.<br/>
2022.&#160;zkbridge:&#160;Trustless&#160;cross-chain&#160;bridges&#160;made&#160;practical.&#160;In&#160;Proceedings&#160;of&#160;the&#160;2022&#160;ACM&#160;SIGSAC&#160;Conference&#160;on<br/>Computer&#160;and&#160;Communications&#160;Security.&#160;3003‚Äì3017.<br/>
[68]&#160;ZCash.&#160;2023.&#160;halo2.&#160;<a href="https://github.com/zcash/halo2">https://github.com/zcash/halo2<br/></a>[69]&#160;zkcrypto.&#160;2023.&#160;bellman:&#160;zk-SNARK&#160;library.&#160;<a href="https://github.com/zkcrypto/bellman">https://github.com/zkcrypto/bellman</a><br/>
<hr/>
<a name=24></a>24<br/>
Ernstberger,&#160;et&#160;al.<br/>
128<br/>
64<br/>
Frameworks<br/>
Curves<br/>
32<br/>
bellman<br/>
bn254<br/>
16<br/>
gnark<br/>
bls12_381<br/>
8<br/>
circom/snarkjs<br/>
goldilocks<br/>
4<br/>
circom/rapidsnark<br/>
2<br/>
halo2_pse<br/>
1<br/>
<b>Setup/</b>&#160;<br/>
starky<br/>
&#160;<b>GenerateTrace</b>&#160;&#160;&#160;RAM (GB)<br/>
128<br/>
64<br/>
32<br/>
168421<br/>
<b>Prove</b>&#160;&#160;&#160;&#160;&#160;RAM (GB)<br/>
128<br/>
64<br/>
32<br/>
168421<br/>
<b>Verify</b>&#160;&#160;&#160;&#160;&#160;RAM (GB)<br/>
210&#160;211&#160;212&#160;213&#160;214&#160;215&#160;216&#160;217&#160;218&#160;219&#160;220&#160;221&#160;222&#160;223&#160;224<br/>
210&#160;211&#160;212&#160;213&#160;214&#160;215&#160;216&#160;217&#160;218&#160;219&#160;220&#160;221&#160;222&#160;223&#160;224<br/>
210&#160;211&#160;212&#160;213&#160;214&#160;215&#160;216&#160;217&#160;218&#160;219&#160;220&#160;221&#160;222&#160;223&#160;224<br/>
&#160;Number of constraints&#160;<br/>
&#160;Number of constraints&#160;<br/>
&#160;Number of constraints&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<br/>
&#160;<b>(a)</b>&#160;Groth16<br/>
&#160;<b>(b)</b>&#160;Plonk&#160;/&#160;Halo2<br/>
&#160;<b>(c)</b>&#160;Starky<br/>
Fig.&#160;11.&#160;Memory&#160;consumption&#160;of&#160;Exponentiate&#160;circuit&#160;on&#160;m6i.8xlarge.&#160;The&#160;memory&#160;consumption&#160;of&#160;Circom&#160;is<br/>constant&#160;for&#160;verification&#160;as&#160;the&#160;API&#160;provided&#160;by&#160;Circom&#160;demands&#160;for&#160;deserializatioin&#160;of&#160;verification&#160;key,&#160;public,<br/>and&#160;proof,&#160;which&#160;are&#160;relatively&#160;small.&#160;For&#160;other&#160;ZKP&#160;tools&#160;and&#160;libraries,&#160;the&#160;API&#160;demands&#160;for&#160;deserialization<br/>of&#160;parameter&#160;files&#160;that&#160;grow&#160;in&#160;size&#160;with&#160;size&#160;of&#160;the&#160;circuit.&#160;Memory&#160;consumption&#160;for&#160;serialization&#160;of&#160;starky&#160;is<br/>missing&#160;due&#160;to&#160;non-existent&#160;serialization&#160;APIs,&#160;at&#160;the&#160;time&#160;of&#160;writing.<br/>
A<br/>
SNARK&#160;AND&#160;STARK&#160;LIBRARIES<br/>
Table&#160;4.&#160;Overview&#160;of&#160;the&#160;popularity&#160;of&#160;common&#160;SNARK&#160;and&#160;STARK&#160;frameworks.&#160;(F)rontend&#160;and&#160;(B)ackend<br/>of&#160;related&#160;frameworks&#160;are&#160;grouped&#160;together.&#160;Updated&#160;as&#160;of&#160;1st&#160;of&#160;August&#160;2023.<br/>
Project<br/>
F<br/>
B<br/>
#&#160;Stars<br/>
Last&#160;Update<br/>
Project<br/>
F<br/>
B<br/>
#&#160;Stars<br/>
Last&#160;Update<br/>
libsnark&#160;<a href="2023-1503s.html#23">[61]</a><br/>
&#160;<br/>
1668<br/>
07/2020<br/>
Kimchi&#160;/&#160;O(1)&#160;Labs&#160;<a href="2023-1503s.html#23">[44]</a><br/>
&#160;<br/>
299<br/>
07/2023<br/>
jsnark&#160;<a href="2023-1503s.html#23">[41]</a><br/>
&#160;<br/>
191<br/>
12/2022<br/>
libstark&#160;<a href="2023-1503s.html#21">[7]</a><br/>
&#160;<br/>
448<br/>
11/2018<br/>
snarkjs&#160;<a href="2023-1503s.html#22">[38]</a><br/>
&#160;<br/>
1471<br/>
06/2023<br/>
halo2&#160;/&#160;ZCash&#160;<a href="2023-1503s.html#23">[68]</a><br/>
&#160;&#160;&#160;<br/>
457<br/>
07/2023<br/>
circom&#160;<a href="2023-1503s.html#22">[39]</a><br/>
&#160;<br/>
921<br/>
06/2023<br/>
lambdaworks&#160;<a href="2023-1503s.html#22">[23]</a><br/>
350<br/>
07/2023<br/>
gnark&#160;<a href="2023-1503s.html#22">[17]</a><br/>
&#160;&#160;&#160;<br/>
1034<br/>
07/2023<br/>
jellyfish&#160;/&#160;Espresso&#160;Systems&#160;<a href="2023-1503s.html#23">[64]</a><br/>
&#160;&#160;&#160;<br/>
271<br/>
07/2023<br/>
Bellman&#160;/&#160;zkcrypto&#160;<a href="2023-1503s.html#23">[69]</a><br/>
&#160;&#160;&#160;<br/>
814<br/>
03/2023<br/>
boojum&#160;<a href="2023-1503s.html#23">[43]</a><br/>
&#160;&#160;&#160;<br/>
170<br/>
07/2023<br/>
arkworks&#160;<a href="2023-1503s.html#21">[2]</a><br/>
&#160;&#160;&#160;<br/>
713<br/>
05/2023<br/>
bellperson&#160;/&#160;filecoin&#160;<a href="2023-1503s.html#22">[30]</a><br/>
&#160;&#160;&#160;<br/>
158<br/>
07/2023<br/>
Winterfell&#160;/&#160;Meta&#160;<a href="2023-1503s.html#22">[29]</a><br/>
&#160;&#160;&#160;<br/>
623<br/>
07/2023<br/>
bellman_ce&#160;/&#160;matter&#160;labs&#160;<a href="2023-1503s.html#23">[42]</a><br/>
&#160;&#160;&#160;<br/>
138<br/>
04/2023<br/>
plonky2&#160;<a href="2023-1503s.html#23">[59]</a><br/>
&#160;&#160;&#160;<br/>
534<br/>
07/2023<br/>
libiop&#160;<a href="2023-1503s.html#23">[62]</a><br/>
&#160;<br/>
127<br/>
05/2021<br/>
snarky&#160;<a href="2023-1503s.html#23">[45]</a><br/>
&#160;<br/>
496<br/>
05/2023<br/>
plonky3&#160;<a href="2023-1503s.html#23">[58]</a><br/>
138<br/>
07/2023<br/>
snarkyjs&#160;<a href="2023-1503s.html#23">[46]</a><br/>
&#160;<br/>
338<br/>
07/2023<br/>
halo2_ce&#160;<a href="2023-1503s.html#22">[28]&#160;</a>/&#160;PSE<br/>
&#160;&#160;&#160;<br/>
116<br/>
07/2023<br/>
Table&#160;<a href="2023-1503s.html#24">4&#160;</a>presents&#160;a&#160;comprehensive&#160;overview&#160;of&#160;the&#160;most&#160;prevalent&#160;SNARK&#160;and&#160;STARK&#160;frameworks<br/>
used&#160;in&#160;the&#160;development&#160;of&#160;Zero-Knowledge&#160;Proof&#160;(ZKP)&#160;programs.&#160;Each&#160;toolchain&#160;typically<br/>encompasses&#160;both&#160;a&#160;front-end&#160;and&#160;a&#160;back-end,&#160;often&#160;provided&#160;by&#160;the&#160;same&#160;framework.&#160;However,<br/>there&#160;are&#160;exceptions&#160;to&#160;this&#160;pattern,&#160;such&#160;as&#160;iden3‚Äôs&#160;Circom&#160;project.&#160;In&#160;this&#160;case,&#160;Circom&#160;serves&#160;as<br/>the&#160;front-end,&#160;while&#160;either&#160;snarkjs&#160;or&#160;rapidsnark&#160;(offering&#160;only&#160;proving&#160;capabilities)&#160;function&#160;as&#160;the<br/>back-ends.<br/>
Beyond&#160;showcasing&#160;the&#160;structural&#160;composition&#160;of&#160;these&#160;toolchains,&#160;Table&#160;<a href="2023-1503s.html#24">4&#160;</a>offers&#160;insights&#160;into<br/>
each&#160;project‚Äôs&#160;popularity&#160;and&#160;activity&#160;level.&#160;This&#160;is&#160;gauged&#160;through&#160;the&#160;number&#160;of&#160;GitHub&#160;stars<br/>
<hr/>
<a name=25></a>zk-Bench:&#160;A&#160;Toolset&#160;for&#160;Comparative&#160;Evaluation<br/>and&#160;Performance&#160;Benchmarking&#160;of&#160;SNARKs<br/>
25<br/>
Table&#160;5.&#160;Coefficient&#160;of&#160;Variation&#160;(CV)&#160;for&#160;multiplication&#160;and&#160;addition&#160;in&#160;BN254&#160;and&#160;BLS12-381.&#160;Distributions<br/>of&#160;CV&#160;&lt;&#160;1&#160;can&#160;be&#160;considered&#160;low-variance,&#160;while&#160;those&#160;with&#160;CV&#160;&gt;&#160;1&#160;can&#160;be&#160;considered&#160;high&#160;variance.<br/>
machine<br/>
library<br/>
curve<br/>
operation<br/>
cv<br/>
machine<br/>
library<br/>
curve<br/>
operation<br/>
cv<br/>
m5.2xlarge<br/>
arkworks_curves<br/>
bls12_381<br/>
add<br/>
0.117896<br/>
add<br/>
0.106811<br/>
zkcrypto<br/>
bls12_381<br/>
mul<br/>
0.149145<br/>
pairing_ce<br/>
bn254<br/>
mul<br/>
0.032653<br/>
add<br/>
0.145491<br/>
add<br/>
0.044894<br/>
pairing_ce<br/>
bn254<br/>
mul<br/>
0.186713<br/>
bls12_381<br/>
mul<br/>
0.030930<br/>
add<br/>
0.448729<br/>
halo2_curves<br/>
bn254<br/>
mul<br/>
0.021249<br/>
bls12_381<br/>
add<br/>
0.420041<br/>
arkworks_curves<br/>
bls12_381<br/>
mul<br/>
0.045578<br/>
halo2_curves<br/>
bn254<br/>
mul<br/>
0.173454<br/>
blstrs<br/>
bls12_381<br/>
mul<br/>
1.417817<br/>
pairing_ce<br/>
bls12_381<br/>
mul<br/>
0.085221<br/>
add<br/>
0.066837<br/>
blstrs<br/>
bls12_381<br/>
mul<br/>
0.614840<br/>
arkworks_curves<br/>
bn254<br/>
mul<br/>
0.050363<br/>
add<br/>
0.604633<br/>
add<br/>
0.082494<br/>
arkworks_curves<br/>
bn254<br/>
mul<br/>
0.071497<br/>
bls12_381<br/>
add<br/>
0.426573<br/>
add<br/>
0.085387<br/>
halo2_curves<br/>
bn254<br/>
add<br/>
0.104693<br/>
bls12_381<br/>
mul<br/>
0.521088<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bn254<br/>
mul<br/>
0.217116<br/>
halo2_curves<br/>
bn254<br/>
add<br/>
0.227429<br/>
add<br/>
0.198308<br/>
m5.large<br/>
pairing_ce<br/>
bn254<br/>
add<br/>
2.528118<br/>
bls12_381<br/>
mul<br/>
0.210383<br/>
zkcrypto<br/>
bls12_381<br/>
mul<br/>
2.482617<br/>
add<br/>
0.206211<br/>
add<br/>
2.054006<br/>
halo2_curves<br/>
bn254<br/>
mul<br/>
0.390493<br/>
pairing_ce<br/>
bn254<br/>
mul<br/>
4.200262<br/>
add<br/>
0.074193<br/>
bls12_381<br/>
mul<br/>
4.407481<br/>
arkworks_curves<br/>
bn254<br/>
mul<br/>
0.421921<br/>
blstrs<br/>
bls12_381<br/>
mul<br/>
4.097602<br/>
blstrs<br/>
bls12_381<br/>
add<br/>
0.061124<br/>
halo2_curves<br/>
bn254<br/>
mul<br/>
4.059257<br/>
arkworks_curves<br/>
bn254<br/>
add<br/>
0.065893<br/>
add<br/>
1.510318<br/>
bls12_381<br/>
mul<br/>
0.071483<br/>
blstrs<br/>
bls12_381<br/>
add<br/>
0.778731<br/>
add<br/>
0.063589<br/>
pairing_ce<br/>
bls12_381<br/>
add<br/>
1.366626<br/>
zkcrypto<br/>
bls12_381<br/>
add<br/>
0.075747<br/>
m6g.8xlarge<br/>
pairing_ce<br/>
bls12_381<br/>
add<br/>
0.351906<br/>
blstrs<br/>
bls12_381<br/>
mul<br/>
0.146054<br/>
zkcrypto<br/>
bls12_381<br/>
mul<br/>
0.161643<br/>
zkcrypto<br/>
bls12_381<br/>
mul<br/>
0.300691<br/>
each&#160;project&#160;has&#160;accumulated&#160;-&#160;a&#160;measure&#160;of&#160;community&#160;endorsement&#160;-&#160;as&#160;well&#160;as&#160;the&#160;date&#160;of&#160;the<br/>last&#160;commit,&#160;indicating&#160;the&#160;project‚Äôs&#160;recent&#160;activity&#160;and&#160;ongoing&#160;maintenance&#160;efforts.<br/>
B<br/>
DATA&#160;VALIDATION<br/>
To&#160;validate&#160;the&#160;data&#160;we&#160;obtained&#160;from&#160;the&#160;respective&#160;machines,&#160;we&#160;measure&#160;the&#160;standard&#160;deviation<br/>
ùúá&#160;and&#160;mean&#160;ùúé&#160;of&#160;all&#160;operations&#160;to&#160;calculate&#160;the&#160;coefficient&#160;of&#160;variation,&#160;a&#160;statistical&#160;measure&#160;that<br/>is&#160;defined&#160;as&#160;the&#160;ratio&#160;of&#160;the&#160;standard&#160;deviation&#160;to&#160;the&#160;mean,&#160;allowing&#160;us&#160;to&#160;compare&#160;the&#160;relative<br/>
variability&#160;across&#160;datasets&#160;and&#160;machines.&#160;We&#160;present&#160;the&#160;coefficient&#160;of&#160;variation&#160;for&#160;field&#160;addition&#160;and<br/>multiplication&#160;in&#160;Table&#160;<a href="2023-1503s.html#25">5,&#160;</a>and&#160;the&#160;coefficient&#160;of&#160;variation&#160;for&#160;MSM&#160;on&#160;AWS&#160;m6i.8xlarge&#160;in&#160;Table&#160;<a href="2023-1503s.html#26">6.<br/></a>We&#160;find&#160;that&#160;the&#160;mean&#160;of&#160;the&#160;coefficient&#160;of&#160;variation&#160;is&#160;‚âà&#160;0.39,&#160;which&#160;indicates&#160;relatively&#160;low<br/>variability&#160;We&#160;observe,&#160;that&#160;especially&#160;the&#160;smallest&#160;instance,&#160;m5.large,&#160;incurs&#160;a&#160;large&#160;coefficient&#160;of<br/>variation&#160;across&#160;different&#160;libraries&#160;and&#160;operations,&#160;which&#160;indicates&#160;that&#160;the&#160;samples&#160;taken&#160;from&#160;this<br/>machine&#160;are&#160;relatively&#160;inconsistent.&#160;For&#160;MSM,&#160;we&#160;observe&#160;the&#160;mean&#160;of&#160;the&#160;coefficient&#160;of&#160;variation&#160;to<br/>be&#160;‚âà&#160;1.34&#160;for&#160;MSM&#160;in&#160;G1&#160;and&#160;‚âà&#160;1.02&#160;for&#160;MSM&#160;in&#160;G2&#160;respectively,&#160;which&#160;signifies&#160;larger&#160;variability&#160;in<br/>the&#160;sampled&#160;data.&#160;We&#160;urge&#160;for&#160;further&#160;investigation&#160;to&#160;draw&#160;conclusions&#160;on&#160;whether&#160;this&#160;variability<br/>is&#160;introduced&#160;by&#160;on-demand&#160;server&#160;infrastructure.<br/>
<hr/>
<a name=26></a>26<br/>
Ernstberger,&#160;et&#160;al.<br/>
Table&#160;6.&#160;Coefficient&#160;of&#160;Variation&#160;(CV)&#160;for&#160;multiplication&#160;and&#160;addition&#160;in&#160;BN254&#160;and&#160;BLS12-381.&#160;Distributions<br/>of&#160;CV&#160;&lt;&#160;1&#160;can&#160;be&#160;considered&#160;low-variance,&#160;while&#160;those&#160;with&#160;CV&#160;&gt;&#160;1&#160;can&#160;be&#160;considered&#160;high&#160;variance.<br/>
machine<br/>
library<br/>
curve<br/>
operation<br/>
size<br/>
cv<br/>
machine<br/>
library<br/>
curve<br/>
operation<br/>
size<br/>
cv<br/>
m6i.8xlarge<br/>
arkworks<br/>
bls12_381<br/>
msm_G1<br/>
2<br/>
1.023519<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
4<br/>
1.886335<br/>
m6i.8xlarge<br/>
arkworks<br/>
bls12_381<br/>
msm_G1<br/>
4<br/>
1.032269<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
8<br/>
1.301629<br/>
m6i.8xlarge<br/>
arkworks<br/>
bls12_381<br/>
msm_G1<br/>
8<br/>
0.670592<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
16<br/>
0.869819<br/>
m6i.8xlarge<br/>
arkworks<br/>
bls12_381<br/>
msm_G1<br/>
16<br/>
0.925825<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
2<br/>
1.657673<br/>
m6i.8xlarge<br/>
arkworks<br/>
bls12_381<br/>
msm_G1<br/>
2<br/>
1.319842<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
64<br/>
1.091215<br/>
m6i.8xlarge<br/>
arkworks<br/>
bls12_381<br/>
msm_G1<br/>
64<br/>
1.005520<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
128<br/>
0.864722<br/>
m6i.8xlarge<br/>
arkworks<br/>
bls12_381<br/>
msm_G1<br/>
128<br/>
1.536985<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
256<br/>
0.582581<br/>
m6i.8xlarge<br/>
arkworks<br/>
bls12_381<br/>
msm_G1<br/>
256<br/>
0.929388<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
512<br/>
3.099921<br/>
m6i.8xlarge<br/>
arkworks<br/>
bls12_381<br/>
msm_G1<br/>
512<br/>
1.158935<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
1024<br/>
3.295864<br/>
m6i.8xlarge<br/>
arkworks<br/>
bls12_381<br/>
msm_G1<br/>
1024<br/>
1.261890<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
2048<br/>
0.941437<br/>
m6i.8xlarge<br/>
arkworks<br/>
bls12_381<br/>
msm_G1<br/>
2048<br/>
1.400382<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
4096<br/>
0.878906<br/>
m6i.8xlarge<br/>
arkworks<br/>
bls12_381<br/>
msm_G1<br/>
4096<br/>
1.264280<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
8192<br/>
1.770486<br/>
m6i.8xlarge<br/>
arkworks<br/>
bls12_381<br/>
msm_G1<br/>
8192<br/>
2.557883<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
16384<br/>
0.505038<br/>
m6i.8xlarge<br/>
arkworks<br/>
bls12_381<br/>
msm_G1<br/>
16384<br/>
3.694018<br/>
m6i.8xlarge<br/>
arkworks<br/>
bls12_381<br/>
msm_G1<br/>
2768<br/>
2.656017<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
2768<br/>
0.247747<br/>
m6i.8xlarge<br/>
arkworks<br/>
bls12_381<br/>
msm_G1<br/>
65536<br/>
0.207187<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
65536<br/>
0.163440<br/>
m6i.8xlarge<br/>
arkworks<br/>
bls12_381<br/>
msm_G1<br/>
131072<br/>
0.402804<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
131072<br/>
2.003160<br/>
m6i.8xlarge<br/>
arkworks<br/>
bls12_381<br/>
msm_G1<br/>
262144<br/>
1.885476<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
262144<br/>
1.005785<br/>
m6i.8xlarge<br/>
arkworks<br/>
bls12_381<br/>
msm_G1<br/>
524288<br/>
1.218963<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
524288<br/>
2.797046<br/>
m6i.8xlarge<br/>
arkworks<br/>
bls12_381<br/>
msm_G1<br/>
1048576<br/>
1.294875<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
1048576<br/>
0.969073<br/>
m6i.8xlarge<br/>
arkworks<br/>
bls12_381<br/>
msm_G1<br/>
2097152<br/>
1.346189<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
2097152<br/>
4.846506<br/>
m6i.8xlarge<br/>
blstrs<br/>
bls12_381<br/>
msm_G1<br/>
2<br/>
0.044488<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
2<br/>
0.842366<br/>
m6i.8xlarge<br/>
blstrs<br/>
bls12_381<br/>
msm_G1<br/>
4<br/>
0.390781<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
4<br/>
1.521145<br/>
m6i.8xlarge<br/>
blstrs<br/>
bls12_381<br/>
msm_G1<br/>
8<br/>
0.056672<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
8<br/>
1.372733<br/>
m6i.8xlarge<br/>
blstrs<br/>
bls12_381<br/>
msm_G1<br/>
16<br/>
0.043823<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
16<br/>
1.068469<br/>
m6i.8xlarge<br/>
blstrs<br/>
bls12_381<br/>
msm_G1<br/>
2<br/>
0.359884<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
2<br/>
1.414223<br/>
m6i.8xlarge<br/>
blstrs<br/>
bls12_381<br/>
msm_G1<br/>
64<br/>
0.303458<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
64<br/>
1.190394<br/>
m6i.8xlarge<br/>
blstrs<br/>
bls12_381<br/>
msm_G1<br/>
128<br/>
0.472966<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
128<br/>
1.026420<br/>
m6i.8xlarge<br/>
blstrs<br/>
bls12_381<br/>
msm_G1<br/>
256<br/>
0.922661<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
256<br/>
0.478278<br/>
m6i.8xlarge<br/>
blstrs<br/>
bls12_381<br/>
msm_G1<br/>
512<br/>
0.609237<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
512<br/>
1.378518<br/>
m6i.8xlarge<br/>
blstrs<br/>
bls12_381<br/>
msm_G1<br/>
1024<br/>
2.029009<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
1024<br/>
2.168509<br/>
m6i.8xlarge<br/>
blstrs<br/>
bls12_381<br/>
msm_G1<br/>
2048<br/>
0.741856<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
2048<br/>
1.135775<br/>
m6i.8xlarge<br/>
blstrs<br/>
bls12_381<br/>
msm_G1<br/>
4096<br/>
0.366328<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
4096<br/>
0.777476<br/>
m6i.8xlarge<br/>
blstrs<br/>
bls12_381<br/>
msm_G1<br/>
8192<br/>
0.289558<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
8192<br/>
0.947085<br/>
m6i.8xlarge<br/>
blstrs<br/>
bls12_381<br/>
msm_G1<br/>
16384<br/>
0.687239<br/>
m6i.8xlarge<br/>
blstrs<br/>
bls12_381<br/>
msm_G1<br/>
2768<br/>
0.081350<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
16384<br/>
0.219800<br/>
m6i.8xlarge<br/>
blstrs<br/>
bls12_381<br/>
msm_G1<br/>
65536<br/>
0.130423<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
2768<br/>
0.171549<br/>
m6i.8xlarge<br/>
blstrs<br/>
bls12_381<br/>
msm_G1<br/>
131072<br/>
0.138213<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
65536<br/>
0.579498<br/>
m6i.8xlarge<br/>
blstrs<br/>
bls12_381<br/>
msm_G1<br/>
262144<br/>
0.533823<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
131072<br/>
0.471684<br/>
m6i.8xlarge<br/>
blstrs<br/>
bls12_381<br/>
msm_G1<br/>
524288<br/>
3.483468<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
262144<br/>
1.522305<br/>
m6i.8xlarge<br/>
blstrs<br/>
bls12_381<br/>
msm_G1<br/>
1048576<br/>
4.161291<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
524288<br/>
3.603968<br/>
m6i.8xlarge<br/>
blstrs<br/>
bls12_381<br/>
msm_G1<br/>
2097152<br/>
2.618671<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
1048576<br/>
1.214127<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bls12_381<br/>
msm_G1<br/>
1<br/>
0.865825<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
2097152<br/>
4.754687<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bls12_381<br/>
msm_G1<br/>
2<br/>
0.982300<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bn254<br/>
msm_G1<br/>
1<br/>
0.641293<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bls12_381<br/>
msm_G1<br/>
4<br/>
0.835601<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bn254<br/>
msm_G1<br/>
2<br/>
0.602851<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bls12_381<br/>
msm_G1<br/>
8<br/>
0.717361<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bn254<br/>
msm_G1<br/>
4<br/>
0.911040<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bls12_381<br/>
msm_G1<br/>
16<br/>
1.127157<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bn254<br/>
msm_G1<br/>
8<br/>
0.890320<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bls12_381<br/>
msm_G1<br/>
2<br/>
1.942223<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bn254<br/>
msm_G1<br/>
16<br/>
1.223913<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bls12_381<br/>
msm_G1<br/>
64<br/>
7.285463<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bn254<br/>
msm_G1<br/>
2<br/>
1.186686<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bls12_381<br/>
msm_G1<br/>
128<br/>
0.151263<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bn254<br/>
msm_G1<br/>
64<br/>
1.501231<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bls12_381<br/>
msm_G1<br/>
256<br/>
3.089730<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bn254<br/>
msm_G1<br/>
128<br/>
4.109449<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bls12_381<br/>
msm_G1<br/>
512<br/>
2.877493<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bn254<br/>
msm_G1<br/>
256<br/>
5.544364<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bls12_381<br/>
msm_G1<br/>
1024<br/>
0.285611<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bn254<br/>
msm_G1<br/>
512<br/>
3.752064<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bls12_381<br/>
msm_G1<br/>
2048<br/>
0.231980<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bn254<br/>
msm_G1<br/>
1024<br/>
2.953111<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bls12_381<br/>
msm_G1<br/>
4096<br/>
0.353366<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bls12_381<br/>
msm_G1<br/>
8192<br/>
0.099853<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bn254<br/>
msm_G1<br/>
2048<br/>
0.085942<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bls12_381<br/>
msm_G1<br/>
16384<br/>
0.171358<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bn254<br/>
msm_G1<br/>
4096<br/>
3.174368<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bls12_381<br/>
msm_G1<br/>
2768<br/>
0.058058<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bn254<br/>
msm_G1<br/>
8192<br/>
0.116408<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bls12_381<br/>
msm_G1<br/>
65536<br/>
0.147453<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bn254<br/>
msm_G1<br/>
16384<br/>
0.055445<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bls12_381<br/>
msm_G1<br/>
131072<br/>
0.034668<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bn254<br/>
msm_G1<br/>
2768<br/>
0.091232<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bls12_381<br/>
msm_G1<br/>
262144<br/>
0.081413<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bn254<br/>
msm_G1<br/>
65536<br/>
0.070121<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bls12_381<br/>
msm_G1<br/>
524288<br/>
0.366701<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bn254<br/>
msm_G1<br/>
131072<br/>
0.061525<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bls12_381<br/>
msm_G1<br/>
1048576<br/>
0.724438<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bn254<br/>
msm_G1<br/>
262144<br/>
0.087837<br/>
m6i.8xlarge<br/>
arkworks<br/>
bn254<br/>
msm_G1<br/>
2<br/>
0.848204<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bn254<br/>
msm_G1<br/>
524288<br/>
0.243712<br/>
m6i.8xlarge<br/>
pairing_ce<br/>
bn254<br/>
msm_G1<br/>
1048576<br/>
0.138218<br/>
<hr/>
<a name="outline"></a><h1>Document Outline</h1>
<ul>
<li><a href="2023-1503s.html#1">Abstract</a></li>
<li><a href="2023-1503s.html#1">1 Introduction</a></li>
<li><a href="2023-1503s.html#3">2 Background and Motivation</a>
<ul>
<li><a href="2023-1503s.html#3">2.1 Public-Key Cryptography</a></li>
<li><a href="2023-1503s.html#4">2.2 Zero-Knowledge Proofs (ZKPs)</a></li>
<li><a href="2023-1503s.html#5">2.3 Practical Implementation of Pre-processing SNARKs</a></li>
</ul>
</li>
<li><a href="2023-1503s.html#6">3 Architecture</a>
<ul>
<li><a href="2023-1503s.html#6">3.1 Design Decisions</a></li>
<li><a href="2023-1503s.html#7">3.2 Backend</a></li>
<li><a href="2023-1503s.html#8">3.3 Log Parser</a></li>
<li><a href="2023-1503s.html#8">3.4 Frontend</a></li>
</ul>
</li>
<li><a href="2023-1503s.html#9">4 Selected Arithmetic Libraries and Tools for ZKP Development</a>
<ul>
<li><a href="2023-1503s.html#9">4.1 Arithmetic Libraries</a></li>
<li><a href="2023-1503s.html#10">4.2 Tools for ZKP Development</a></li>
</ul>
</li>
<li><a href="2023-1503s.html#10">5 Benchmark Results</a>
<ul>
<li><a href="2023-1503s.html#10">5.1 Experimental Infrastructure</a></li>
<li><a href="2023-1503s.html#11">5.2 Arithmetics</a></li>
<li><a href="2023-1503s.html#13">5.3 Circuits</a></li>
</ul>
</li>
<li><a href="2023-1503s.html#18">6 Runtime Estimation</a></li>
<li><a href="2023-1503s.html#19">7 Discussion</a>
<ul>
<li><a href="2023-1503s.html#19">7.1 Limitations</a></li>
<li><a href="2023-1503s.html#19">7.2 Recommendations</a></li>
</ul>
</li>
<li><a href="2023-1503s.html#20">8 Related work</a></li>
<li><a href="2023-1503s.html#21">9 Conclusion</a></li>
<li><a href="2023-1503s.html#21">Acknowledgments</a></li>
<li><a href="2023-1503s.html#21">References</a></li>
<li><a href="2023-1503s.html#24">A SNARK and STARK Libraries</a></li>
<li><a href="2023-1503s.html#25">B Data Validation</a></li>
</ul>
<hr/>
</body>
</html>
